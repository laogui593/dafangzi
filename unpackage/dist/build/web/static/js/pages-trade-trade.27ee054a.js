(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-trade-trade"],{"0020":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={name:"m-image",data:function(){return{}},props:{width:{type:String,default:"100%"},height:{type:[String,Number],default:1},src:String}};t.default=i},"081e":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-63bc9907], uni-scroll-view[data-v-63bc9907], uni-swiper-item[data-v-63bc9907]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-popup[data-v-63bc9907]{flex:1}.u-popup__content[data-v-63bc9907]{background-color:#fff;position:relative}.u-popup__content--round-top[data-v-63bc9907]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content--round-left[data-v-63bc9907]{border-top-left-radius:0;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:10px}.u-popup__content--round-right[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:0}.u-popup__content--round-bottom[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0}.u-popup__content--round-center[data-v-63bc9907]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content__close[data-v-63bc9907]{position:absolute}.u-popup__content__close--hover[data-v-63bc9907]{opacity:.4}.u-popup__content__close--top-left[data-v-63bc9907]{top:15px;left:15px}.u-popup__content__close--top-right[data-v-63bc9907]{top:15px;right:15px}.u-popup__content__close--bottom-left[data-v-63bc9907]{bottom:15px;left:15px}.u-popup__content__close--bottom-right[data-v-63bc9907]{right:15px;bottom:15px}',""]),e.exports=t},"0a2a":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.m-image-wrap[data-v-5d380196]{position:relative;overflow:hidden}.m-image-wrap uni-image[data-v-5d380196]{position:absolute;width:100%;border-radius:%?10?%}',""]),e.exports=t},"0a67":function(e,t,n){"use strict";n.r(t);var i=n("f33d"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"0d05":function(e,t,n){"use strict";n.r(t);var i=n("d0f5"),a=n("b5f3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=s.exports},"0e35":function(e,t,n){var i=n("081e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("6f883c3f",i,!0,{sourceMap:!1,shadowMode:!1})},"119f":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.section-wrap .section-item[data-v-697e4b18]{padding:.5em}',""]),e.exports=t},1239:function(e,t,n){"use strict";n.r(t);var i=n("4710"),a=n("3765");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("9604");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"4c9df1fe",null,!1,i["a"],void 0);t["default"]=s.exports},"135a":function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("7b973")),r={name:"u-popup",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{overlayDuration:this.duration+50}},watch:{show:function(e,t){}},computed:{transitionStyle:function(){var e={zIndex:this.zIndex,position:"fixed",display:"flex"};return e[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(e,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(e,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle:function(){var e={},t=uni.$u.sys();t.safeAreaInsets;if("center"!==this.mode&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){var n=uni.$u.addUnit(this.round);"top"===this.mode?(e.borderBottomLeftRadius=n,e.borderBottomRightRadius=n):"bottom"===this.mode?(e.borderTopLeftRadius=n,e.borderTopRightRadius=n):"center"===this.mode&&(e.borderRadius=n)}return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},position:function(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},methods:{overlayClick:function(){this.closeOnClickOverlay&&this.$emit("close")},close:function(e){this.$emit("close")},afterEnter:function(){this.$emit("open")},clickHandler:function(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}};t.default=r},"13c0":function(e,t,n){"use strict";var i=n("ca18"),a=n.n(i);a.a},"14bd":function(e,t,n){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}n("8a8d"),n("926e"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"17bf":function(e,t,n){n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("aa9c"),e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,o,s=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},1851:function(e,t,n){"use strict";var i=n("8bdb"),a=n("84d6"),r=n("1cb5");i({target:"Array",proto:!0},{fill:a}),r("fill")},"1ceb":function(e,t,n){"use strict";n.r(t);var i=n("e48c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1d78":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"m-image-wrap m-flex ",style:{width:this.width}},[t("v-uni-view",{staticClass:"m-image-block",style:{paddingBottom:100*this.height+"%"}}),t("v-uni-image",{attrs:{src:this.src,mode:"widthFix"}})],1)},a=[]},"1dbd":function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("21cf")),r={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],computed:{overlayStyle:function(){var e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};t.default=r},"1ef9":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-ed62b646], uni-scroll-view[data-v-ed62b646], uni-swiper-item[data-v-ed62b646]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-overlay[data-v-ed62b646]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7)}',""]),e.exports=t},2175:function(e,t,n){"use strict";var i=n("f1a6"),a=n.n(i);a.a},"21cf":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};t.default=i},2253:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{show:{type:Boolean,default:uni.$u.props.transition.show},mode:{type:String,default:uni.$u.props.transition.mode},duration:{type:[String,Number],default:uni.$u.props.transition.duration},timingFunction:{type:String,default:uni.$u.props.transition.timingFunction}}};t.default=i},2774:function(e,t,n){n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("08eb"),e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"27cf":function(e,t,n){"use strict";n.r(t);var i=n("4b8c"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"29aa":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uPopup:n("8f92").default,uIcon:n("4dc1").default,"u-Input":n("0d05").default,uButton:n("8f16").default,orderTime:n("ad6b").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return Object.keys(e.info).length>0?n("v-uni-view",{staticClass:"place-wrap"},[n("u-popup",{attrs:{show:e.show,customStyle:{width:"80%"},mode:"center",bgColor:"transparent"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)},open:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"place-wrap"},[n("v-uni-view",{staticClass:"place-title m-flex m-row-center"},[e._v(" "+e._s(e.$t("language.order.title"))+" "),n("u-icon",{attrs:{name:"close",color:"#6d6d6d"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"place-label"},[e._v(e._s(e.$t("language.order.time")))]),n("v-uni-view",{staticClass:"m-flex m-son-shrink m-flex-wrap place-nav p2"},[e._l(e.order_price,(function(t,i){return n("v-uni-view",{key:i,staticClass:"place-nav-item",class:t==e.timeActive?"active":"",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.timeChoose(t)}}},[e._v(" "+e._s(t.time)+"s"+e._s(e.odds[i]?"|"+e.odds[i]:"")+" ")])})),n("v-uni-view",{staticClass:"place-nav-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.fillAllMoney.apply(void 0,arguments)}}},[e._v(" 全部 ")])],2),n("v-uni-view",{staticClass:"place-label"},[e._v(e._s(e.$t("language.order.money")))]),n("v-uni-view",{staticClass:"input-wrapper",staticStyle:{"margin-bottom":"10px"}},[n("u--input",{attrs:{placeholder:e.$t("language.order.money_pla"),type:"number",inputAlign:"left",color:"#fff",border:"surround",clearable:!0},model:{value:e.other_money,callback:function(t){e.other_money=e._n(t)},expression:"other_money"}})],1),n("v-uni-view",{staticClass:"price-input"},[n("v-uni-view",{staticClass:"luobo",staticStyle:{"margin-top":"10px"}},[n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(this.$t("language.luobo.name")))]),n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(this.$t("language.luobo.direction")))]),n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(this.$t("language.luobo.new")))]),n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(this.$t("language.luobo.price")))])],1),n("v-uni-view",{staticClass:"luobo"},[n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(e.info.info.title))]),0==e.type?n("v-uni-view",{staticClass:"luobo2",staticStyle:{color:"red"}},[e._v(e._s(this.$t("language.luobo.up")))]):e._e(),3==e.type?n("v-uni-view",{staticClass:"luobo2",staticStyle:{color:"blue"}},[e._v(e._s(this.$t("language.luobo.contracts")))]):e._e(),1==e.type?n("v-uni-view",{staticClass:"luobo2",staticStyle:{color:"green"}},[e._v(e._s(this.$t("language.luobo.loss")))]):e._e(),n("v-uni-view",{staticClass:"luobo2",staticStyle:{color:"red"}},[e._v(e._s(e.info.info.Price))]),n("v-uni-view",{staticClass:"luobo2"},[e._v(e._s(e.money))])],1)],1),n("v-uni-view",{staticClass:"place-label price-hint m-flex p2"},[n("v-uni-view",{staticClass:"m-flex-3"},[e._v(e._s(e.$t("language.order.balance"))+"："+e._s(e.info.user.money))]),n("v-uni-view",{staticClass:"m-flex-3"},[e._v(e._s(e.$t("language.order.fee"))+"："+e._s(e.feeRate)+"%"+e._s(e.feeAmount>0?" (¥"+e.feeAmount+")":""))])],1),n("u-button",{attrs:{color:"#edd33a",customStyle:{color:"#000"},text:e.$t("language.order.btn")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.subPlace.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"m-table place-table text-center"})],1)],1),n("order-time",{attrs:{type:2,show:e.warning},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.warning=!1}}})],1):e._e()},r=[]},"2d1a":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("d4b5"),n("e966");var i={name:"order-time",data:function(){return{time:null,dealMoney:0,dealShouyi:0}},props:{show:{type:Boolean,default:!1},info:Object,type:{type:Number,default:0},newPrice:[Number,String]},watch:{show:function(e){var t=this;e?this.time=setInterval((function(){if(t.info.time&&(t.info.time--,t.info.time<1)){clearInterval(t.time),t.dealMoney=JSON.parse(JSON.stringify(t.newPrice));var e=t.forecast;t.dealShouyi=JSON.parse(JSON.stringify(e>0?e:-1*e)),t.$emit("loading",3)}}),1e3):clearInterval(this.time)}},computed:{forecast:function(){var e=this.info;return console.log(e.buy_type),console.log(e.money),console.log(this.newPrice),e.money==this.newPrice?0:0==e.buy_type?e.money>this.newPrice?parseInt(e.order_price*e.kuisun/100*-1):parseInt(e.order_price*e.shouyi/100):e.money<this.newPrice?parseInt(e.order_price*e.kuisun/100*-1):parseInt(e.order_price*e.shouyi/100)},forecastClass:function(){return 0==this.forecast?"":this.forecast>0?this.info.buy_type?"green":"red":this.info.buy_type?"red":"green"},dealMoneyClass:function(){return 1*this.dealMoney==0?"":1*this.dealMoney>0?this.info.buy_type?"green":"red":this.info.buy_type?"red":"green"}},methods:{subPlace:function(){this.close(),this.$emit("subTap")},open:function(){this.$emit("open")},close:function(){this.$emit("close"),clearInterval(this.time)}}};t.default=i},"2f30":function(e,t,n){"use strict";var i=n("0e35"),a=n.n(i);a.a},"2f70":function(e,t,n){"use strict";n.r(t);var i=n("2d1a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"321a":function(e,t,n){"use strict";var i=n("d341"),a=n.n(i);a.a},3349:function(e,t,n){"use strict";var i=n("fd98"),a=n.n(i);a.a},3370:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{value:{type:[String,Number],default:uni.$u.props.input.value},type:{type:String,default:uni.$u.props.input.type},fixed:{type:Boolean,default:uni.$u.props.input.fixed},disabled:{type:Boolean,default:uni.$u.props.input.disabled},disabledColor:{type:String,default:uni.$u.props.input.disabledColor},clearable:{type:Boolean,default:uni.$u.props.input.clearable},password:{type:Boolean,default:uni.$u.props.input.password},maxlength:{type:[String,Number],default:uni.$u.props.input.maxlength},placeholder:{type:String,default:uni.$u.props.input.placeholder},placeholderClass:{type:String,default:uni.$u.props.input.placeholderClass},placeholderStyle:{type:[String,Object],default:uni.$u.props.input.placeholderStyle},showWordLimit:{type:Boolean,default:uni.$u.props.input.showWordLimit},confirmType:{type:String,default:uni.$u.props.input.confirmType},confirmHold:{type:Boolean,default:uni.$u.props.input.confirmHold},holdKeyboard:{type:Boolean,default:uni.$u.props.input.holdKeyboard},focus:{type:Boolean,default:uni.$u.props.input.focus},autoBlur:{type:Boolean,default:uni.$u.props.input.autoBlur},disableDefaultPadding:{type:Boolean,default:uni.$u.props.input.disableDefaultPadding},cursor:{type:[String,Number],default:uni.$u.props.input.cursor},cursorSpacing:{type:[String,Number],default:uni.$u.props.input.cursorSpacing},selectionStart:{type:[String,Number],default:uni.$u.props.input.selectionStart},selectionEnd:{type:[String,Number],default:uni.$u.props.input.selectionEnd},adjustPosition:{type:Boolean,default:uni.$u.props.input.adjustPosition},inputAlign:{type:String,default:uni.$u.props.input.inputAlign},fontSize:{type:[String,Number],default:uni.$u.props.input.fontSize},color:{type:String,default:uni.$u.props.input.color},prefixIcon:{type:String,default:uni.$u.props.input.prefixIcon},prefixIconStyle:{type:[String,Object],default:uni.$u.props.input.prefixIconStyle},suffixIcon:{type:String,default:uni.$u.props.input.suffixIcon},suffixIconStyle:{type:[String,Object],default:uni.$u.props.input.suffixIconStyle},border:{type:String,default:uni.$u.props.input.border},readonly:{type:Boolean,default:uni.$u.props.input.readonly},shape:{type:String,default:uni.$u.props.input.shape},formatter:{type:[Function,null],default:uni.$u.props.input.formatter}}};t.default=i},"35c9":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"section-wrap m-flex m-row-between",style:{backgroundColor:e.bgColor,color:e.inactiveColor}},e._l(e.list,(function(t,i){return n("v-uni-view",{key:i,staticClass:"section-item",style:{color:e.activeValue[e.keyName]==t[e.keyName]?e.activeColor:e.inactiveColor},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.sectionChange(t)}}},[e._v(" "+e._s(t[e.keyName])+" ")])})),1)},a=[]},3765:function(e,t,n){"use strict";n.r(t);var i=n("eac8"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"3a63":function(e,t,n){var i,a,r,o=n("dda4").default,s=n("3a7e").default,l=n("e87f").default,u=n("14bd").default,c=n("4cf1").default,d=n("5014").default,h=n("d189").default,v=n("59a6").default,f=n("feb3").default,p=n("dd7e").default,g=n("46c5").default,m=n("883d").default,y=n("4db6").default,_=n("bdbb").default;n("4085"),n("c223"),n("bf0f"),n("23f4"),n("7d2f"),n("5c47"),n("9c4e"),n("ab80"),n("a1c1"),n("0c26"),n("aa9c"),n("4259"),n("64aa"),n("e062"),n("2797"),n("fd3c"),n("f7a5"),n("c1a3"),n("18f7"),n("de6c"),n("7a76"),n("c9b5"),n("aa77"),n("8f71"),n("4626"),n("5ef2"),n("dd2b"),n("0506"),n("f042"),n("9db6"),n("1851"),n("4100"),n("3efd"),n("dc69"),n("e966"),n("5ac7"),n("08eb"),n("dc8a"),function(n,o){"object"==_(t)&&"undefined"!=typeof e?o(t):(a=[t],i=o,r="function"===typeof i?i.apply(t,a):i,void 0===r||(e.exports=r))}(0,(function(e){"use strict";var t,n=new(function(){function e(){m(this,e),this._baseId=1}return y(e,[{key:"next",value:function(e){var t=(new Date).getTime();return t===this._prevIdTimestamp?++this._baseId:this._baseId=1,this._prevIdTimestamp=t,"".concat(null!=e?e:"").concat(t,"_").concat(this._baseId)}}]),e}());function i(e){return n.next(e)}function a(e,t){var n,i=document.createElement(e),a=null!=t?t:{};for(var r in a)i.style[r]=null!==(n=a[r])&&void 0!==n?n:"";return i}function r(e){var t,n,i;return null!==(i=null===(n=null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===n?void 0:n.devicePixelRatio)&&void 0!==i?i:2}function x(e,t,n){return"".concat(null!=t?t:"normal"," ").concat(null!=e?e:12,"px ").concat(null!=n?n:"Helvetica Neue")}function b(e,n,i,a){if(void 0===t){var o=document.createElement("canvas"),s=r(o);t=o.getContext("2d"),t.scale(s,s)}return t.font=x(n,i,a),Math.round(t.measureText(e).width)}function w(e,t){if(E(e)||E(t))for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=e[n],a=t[n];E(a)&&E(i)&&!S(a)&&!S(i)?w(i,a):T(t[n])&&(e[n]=t[n])}}function k(e){if(!E(e)||!S(e))return e;var t;for(var n in t=S(e)?[]:{},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];E(i)?t[n]=k(i):t[n]=i}return t}function S(e){return"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"function"==typeof e}function E(e){return"object"==_(e)}function I(e){return"number"==typeof e&&!isNaN(e)}function T(e){return null!=e}function P(e){return"string"==typeof e}var M=/\\(\\)?/g,D=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g");function A(e,t,n){if(T(e)){var i=[];t.replace(D,(function(e){for(var t=e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return T(a[1])?t=a[2].replace(M,"$1"):T(a[0])&&(t=a[0].trim()),i.push(t),""}));for(var a=e,r=0,o=i.length;T(a)&&r<o;)a=null==a?void 0:a[i[r++]];return T(a)?a:null!=n?n:"--"}return null!=n?n:"--"}function F(e,t,n){var i=e.format(new Date(t)).split(", "),a=i[0].split("/"),r=i[1].split(":"),o={YYYY:a[2],MM:a[0],DD:a[1],HH:"24"===r[0]?"00":r[0],mm:r[1],ss:r[2]};return n.replace(/YYYY|MM|DD|HH|mm|ss/g,(function(e){return o[e]}))}function L(e,t){var n=+e;return I(n)?n.toFixed(null!=t?t:2):"".concat(n)}function O(e){var t=+e;return I(t)?e>1e9?+(t/1e9).toFixed(3)+"B":e>1e6?+(t/1e6).toFixed(3)+"M":e>1e3?+(t/1e3).toFixed(3)+"K":"".concat(e):"--"}function B(e,t,n){var i=0,a=0;for(a=e.length-1;i!==a;){var r=Math.floor((a+i)/2),o=a-i,s=e[r][t];if(n===e[i][t])return i;if(n===e[a][t])return a;if(n===s)return r;if(n>s?i=r:a=r,o<=2)break}return i}function R(e,t){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),+(+e).toFixed(t)}function $(e,t,n){var i=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return e.forEach((function(e){var a,r;i[0]=Math.max(null!==(a=e[t])&&void 0!==a?a:e,i[0]),i[1]=Math.min(null!==(r=e[n])&&void 0!==r?r:e,i[1])})),i}function N(e){return Math.log(e)/Math.log(10)}function z(e){return Math.pow(10,e)}var V=function(){function e(t){m(this,e),this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=6,this._offsetRightDistance=50,this._startScrollOffsetRightBarCount=0,this._minVisibleBarCount={left:2,right:2},this._visibleRange={from:0,to:0},this._chartStore=t,this._gapBarSpace=this._calcGapBarSpace(),this._offsetRightBarCount=this._offsetRightDistance/this._barSpace}return y(e,[{key:"_calcGapBarSpace",value:function(){var e=Math.floor(.82*this._barSpace),t=Math.floor(this._barSpace),n=Math.min(e,t-1);return Math.max(1,n)}},{key:"adjustVisibleRange",value:function(){var e,t=this._chartStore.getDataList(),n=t.length,i=this._totalBarSpace/this._barSpace,a=i-Math.min(this._minVisibleBarCount.left,n);this._offsetRightBarCount>a&&(this._offsetRightBarCount=a);var r=-n+Math.min(this._minVisibleBarCount.right,n);this._offsetRightBarCount<r&&(this._offsetRightBarCount=r);var o=Math.round(this._offsetRightBarCount+n+.5);o>n&&(o=n);var s=Math.round(o-i)-1;if(s<0&&(s=0),this._visibleRange={from:s,to:o},this._chartStore.getActionStore().execute("onVisibleDataChange",{from:s,to:o}),this._chartStore.adjustVisibleDataList(),0===s&&this._more&&!this._loading&&null!==this._loadMoreCallback){this._loading=!0;var l=t[0];this._loadMoreCallback(null!==(e=null==l?void 0:l.timestamp)&&void 0!==e?e:null)}}},{key:"setMore",value:function(e){return this._more=e,this}},{key:"setLoading",value:function(e){return this._loading=e,this}},{key:"getDateTimeFormat",value:function(){return this._dateTimeFormat}},{key:"_buildDateTimeFormat",value:function(e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};void 0!==e&&(t.timeZone=e);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch(e){}return n}},{key:"setTimezone",value:function(e){var t=this._buildDateTimeFormat(e);null!==t&&(this._dateTimeFormat=t)}},{key:"getTimezone",value:function(){return this._dateTimeFormat.resolvedOptions().timeZone}},{key:"getBarSpace",value:function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}}},{key:"setBarSpace",value:function(e,t){e<1||e>50||this._barSpace===e||(this._barSpace=e,this._gapBarSpace=this._calcGapBarSpace(),null==t||t(),this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))}},{key:"setTotalBarSpace",value:function(e){return this._totalBarSpace!==e&&(this._totalBarSpace=e,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0)),this}},{key:"setOffsetRightDistance",value:function(e,t){return this._offsetRightDistance=e,this._offsetRightBarCount=e/this._barSpace,null!=t&&t&&(this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this}},{key:"resetOffsetRightDistance",value:function(){this.setOffsetRightDistance(this._offsetRightDistance)}},{key:"getOffsetRightDistance",value:function(){return this._offsetRightDistance}},{key:"getOffsetRightBarCount",value:function(){return this._offsetRightBarCount}},{key:"setOffsetRightBarCount",value:function(e){return this._offsetRightBarCount=e,this}},{key:"setLeftMinVisibleBarCount",value:function(e){return this._minVisibleBarCount.left=e,this}},{key:"setRightMinVisibleBarCount",value:function(e){return this._minVisibleBarCount.right=e,this}},{key:"getVisibleRange",value:function(){return this._visibleRange}},{key:"startScroll",value:function(){this._startScrollOffsetRightBarCount=this._offsetRightBarCount}},{key:"scroll",value:function(e){if(this._scrollEnabled){var t=e/this._barSpace;this._chartStore.getActionStore().execute("onScroll"),this._offsetRightBarCount=this._startScrollOffsetRightBarCount-t,this.adjustVisibleRange(),this._chartStore.getCrosshairStore().recalculate(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}}},{key:"getDataByDataIndex",value:function(e){var t;return null!==(t=this._chartStore.getDataList()[e])&&void 0!==t?t:null}},{key:"coordinateToFloatIndex",value:function(e){var t=this._chartStore.getDataList().length,n=(this._totalBarSpace-e)/this._barSpace,i=t+this._offsetRightBarCount-n;return Math.round(1e6*i)/1e6}},{key:"dataIndexToTimestamp",value:function(e){var t,n=this.getDataByDataIndex(e);return null!==(t=null==n?void 0:n.timestamp)&&void 0!==t?t:null}},{key:"timestampToDataIndex",value:function(e){var t=this._chartStore.getDataList();return 0===t.length?0:B(t,"timestamp",e)}},{key:"dataIndexToCoordinate",value:function(e){var t=this._chartStore.getDataList().length+this._offsetRightBarCount-e;return this._totalBarSpace-(t-.5)*this._barSpace}},{key:"coordinateToDataIndex",value:function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1}},{key:"zoom",value:function(e,t){var n=this;if(this._zoomEnabled){if(void 0===(null==t?void 0:t.x)){var i=this._chartStore.getCrosshairStore().get();t={x:void 0!==(null==i?void 0:i.x)?i.x:this._totalBarSpace/2}}this._chartStore.getActionStore().execute("onZoom");var a=this.coordinateToFloatIndex(t.x),r=this._barSpace+e*(this._barSpace/10);this.setBarSpace(r,(function(){n._offsetRightBarCount+=a-n.coordinateToFloatIndex(null==t?void 0:t.x)}))}}},{key:"setZoomEnabled",value:function(e){return this._zoomEnabled=e,this}},{key:"getZoomEnabled",value:function(){return this._zoomEnabled}},{key:"setScrollEnabled",value:function(e){return this._scrollEnabled=e,this}},{key:"getScrollEnabled",value:function(){return this._scrollEnabled}},{key:"setLoadMoreCallback",value:function(e){return this._loadMoreCallback=e,this}},{key:"clear",value:function(){this._more=!0,this._loading=!0,this._visibleRange={from:0,to:0}}}]),e}();function j(e,t,n,i,a){var r,o,s,l=t.result,u=t.figures,c=t.styles,d=A(c,"circles",i.circles),h=d.length,v=A(c,"bars",i.bars),f=v.length,p=A(c,"lines",i.lines),g=p.length,m=0,y=0,_=0,x=0;u.forEach((function(u){var c,b,w,k;switch(u.type){case"circle":r=d[m%h],o=r.style,s=r.noChangeColor,x=m,m++;break;case"bar":r=v[y%f],o=r.style,s=r.noChangeColor,x=y,y++;break;case"line":r=p[_%g],o=r.style,s=r.color,x=_,_++}if(T(r)){var S={prev:{kLineData:e[n-1],indicatorData:l[n-1]},current:{kLineData:e[n],indicatorData:l[n]},next:{kLineData:e[n+1],indicatorData:l[n+1]}},C=null!==(b=null===(c=u.styles)||void 0===c?void 0:c.call(u,S,t,i))&&void 0!==b?b:{style:o,color:s};a(u,{style:null!==(w=C.style)&&void 0!==w?w:o,color:null!==(k=C.color)&&void 0!==k?k:s},r,x)}}))}var W=function(){function e(t){m(this,e),this.result=[],this._precisionFlag=!1;var n=t.name,i=t.shortName,a=t.series,r=t.calcParams,o=t.figures,s=t.precision,l=t.shouldOhlc,u=t.shouldFormatBigNumber,c=t.minValue,d=t.maxValue,h=t.styles,v=t.extendData,f=t.regenerateFigures,p=t.createTooltipDataSource,g=t.draw;this.name=n,this.shortName=null!=i?i:n,this.series=null!=a?a:"normal",this.precision=null!=s?s:4,this.calcParams=null!=r?r:[],this.figures=null!=o?o:[],this.shouldOhlc=null!=l&&l,this.shouldFormatBigNumber=null!=u&&u,this.minValue=null!=c?c:null,this.maxValue=null!=d?d:null,this.styles=null!=h?h:null,this.extendData=v,this.regenerateFigures=null!=f?f:null,this.createTooltipDataSource=null!=p?p:null,this.draw=null!=g?g:null}return y(e,[{key:"setShortName",value:function(e){return this.shortName!==e&&(this.shortName=e,!0)}},{key:"setSeries",value:function(e){return this.series!==e&&(this.series=e,!0)}},{key:"setPrecision",value:function(e,t){var n=null!=t&&t,i=Math.floor(e);return!(!(i!==this.precision&&e>=0)||n&&(!n||this._precisionFlag))&&(this.precision=i,n||(this._precisionFlag=!0),!0)}},{key:"setCalcParams",value:function(e){var t,n;return this.calcParams=e,this.figures=null!==(n=null===(t=this.regenerateFigures)||void 0===t?void 0:t.call(this,e))&&void 0!==n?n:this.figures,!0}},{key:"setShouldOhlc",value:function(e){return this.shouldOhlc!==e&&(this.shouldOhlc=e,!0)}},{key:"setShouldFormatBigNumber",value:function(e){return this.shouldFormatBigNumber!==e&&(this.shouldFormatBigNumber=e,!0)}},{key:"setStyles",value:function(e){return this.styles!==e&&(this.styles=e,!0)}},{key:"setExtendData",value:function(e){return this.extendData!==e&&(this.extendData=e,!0)}},{key:"setFigures",value:function(e){return this.figures!==e&&(this.figures=e,!0)}},{key:"setMinValue",value:function(e){return this.minValue!==e&&(this.minValue=e,!0)}},{key:"setMaxValue",value:function(e){return this.maxValue!==e&&(this.maxValue=e,!0)}},{key:"setRegenerateFigures",value:function(e){return this.regenerateFigures!==e&&(this.regenerateFigures=e,!0)}},{key:"setCreateTooltipDataSource",value:function(e){return this.createTooltipDataSource!==e&&(this.createTooltipDataSource=e,!0)}},{key:"setDraw",value:function(e){return this.draw!==e&&(this.draw=e,!0)}},{key:"calcIndicator",value:function(){var e=g(p().mark((function e(t){var n;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.calc(t,this);case 3:return n=e.sent,e.abrupt("return",(this.result=n,!0));case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"extend",value:function(t){return function(e){v(i,e);var n=f(i);function i(){return m(this,i),n.call(this,t)}return y(i,[{key:"calc",value:function(e,n){return t.calc(e,n)}}]),i}(e)}}]),e}(),Y={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,i=t.figures,a=[],r=[];return e.map((function(t,o){var s,l={},u=(null!==(s=e[o-1])&&void 0!==s?s:t).close,c=t.close-u;return n.forEach((function(t,n){var s,u,d;if(c>0?a[n]=(null!==(s=a[n])&&void 0!==s?s:0)+c:r[n]=(null!==(u=r[n])&&void 0!==u?u:0)+Math.abs(c),o>=t-1){0!==r[n]?l[i[n].key]=100-100/(1+a[n]/r[n]):l[i[n].key]=0;var h=e[o-(t-1)],v=null!==(d=e[o-t])&&void 0!==d?d:h,f=h.close-v.close;f>0?a[n]-=f:r[n]-=Math.abs(f)}})),l}))}},H={name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,n){var i,a=e.current.kLineData;return i=a.close>a.open?A(t.styles,"bars[0].upColor",n.bars[0].upColor):a.close<a.open?A(t.styles,"bars[0].downColor",n.bars[0].downColor):A(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor),{color:i}}}],regenerateFigures:function(e){var t=e.map((function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}}));return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,n){var i,a=e.current.kLineData;return i=a.close>a.open?A(t.styles,"bars[0].upColor",n.bars[0].upColor):a.close<a.open?A(t.styles,"bars[0].downColor",n.bars[0].downColor):A(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor),{color:i}}}),t},calc:function(e,t){var n=t.calcParams,i=t.figures,a=[];return e.map((function(t,r){var o,s=null!==(o=t.volume)&&void 0!==o?o:0,l={volume:s};return n.forEach((function(t,n){var o,u;a[n]=(null!==(o=a[n])&&void 0!==o?o:0)+s,r>=t-1&&(l[i[n].key]=a[n]/t,a[n]-=null!==(u=e[r-(t-1)].volume)&&void 0!==u?u:0)})),l}))}},X={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,i=t.figures;return e.map((function(t,a){var r={},o=t.close;return n.forEach((function(t,n){var s=t-1;if(a>=s){var l=$(e.slice(a-s,a+1),"high","low"),u=l[0],c=u-l[1];r[i[n].key]=0===c?0:(o-u)/c*100}})),r}))}},G={},U=[{name:"AVP",shortName:"AVP",series:"price",precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var t=0,n=0;return e.map((function(e){var i,a,r={},o=null!==(i=null==e?void 0:e.turnover)&&void 0!==i?i:0,s=null!==(a=null==e?void 0:e.volume)&&void 0!==a?a:0;return t+=o,n+=s,0!==n&&(r.avp=t/n),r}))}},{name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e,t,n){var i,a,r,o,s,l=e.prev,u=e.current,c=null!==(a=null===(i=l.indicatorData)||void 0===i?void 0:i.ao)&&void 0!==a?a:Number.MIN_SAFE_INTEGER,d=null!==(o=null===(r=u.indicatorData)||void 0===r?void 0:r.ao)&&void 0!==o?o:Number.MIN_SAFE_INTEGER;return s=d>c?A(t.styles,"bars[0].upColor",n.bars[0].upColor):A(t.styles,"bars[0].downColor",n.bars[0].downColor),{color:s,style:d>c?"stroke":"fill"}}}],calc:function(e,t){var n=t.calcParams,i=Math.max(n[0],n[1]),a=0,r=0,o=0,s=0;return e.map((function(t,l){var u={},c=(t.low+t.high)/2;if(a+=c,r+=c,l>=n[0]-1){o=a/n[0];var d=e[l-(n[0]-1)];a-=(d.low+d.high)/2}if(l>=n[1]-1){s=r/n[1];var h=e[l-(n[1]-1)];r-=(h.low+h.high)/2}return l>=i-1&&(u.ao=o-s),u}))}},{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,i=t.figures,a=[];return e.map((function(t,r){var o={},s=t.close;return n.forEach((function(t,l){var u;if(a[l]=(null!==(u=a[l])&&void 0!==u?u:0)+s,r>=t-1){var c=a[l]/n[l];o[i[l].key]=(s-c)/c*100,a[l]-=e[r-(t-1)].close}})),o}))}},{name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=n[0]-1,a=0;return e.map((function(t,r){var o=t.close,s={};if(a+=o,r>=i){s.mid=a/n[0];var l=function(e,t){var n=e.length,i=0;return e.forEach((function(e){var n=e.close-t;i+=n*n})),i=Math.abs(i),Math.sqrt(i/n)}(e.slice(r-i,r+1),s.mid);s.up=s.mid+n[1]*l,s.dn=s.mid-n[1]*l,a-=e[r-i].close}return s}))}},{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=0,o=0;return e.map((function(t,s){var l,u,c={},d=t.high,h=t.low,v=t.open,f=(null!==(l=e[s-1])&&void 0!==l?l:t).close;if(r+=d-v,o+=v-h,i+=d-f,a+=f-h,s>=n[0]-1){c.ar=0!==o?r/o*100:0,c.br=0!==a?i/a*100:0;var p=e[s-(n[0]-1)],g=p.high,m=p.low,y=p.open,_=(null!==(u=e[s-n[0]])&&void 0!==u?u:e[s-(n[0]-1)]).close;i-=g-_,a-=_-m,r-=g-y,o-=y-m}return c}))}},{name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=Math.max.apply(Math,h(n)),a=[],r=[];return e.map((function(t,o){var s={},l=t.close;if(n.forEach((function(t,n){var i;a[n]=(null!==(i=a[n])&&void 0!==i?i:0)+l,o>=t-1&&(r[n]=a[n]/t,a[n]-=e[o-(t-1)].close)})),o>=i-1){var u=0;r.forEach((function(e){u+=e})),s.bbi=u/4}return s}))}},{name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=n[0]-1,a=0,r=[];return e.map((function(t,o){var s={},l=(t.high+t.low+t.close)/3;if(a+=l,r.push(l),o>=i){var u=a/n[0],c=r.slice(o-i,o+1),d=0;c.forEach((function(e){d+=Math.abs(e-u)}));var h=d/n[0];s.cci=0!==h?(l-u)/h/.015:0;var v=(e[o-i].high+e[o-i].low+e[o-i].close)/3;a-=v}return s}))}},{name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=Math.ceil(n[1]/2.5+1),a=Math.ceil(n[2]/2.5+1),r=Math.ceil(n[3]/2.5+1),o=Math.ceil(n[4]/2.5+1),s=0,l=[],u=0,c=[],d=0,h=[],v=0,f=[],p=[];return e.forEach((function(t,g){var m,y,_,x,b,w={},k=null!==(m=e[g-1])&&void 0!==m?m:t,S=(k.high+k.close+k.low+k.open)/4,C=Math.max(0,t.high-S),E=Math.max(0,S-t.low);g>=n[0]-1&&(w.cr=0!==E?C/E*100:0,s+=w.cr,u+=w.cr,d+=w.cr,v+=w.cr,g>=n[0]+n[1]-2&&(l.push(s/n[1]),g>=n[0]+n[1]+i-3&&(w.ma1=l[l.length-1-i]),s-=null!==(y=p[g-(n[1]-1)].cr)&&void 0!==y?y:0),g>=n[0]+n[2]-2&&(c.push(u/n[2]),g>=n[0]+n[2]+a-3&&(w.ma2=c[c.length-1-a]),u-=null!==(_=p[g-(n[2]-1)].cr)&&void 0!==_?_:0),g>=n[0]+n[3]-2&&(h.push(d/n[3]),g>=n[0]+n[3]+r-3&&(w.ma3=h[h.length-1-r]),d-=null!==(x=p[g-(n[3]-1)].cr)&&void 0!==x?x:0),g>=n[0]+n[4]-2&&(f.push(v/n[4]),g>=n[0]+n[4]+o-3&&(w.ma4=f[f.length-1-o]),v-=null!==(b=p[g-(n[4]-1)].cr)&&void 0!==b?b:0)),p.push(w)})),p}},{name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=Math.max(n[0],n[1]),a=0,r=0,o=0,s=[];return e.forEach((function(t,l){var u,c={},d=t.close;a+=d,r+=d;var h=0,v=0;if(l>=n[0]-1&&(h=a/n[0],a-=e[l-(n[0]-1)].close),l>=n[1]-1&&(v=r/n[1],r-=e[l-(n[1]-1)].close),l>=i-1){var f=h-v;c.dma=f,o+=f,l>=i+n[2]-2&&(c.ama=o/n[2],o-=null!==(u=s[l-(n[2]-1)].dma)&&void 0!==u?u:0)}s.push(c)})),s}},{name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=0,o=0,s=0,l=0,u=0,c=0,d=[];return e.forEach((function(t,h){var v,f,p={},g=null!==(v=e[h-1])&&void 0!==v?v:t,m=g.close,y=t.high,_=t.low,x=y-_,b=Math.abs(y-m),w=Math.abs(m-_),k=y-g.high,S=g.low-_,C=Math.max(Math.max(x,b),w),E=k>0&&k>S?k:0,I=S>0&&S>k?S:0;if(i+=C,a+=E,r+=I,h>=n[0]-1){h>n[0]-1?(o=o-o/n[0]+C,s=s-s/n[0]+E,l=l-l/n[0]+I):(o=i,s=a,l=r);var T=0,P=0;0!==o&&(T=100*s/o,P=100*l/o),p.pdi=T,p.mdi=P;var M=0;P+T!==0&&(M=Math.abs(P-T)/(P+T)*100),u+=M,h>=2*n[0]-2&&(c=h>2*n[0]-2?(c*(n[0]-1)+M)/n[0]:u/n[0],p.adx=c,h>=2*n[0]+n[1]-3&&(p.adxr=((null!==(f=d[h-(n[1]-1)].adx)&&void 0!==f?f:0)+c)/2))}d.push(p)})),d}},{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=[],o=[];return e.forEach((function(t,s){var l,u,c,d={},h=null!==(l=e[s-1])&&void 0!==l?l:t,v=t.high,f=t.low,p=null!==(u=t.turnover)&&void 0!==u?u:0,g=(v+f)/2,m=(h.high+h.low)/2,y=0;0!==p&&(y=(g-m)*(v-f)/p),r.push(y),i+=y,s>=n[0]-1&&(d.emv=i,i-=r[s-(n[0]-1)],a+=d.emv,s>=n[0]+n[1]-2&&(d.maEmv=a/n[1],a-=null!==(c=o[s-(n[1]-1)].emv)&&void 0!==c?c:0)),o.push(d)})),o}},{name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,i=t.figures,a=0,r=[];return e.map((function(e,t){var o={},s=e.close;return a+=s,n.forEach((function(e,n){t>=e-1&&(r[n]=t>e-1?(2*s+(e-1)*r[n])/(e+1):a/e,o[i[n].key]=r[n])})),o}))}},{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=[];return e.forEach((function(t,r){var o,s={};if(r>=n[0]){var l=t.close,u=e[r-n[0]].close;s.mtm=l-u,i+=s.mtm,r>=n[0]+n[1]-1&&(s.maMtm=i/n[1],i-=null!==(o=a[r-(n[1]-1)].mtm)&&void 0!==o?o:0)}a.push(s)})),a}},{name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map((function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}}))},calc:function(e,t){var n=t.calcParams,i=t.figures,a=[];return e.map((function(t,r){var o={},s=t.close;return n.forEach((function(t,n){var l;a[n]=(null!==(l=a[n])&&void 0!==l?l:0)+s,r>=t-1&&(o[i[n].key]=a[n]/t,a[n]-=e[r-(t-1)].close)})),o}))}},{name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e,t,n){var i,a,r,o,s,l=e.prev,u=e.current,c=null!==(a=null===(i=l.indicatorData)||void 0===i?void 0:i.macd)&&void 0!==a?a:Number.MIN_SAFE_INTEGER,d=null!==(o=null===(r=u.indicatorData)||void 0===r?void 0:r.macd)&&void 0!==o?o:Number.MIN_SAFE_INTEGER;return s=d>0?A(t.styles,"bars[0].upColor",n.bars[0].upColor):d<0?A(t.styles,"bars[0].downColor",n.bars[0].downColor):A(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor),{style:c<d?"stroke":"fill",color:s}}}],calc:function(e,t){var n,i,a=t.calcParams,r=0,o=0,s=0,l=0,u=Math.max(a[0],a[1]);return e.map((function(e,t){var c={},d=e.close;return r+=d,t>=a[0]-1&&(n=t>a[0]-1?(2*d+(a[0]-1)*n)/(a[0]+1):r/a[0]),t>=a[1]-1&&(i=t>a[1]-1?(2*d+(a[1]-1)*i)/(a[1]+1):r/a[1]),t>=u-1&&(o=n-i,c.dif=o,s+=o,t>=u+a[2]-2&&(l=t>u+a[2]-2?(2*o+l*(a[2]-1))/(a[2]+1):s/a[2],c.macd=2*(o-l),c.dea=l)),c}))}},{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=[];return e.forEach((function(t,o){var s,l,u,c,d=null!==(s=e[o-1])&&void 0!==s?s:t;t.close<d.close?a-=null!==(l=t.volume)&&void 0!==l?l:0:t.close>d.close&&(a+=null!==(u=t.volume)&&void 0!==u?u:0);var h={obv:a};i+=a,o>=n[0]-1&&(h.maObv=i/n[0],i-=null!==(c=r[o-(n[0]-1)].obv)&&void 0!==c?c:0),r.push(h)})),r}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var t=0;return e.map((function(n,i){var a,r,o={},s=n.close,l=null!==(a=n.volume)&&void 0!==a?a:1,u=(null!==(r=e[i-1])&&void 0!==r?r:n).close,c=0,d=u*l;return 0!==d&&(c=(s-u)/d),t+=c,o.pvt=t,o}))}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=[],o=[];return e.forEach((function(t,s){var l,u,c={},d=(null!==(l=e[s-1])&&void 0!==l?l:t).close,h=t.close-d>0?1:0;r.push(h),i+=h,s>=n[0]-1&&(c.psy=i/n[0]*100,a+=c.psy,s>=n[0]+n[1]-2&&(c.maPsy=a/n[1],a-=null!==(u=o[s-(n[1]-1)].psy)&&void 0!==u?u:0),i-=r[s-(n[0]-1)]),o.push(c)})),o}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=[],a=0;return e.forEach((function(t,r){var o,s,l={};if(r>=n[0]-1){var u=t.close,c=(null!==(o=e[r-n[0]])&&void 0!==o?o:e[r-(n[0]-1)]).close;l.roc=0!==c?(u-c)/c*100:0,a+=l.roc,r>=n[0]-1+n[1]-1&&(l.maRoc=a/n[1],a-=null!==(s=i[r-(n[1]-1)].roc)&&void 0!==s?s:0)}i.push(l)})),i}},Y,{name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,t){var n=t.calcParams,i=0,a=0;return e.map((function(e,t){var r={},o=e.close;return i+=o,t>=n[0]-1&&(a=t>n[0]-1?(o*n[1]+a*(n[0]-n[1]+1))/(n[0]+1):i/n[0],r.sma=a),r}))}},{name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=[];return e.forEach((function(t,a){var r,o,s,l,u={},c=t.close;if(a>=n[0]-1){var d=$(e.slice(a-(n[0]-1),a+1),"high","low"),h=d[0],v=d[1],f=h-v,p=(c-v)/(0===f?1:f)*100;u.k=((n[1]-1)*(null!==(o=null===(r=i[a-1])||void 0===r?void 0:r.k)&&void 0!==o?o:50)+p)/n[1],u.d=((n[2]-1)*(null!==(l=null===(s=i[a-1])||void 0===s?void 0:s.d)&&void 0!==l?l:50)+u.k)/n[2],u.j=3*u.k-2*u.d}i.push(u)})),i}},{name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e,t,n){var i,a,r=e.current,o=null!==(a=null===(i=r.indicatorData)||void 0===i?void 0:i.sar)&&void 0!==a?a:Number.MIN_SAFE_INTEGER,s=r.kLineData;return{color:o<((null==s?void 0:s.high)+(null==s?void 0:s.low))/2?A(t.styles,"circles[0].upColor",n.circles[0].upColor):A(t.styles,"circles[0].downColor",n.circles[0].downColor)}}}],calc:function(e,t){var n=t.calcParams,i=n[0]/100,a=n[1]/100,r=n[2]/100,o=i,s=-100,l=!1,u=0;return e.map((function(t,n){var c=u,d=t.high,h=t.low;if(l){(-100===s||s<d)&&(s=d,o=Math.min(o+a,r)),u=c+o*(s-c);var v=Math.min(e[Math.max(1,n)-1].low,h);u>t.low?(u=s,o=i,s=-100,l=!l):u>v&&(u=v)}else{(-100===s||s>h)&&(s=h,o=Math.min(o+a,r)),u=c+o*(s-c);var f=Math.max(e[Math.max(1,n)-1].high,d);u<t.high?(u=s,o=0,s=-100,l=!l):u<f&&(u=f)}return{sar:u}}))}},{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,t){var n,i,a,r=t.calcParams,o=0,s=0,l=0,u=0,c=[];return e.forEach((function(e,t){var d,h={},v=e.close;if(o+=v,t>=r[0]-1&&(n=t>r[0]-1?(2*v+(r[0]-1)*n)/(r[0]+1):o/r[0],s+=n,t>=2*r[0]-2&&(i=t>2*r[0]-2?(2*n+(r[0]-1)*i)/(r[0]+1):s/r[0],l+=i,t>=3*r[0]-3))){var f,p=0;t>3*r[0]-3?(f=(2*i+(r[0]-1)*a)/(r[0]+1),p=(f-a)/a*100):f=l/r[0],a=f,h.trix=p,u+=p,t>=3*r[0]+r[1]-4&&(h.maTrix=u/r[1],u-=null!==(d=c[t-(r[1]-1)].trix)&&void 0!==d?d:0)}c.push(h)})),c}},H,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,t){var n=t.calcParams,i=0,a=0,r=0,o=0,s=[];return e.forEach((function(t,l){var u,c,d,h,v,f={},p=t.close,g=(null!==(u=e[l-1])&&void 0!==u?u:t).close,m=null!==(c=t.volume)&&void 0!==c?c:0;if(p>g?i+=m:p<g?a+=m:r+=m,l>=n[0]-1){var y=r/2;f.vr=a+y===0?0:(i+y)/(a+y)*100,o+=f.vr,l>=n[0]+n[1]-2&&(f.maVr=o/n[1],o-=null!==(d=s[l-(n[1]-1)].vr)&&void 0!==d?d:0);var _=e[l-(n[0]-1)],x=null!==(h=e[l-n[0]])&&void 0!==h?h:_,b=_.close,w=null!==(v=_.volume)&&void 0!==v?v:0;b>x.close?i-=w:b<x.close?a-=w:r-=w}s.push(f)})),s}},X];function K(e){var t;return null!==(t=G[e])&&void 0!==t?t:null}U.forEach((function(e){G[e.name]=W.extend(e)}));var q=function(){function e(t){m(this,e),this._instances=new Map,this._chartStore=t}return y(e,[{key:"_overrideInstance",value:function(e,t){var n=t.shortName,i=t.series,a=t.calcParams,r=t.precision,o=t.figures,s=t.minValue,l=t.maxValue,u=t.shouldOhlc,c=t.shouldFormatBigNumber,d=t.styles,h=t.extendData,v=t.regenerateFigures,f=t.createTooltipDataSource,p=t.draw,g=t.calc,m=!1;void 0!==n&&e.setShortName(n)&&(m=!0),void 0!==i&&e.setSeries(i)&&(m=!0);var y=!1;return void 0!==a&&e.setCalcParams(a)&&(m=!0,y=!0),void 0!==o&&e.setFigures(o)&&(m=!0,y=!0),void 0!==s&&e.setMinValue(s)&&(m=!0),void 0!==l&&e.setMinValue(l)&&(m=!0),void 0!==r&&e.setPrecision(r)&&(m=!0),void 0!==u&&e.setShouldOhlc(u)&&(m=!0),void 0!==c&&e.setShouldFormatBigNumber(c)&&(m=!0),void 0!==d&&e.setStyles(d)&&(m=!0),void 0!==h&&e.setExtendData(h)&&(m=!0,y=!0),void 0!==v&&e.setRegenerateFigures(v)&&(m=!0),void 0!==f&&e.setCreateTooltipDataSource(f)&&(m=!0),void 0!==p&&e.setDraw(p)&&(m=!0),void 0!==g&&(e.calc=g,y=!0),[m,y]}},{key:"addInstance",value:function(){var e=g(p().mark((function e(t,n,i){var a,r,o,s;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.name,o=this._instances.get(n),null===(a=null==o?void 0:o.has(r))||void 0===a||!a){e.next=6;break}return e.next=5,Promise.reject(new Error("Duplicate indicators."));case 5:return e.abrupt("return",e.sent);case 6:return void 0===o&&(o=new Map,this._instances.set(n,o)),s=new(K(r)),this._overrideInstance(s,t),i||o.clear(),o.set(r,s),e.next=13,s.calcIndicator(this._chartStore.getDataList());case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"getInstances",value:function(e){var t;return null!==(t=this._instances.get(e))&&void 0!==t?t:new Map}},{key:"removeInstance",value:function(e,t){var n=!1;if(this._instances.has(e)){var i=this._instances.get(e);void 0!==t?i.has(t)&&(i.delete(t),n=!0):(i.clear(),n=!0),0===i.size&&this._instances.delete(e)}return n}},{key:"hasInstances",value:function(e){return this._instances.has(e)}},{key:"calcInstance",value:function(){var e=g(p().mark((function e(t,n){var i,a,r,o,s=this;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],void 0!==t?void 0!==n?(r=this._instances.get(n),null!==(i=null==r?void 0:r.has(t))&&void 0!==i&&i&&(o=null==r?void 0:r.get(t),a.push(o.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach((function(e){if(e.has(t)){var n=null==e?void 0:e.get(t);a.push(n.calcIndicator(s._chartStore.getDataList()))}})):this._instances.forEach((function(e){e.forEach((function(e){a.push(e.calcIndicator(s._chartStore.getDataList()))}))})),e.next=4,Promise.all(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getInstanceByPaneId",value:function(e,t){var n;if(void 0!==e){var i=this._instances.get(e);return void 0!==t?null!==(n=null==i?void 0:i.get(t))&&void 0!==n?n:null:null!=i?i:null}return this._instances}},{key:"setSeriesPrecision",value:function(e){this._instances.forEach((function(t){t.forEach((function(t){"price"===t.series&&t.setPrecision(e.price,!0),"volume"===t.series&&t.setPrecision(e.volume,!0)}))}))}},{key:"override",value:function(){var e=g(p().mark((function e(t,n){var i,a,r,o=this;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.name,a=new Map,null!==n?this._instances.has(n)&&a.set(n,this._instances.get(n)):a=this._instances,r=[],a.forEach((function(e){if(e.has(i)){var n=e.get(i);o._overrideInstance(n,t)[1]&&r.push(n.calcIndicator(o._chartStore.getDataList()))}})),e.next=7,Promise.all(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Z=function(){function e(t){m(this,e),this._crosshair={},this._chartStore=t}return y(e,[{key:"set",value:function(e,t){var n,i,a=this._chartStore.getDataList(),r=null!=e?e:{};void 0!==r.x?(n=this._chartStore.getTimeScaleStore().coordinateToDataIndex(r.x),i=n<0?0:n>a.length-1?a.length-1:n):(n=a.length-1,i=n);var o=a[i],s=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(n),l=this._crosshair.x,u=this._crosshair.y,c=this._crosshair.paneId;return this._crosshair=d(d({},r),{},{realX:s,kLineData:o,realDataIndex:n,dataIndex:i}),l===r.x&&u===r.y&&c===r.paneId||(null!==o&&this._chartStore.getChart().crosshairChange(this._crosshair),null!=t&&t||this._chartStore.getChart().updatePane(1)),this}},{key:"recalculate",value:function(e){this.set(this._crosshair,e)}},{key:"get",value:function(){return this._crosshair}}]),e}(),J=function(){function e(t){m(this,e),this.currentStep=1,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var n=t.mode,i=t.extendData,a=t.styles,r=t.name,o=t.totalStep,s=t.lock,l=t.needDefaultPointFigure,u=t.needDefaultXAxisFigure,c=t.needDefaultYAxisFigure,d=t.createPointFigures,h=t.createXAxisFigures,v=t.createYAxisFigures,f=t.performEventPressedMove,p=t.performEventMoveForDrawing,g=t.onDrawStart,y=t.onDrawing,_=t.onDrawEnd,x=t.onClick,b=t.onRightClick,w=t.onPressedMoveStart,k=t.onPressedMoving,S=t.onPressedMoveEnd,C=t.onMouseEnter,E=t.onMouseLeave,I=t.onRemoved,T=t.onSelected,P=t.onDeselected;this.name=r,this.totalStep=void 0===o||o<2?1:o,this.lock=null!=s&&s,this.needDefaultPointFigure=null!=l&&l,this.needDefaultXAxisFigure=null!=u&&u,this.needDefaultYAxisFigure=null!=c&&c,this.mode=null!=n?n:"normal",this.extendData=i,this.styles=null!=a?a:null,this.createPointFigures=null!=d?d:null,this.createXAxisFigures=null!=h?h:null,this.createYAxisFigures=null!=v?v:null,this.performEventPressedMove=null!=f?f:null,this.performEventMoveForDrawing=null!=p?p:null,this.onDrawStart=null!=g?g:null,this.onDrawing=null!=y?y:null,this.onDrawEnd=null!=_?_:null,this.onClick=null!=x?x:null,this.onRightClick=null!=b?b:null,this.onPressedMoveStart=null!=w?w:null,this.onPressedMoving=null!=k?k:null,this.onPressedMoveEnd=null!=S?S:null,this.onMouseEnter=null!=C?C:null,this.onMouseLeave=null!=E?E:null,this.onRemoved=null!=I?I:null,this.onSelected=null!=T?T:null,this.onDeselected=null!=P?P:null}return y(e,[{key:"setId",value:function(e){return void 0===this.id&&(this.id=e,!0)}},{key:"setGroupId",value:function(e){return void 0===this.groupId&&(this.groupId=e,!0)}},{key:"setExtendData",value:function(e){return e!==this.extendData&&(this.extendData=e,!0)}},{key:"setStyles",value:function(e){return e!==this.styles&&(this.styles=e,!0)}},{key:"setPoints",value:function(e){if(e.length>0){var t;if(this.points=h(e),e.length>=this.totalStep-1?(this.currentStep=-1,t=this.totalStep-1):(this.currentStep=e.length+1,t=e.length),null!==this.performEventMoveForDrawing)for(var n=0;n<t;n++)this.performEventMoveForDrawing({currentStep:n+2,mode:this.mode,points:this.points,performPointIndex:n,performPoint:this.points[n]});return-1===this.currentStep&&null!==this.performEventPressedMove&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1}},{key:"setLock",value:function(e){return this.lock!==e&&(this.lock=e,!0)}},{key:"setMode",value:function(e){return e!==this.mode&&(this.mode=e,!0)}},{key:"setOnDrawStartCallback",value:function(e){return this.onDrawStart!==e&&(this.onDrawStart=e,!0)}},{key:"setOnDrawingCallback",value:function(e){return this.onDrawing!==e&&(this.onDrawing=e,!0)}},{key:"setOnDrawEndCallback",value:function(e){return this.onDrawEnd!==e&&(this.onDrawEnd=e,!0)}},{key:"setOnClickCallback",value:function(e){return this.onClick!==e&&(this.onClick=e,!0)}},{key:"setOnRightClickCallback",value:function(e){return this.onRightClick!==e&&(this.onRightClick=e,!0)}},{key:"setOnPressedMoveStartCallback",value:function(e){return this.onPressedMoveStart!==e&&(this.onPressedMoveStart=e,!0)}},{key:"setOnPressedMovingCallback",value:function(e){return this.onPressedMoving!==e&&(this.onPressedMoving=e,!0)}},{key:"setOnPressedMoveEndCallback",value:function(e){return this.onPressedMoveEnd!==e&&(this.onPressedMoveEnd=e,!0)}},{key:"setOnMouseEnterCallback",value:function(e){return this.onMouseEnter!==e&&(this.onMouseEnter=e,!0)}},{key:"setOnMouseLeaveCallback",value:function(e){return this.onMouseLeave!==e&&(this.onMouseLeave=e,!0)}},{key:"setOnRemovedCallback",value:function(e){return this.onRemoved!==e&&(this.onRemoved=e,!0)}},{key:"setOnSelectedCallback",value:function(e){return this.onSelected!==e&&(this.onSelected=e,!0)}},{key:"setOnDeselectedCallback",value:function(e){return this.onDeselected!==e&&(this.onDeselected=e,!0)}},{key:"nextStep",value:function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++}},{key:"isDrawing",value:function(){return-1!==this.currentStep}},{key:"isStart",value:function(){return 1===this.currentStep}},{key:"eventMoveForDrawing",value:function(e){var t,n=this.currentStep-1,i={};void 0!==e.timestamp&&(i.timestamp=e.timestamp),void 0!==e.dataIndex&&(i.dataIndex=e.dataIndex),void 0!==e.value&&(i.value=e.value),this.points[n]=i,null===(t=this.performEventMoveForDrawing)||void 0===t||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:i})}},{key:"eventPressedPointMove",value:function(e,t){var n;void 0!==e.dataIndex&&(this.points[t].dataIndex=e.dataIndex,this.points[t].timestamp=e.timestamp),void 0!==e.value&&(this.points[t].value=e.value),null===(n=this.performEventPressedMove)||void 0===n||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})}},{key:"startPressedMove",value:function(e){this._prevPressedPoint=d({},e),this._prevPressedPoints=k(this.points)}},{key:"eventPressedOtherMove",value:function(e,t){var n,i;null!==this._prevPressedPoint&&(void 0!==e.dataIndex&&void 0!==this._prevPressedPoint.dataIndex&&(n=e.dataIndex-this._prevPressedPoint.dataIndex),void 0!==e.value&&void 0!==this._prevPressedPoint.value&&(i=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map((function(e){var a;void 0===e.dataIndex&&void 0!==e.timestamp&&(e.dataIndex=t.timestampToDataIndex(e.timestamp));var r=d({},e);return void 0!==n&&void 0!==e.dataIndex&&(r.dataIndex=e.dataIndex+n,r.timestamp=null!==(a=t.dataIndexToTimestamp(r.dataIndex))&&void 0!==a?a:void 0),void 0!==i&&void 0!==e.value&&(r.value=e.value+i),r})))}}],[{key:"extend",value:function(t){return function(e){v(i,e);var n=f(i);function i(){return m(this,i),n.call(this,t)}return y(i)}(e)}}]),e}();function Q(e,t){return Math.sqrt(Math.pow(e.x+t.x,2)+Math.pow(e.y+t.y,2))}function ee(e){var t=Q(e[0],e[1]),n=t+Q(e[1],e[2]),i=[e[2].x-e[0].x,e[2].y-e[0].y];return[{x:e[1].x-.5*i[0]*t/n,y:e[1].y-.5*i[1]*t/n},{x:e[1].x+.5*i[0]*t/n,y:e[1].y+.5*i[1]*t/n}]}function te(e,t){var n=!1,i=t.coordinates;if(i.length>1)for(var a=1;a<i.length;a++){var r=i[a-1],o=i[a];if(r.x===o.x)n=Math.abs(e.x-r.x)<2;else{var s=ae(r,o),l=ne(s,e),u=Math.abs(l-e.y);n=u*u/(s[0]*s[0]+1)<4}if(n)return n}return n}function ne(e,t){return null!=e?t.x*e[0]+e[1]:t.y}function ie(e,t,n){return ne(ae(e,t),n)}function ae(e,t){var n=e.x-t.x;if(0!==n){var i=(e.y-t.y)/n;return[i,e.y-i*e.x]}return null}function re(e,t,n){var i=t.coordinates,a=i.length;if(a>1){var r=n.style,o=void 0===r?"solid":r,s=n.smooth,l=n.size,u=void 0===l?1:l,c=n.color,d=void 0===c?"currentColor":c,h=n.dashedValue,v=void 0===h?[2,2]:h;if(e.lineWidth=u,e.strokeStyle=d,"dashed"===o?e.setLineDash(v):e.setLineDash([]),e.beginPath(),e.moveTo(i[0].x,i[0].y),null!=s&&s){for(var f=[],p=1;p<a-1;p++)f=f.concat(ee([i[p-1],i[p],i[p+1]]));e.quadraticCurveTo(f[0].x,f[0].y,i[1].x,i[1].y);for(var g=2;g<a-1;g++)e.bezierCurveTo(f[2*(g-2)+1].x,f[2*(g-2)+1].y,f[2*(g-1)].x,f[2*(g-1)].y,i[g].x,i[g].y);e.quadraticCurveTo(f[2*(g-2)+1].x,f[2*(g-2)+1].y,i[g].x,i[g].y)}else for(var m=1;m<i.length;m++)e.lineTo(i[m].x,i[m].y);e.stroke(),e.closePath()}}var oe={name:"line",checkEventOn:te,draw:function(e,t,n){re(e,t,n)}};function se(e,t,n){var i=null!=n?n:0,a=[];if(e.length>1)if(e[0].x===e[1].x){var r=t.height;if(a.push({coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:r}]}),e.length>2){a.push({coordinates:[{x:e[2].x,y:0},{x:e[2].x,y:r}]});for(var o=e[0].x-e[2].x,s=0;s<i;s++){var l=o*(s+1);a.push({coordinates:[{x:e[0].x+l,y:0},{x:e[0].x+l,y:r}]})}}}else{var u=t.width,c=ae(e[0],e[1]),d=c[0],h=c[1];if(a.push({coordinates:[{x:0,y:0*d+h},{x:u,y:u*d+h}]}),e.length>2){var v=e[2].y-d*e[2].x;a.push({coordinates:[{x:0,y:0*d+v},{x:u,y:u*d+v}]});for(var f=h-v,p=0;p<i;p++){var g=h+f*(p+1);a.push({coordinates:[{x:0,y:0*d+g},{x:u,y:u*d+g}]})}}}return a}function le(e,t){var n;return e.length>1?(n=e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?{x:e[0].x,y:t.height}:{x:e[0].x,y:0}:e[0].x>e[1].x?{x:0,y:ie(e[0],e[1],{x:0,y:e[0].y})}:{x:t.width,y:ie(e[0],e[1],{x:t.width,y:e[0].y})},{coordinates:[e[0],n]}):[]}var ue={name:"simpleAnnotation",createPointFigures:function(e){var t,n,i=e.overlay,a=e.coordinates;T(i.extendData)&&(n=C(i.extendData)?i.extendData(i):null!==(t=i.extendData)&&void 0!==t?t:"");var r=a[0].x,o=a[0].y-6,s=o-50,l=s-5;return[{type:"line",attrs:{coordinates:[{x:r,y:o},{x:r,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:r,y:s},{x:r-4,y:l},{x:r+4,y:l}]},ignoreEvent:!0},{type:"rectText",attrs:{x:r,y:l,text:null!=n?n:"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},ce={name:"simpleTag",createPointFigures:function(e){var t=e.bounding,n=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:n[0].y},{x:t.width,y:n[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(e){var t,n,i,a,r,o=e.overlay,s=e.coordinates,l=e.bounding,u=e.yAxis,c=e.precision;return null!==(t=null==u?void 0:u.isFromZero())&&void 0!==t&&t?(i="left",a=0):(i="right",a=l.width),T(o.extendData)&&(r=C(o.extendData)?o.extendData(o):null!==(n=o.extendData)&&void 0!==n?n:""),T(r)||void 0===o.points[0].value||(r=L(o.points[0].value,c.price)),{type:"rectText",attrs:{x:a,y:s[0].y,text:null!=r?r:"",align:i,baseline:"middle"}}}},de={};function he(e){var t;return null!==(t=de[e])&&void 0!==t?t:null}function ve(e){var t={width:0,height:0,left:0,right:0,top:0,bottom:0};return void 0!==e&&w(t,e),t}[{name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding,i=e.overlay,a=e.precision,r=i.points;if(t.length>0){var o=[],s=[],l=n.width,u=r[1].value;if(t.length>1&&void 0!==r[0].value&&void 0!==u){var c=t[0].y-t[1].y,d=r[0].value-u;[1,.786,.618,.5,.382,.236,0].forEach((function(e){var n=t[1].y+c*e,i=(u+d*e).toFixed(a.price);o.push({coordinates:[{x:0,y:n},{x:l,y:n}]}),s.push({x:0,y:n,text:"".concat(i," (").concat((100*e).toFixed(1),"%)"),baseline:"bottom"})}))}return[{type:"line",attrs:o},{type:"text",isCheckEvent:!1,attrs:s}]}return[]}},{name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding,i={x:0,y:t[0].y};return void 0!==t[1]&&t[0].x<t[1].x&&(i.x=n.width),[{type:"line",attrs:{coordinates:[t[0],i]}}]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(e){var t=e.currentStep,n=e.points,i=e.performPoint;2===t&&(n[0].value=i.value)}},{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=[];return 2===t.length&&n.push({coordinates:t}),[{type:"line",attrs:n}]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].value=n.value,t[1].value=n.value},performEventMoveForDrawing:function(e){var t=e.currentStep,n=e.points,i=e.performPoint;2===t&&(n[0].value=i.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:n.width,y:t[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return[{type:"line",attrs:se(t,n)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return[{type:"line",attrs:se(t,n,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding,i=e.precision,a=e.overlay,r=a.points[0].value,o=void 0===r?0:r;return[{type:"line",attrs:{coordinates:[t[0],{x:n.width,y:t[0].y}]}},{type:"text",isCheck:!1,attrs:{x:t[0].x,y:t[0].y,text:o.toFixed(i.price),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return[{type:"line",attrs:le(t,n)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return 2===t.length?[{type:"line",attrs:{coordinates:t}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return 2===t.length?t[0].x===t[1].x?[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:n.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:ie(t[0],t[1],{x:0,y:t[0].y})},{x:n.width,y:ie(t[0],t[1],{x:n.width,y:t[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;if(2===t.length){var i={x:t[0].x,y:0};return t[0].y<t[1].y&&(i.y=n.height),[{type:"line",attrs:{coordinates:[t[0],i]}}]}return[]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,n=e.points,i=e.performPoint;2===t&&(n[0].timestamp=i.timestamp,n[0].dataIndex=i.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return 2===t.length?[{type:"line",attrs:{coordinates:t}}]:[]},performEventPressedMove:function(e){var t=e.points,n=e.performPoint;t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex,t[1].timestamp=n.timestamp,t[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,n=e.points,i=e.performPoint;2===t&&(n[0].timestamp=i.timestamp,n[0].dataIndex=i.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,n=e.bounding;return[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:n.height}]}}]}},ue,ce].forEach((function(e){de[e.name]=J.extend(e)}));var fe={CANDLE:"candle_pane",INDICATOR:"indcator_pane_",XAXIS:"xaxis_pane"},pe=function(){function e(t,n,i,a,r){m(this,e),this._yAxisWidget=null,this._separatorWidget=null,this._axis=this.createAxisComponent(),this._bounding=ve(),this._options={minHeight:30,dragEnabled:!0,gap:{top:.2,bottom:.1}},this._chart=n,this._id=i,this._topPane=null!=a?a:null,this._bottomPane=null!=r?r:null,this._init(t)}return y(e,[{key:"_init",value:function(e){this._container=e,this._seriesContiainer=a("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),this._separatorWidget=this.createSeparatorWidget(e);var t=e.lastChild;null!==t?e.insertBefore(this._seriesContiainer,t):e.appendChild(this._seriesContiainer),this._mainWidget=this.createMainWidget(this._seriesContiainer),this._yAxisWidget=this.creatYAxisWidget(this._seriesContiainer)}},{key:"getContainer",value:function(){return this._seriesContiainer}},{key:"getId",value:function(){return this._id}},{key:"setOptions",value:function(e){return w(this._options,e),this}},{key:"getOptions",value:function(){return this._options}},{key:"getChart",value:function(){return this._chart}},{key:"getAxisComponent",value:function(){return this._axis}},{key:"setBounding",value:function(e,t,n){var i,a,r;if(w(this._bounding,e),void 0!==e.height){var o=this.getChart().getStyles().separator.size,s={height:e.height-o};this._mainWidget.setBounding(s),null===(i=this._yAxisWidget)||void 0===i||i.setBounding(s)}return void 0!==t&&(this._mainWidget.setBounding(t),null===(a=this._separatorWidget)||void 0===a||a.setBounding(t)),void 0!==n&&(null===(r=this._yAxisWidget)||void 0===r||r.setBounding(n)),this}},{key:"getTopPane",value:function(){return this._topPane}},{key:"setTopPane",value:function(e){return this._topPane=e,this}},{key:"getBottomPane",value:function(){return this._bottomPane}},{key:"setBottomPane",value:function(e){return this._bottomPane=e,this}},{key:"getBounding",value:function(){return this._bounding}},{key:"getMainWidget",value:function(){return this._mainWidget}},{key:"getYAxisWidget",value:function(){return this._yAxisWidget}},{key:"getSeparatorWidget",value:function(){return this._separatorWidget}},{key:"update",value:function(e){var t,n;this._bounding.width!==this._seriesContiainer.offsetWidth&&(this._seriesContiainer.style.width="".concat(this._bounding.width,"px"));var i=this._mainWidget.getBounding().height;i!==this._seriesContiainer.offsetHeight&&(this._seriesContiainer.style.height="".concat(i,"px"));var a=null!=e?e:3;this._mainWidget.update(a),null===(t=this._yAxisWidget)||void 0===t||t.update(a),null===(n=this._separatorWidget)||void 0===n||n.update(a)}},{key:"getImage",value:function(e){var t=this._bounding,n=t.width,i=t.height,o=a("canvas",{width:"".concat(n,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),s=o.getContext("2d"),l=r(o);o.width=n*l,o.height=i*l,s.scale(l,l);var u=0;if(null!=this._separatorWidget){var c=this.getChart().getStyles().separator.size;u=c,s.drawImage(this._separatorWidget.getImage(),0,0,n,c)}var d=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(e),d.left,u,d.width,d.height),null!==this._yAxisWidget){var h=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(e),h.left,u,h.width,h.height)}return o}},{key:"destroy",value:function(){this._container.removeChild(this._seriesContiainer),null!==this._separatorWidget&&this._container.removeChild(this._separatorWidget.getContainer())}},{key:"createSeparatorWidget",value:function(e){return null}},{key:"creatYAxisWidget",value:function(e){return null}}]),e}(),ge=function(){function e(t){m(this,e),this._instances=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1},this._chartStore=t}return y(e,[{key:"_overrideInstance",value:function(e,t){var n=t.id,i=t.groupId,a=t.points,r=t.styles,o=t.lock,s=t.mode,l=t.extendData,u=t.onDrawStart,c=t.onDrawing,d=t.onDrawEnd,h=t.onClick,v=t.onRightClick,f=t.onPressedMoveStart,p=t.onPressedMoving,g=t.onPressedMoveEnd,m=t.onMouseEnter,y=t.onMouseLeave,_=t.onRemoved,x=t.onSelected,b=t.onDeselected,w=!1;return void 0!==n&&e.setId(n),void 0!==i&&e.setGroupId(i),void 0!==a&&e.setPoints(a)&&(w=!0),void 0!==r&&e.setStyles(r)&&(w=!0),void 0!==o&&e.setLock(o),void 0!==s&&e.setMode(s),void 0!==l&&e.setExtendData(l)&&(w=!0),void 0!==u&&e.setOnDrawStartCallback(u),void 0!==c&&e.setOnDrawingCallback(c),void 0!==d&&e.setOnDrawEndCallback(d),void 0!==h&&e.setOnClickCallback(h),void 0!==v&&e.setOnRightClickCallback(v),void 0!==f&&e.setOnPressedMoveStartCallback(f),void 0!==p&&e.setOnPressedMovingCallback(p),void 0!==g&&e.setOnPressedMoveEndCallback(g),void 0!==m&&e.setOnMouseEnterCallback(m),void 0!==y&&e.setOnMouseLeaveCallback(y),void 0!==_&&e.setOnRemovedCallback(_),void 0!==x&&e.setOnSelectedCallback(x),void 0!==b&&e.setOnDeselectedCallback(b),w}},{key:"getInstanceById",value:function(e){var t,n=c(this._instances);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i[1].find((function(t){return t.id===e}));if(void 0!==a)return a}}catch(r){n.e(r)}finally{n.f()}return null!==this._progressInstanceInfo&&this._progressInstanceInfo.instance.id===e?this._progressInstanceInfo.instance:null}},{key:"addInstance",value:function(e,t,n){var a,r,o,s,l=null!==(a=e.id)&&void 0!==a?a:i("overlay_");if(null===this.getInstanceById(l)){var u=new(he(e.name)),c=null!==(r=e.groupId)&&void 0!==r?r:l;return e.id=l,e.groupId=c,this._overrideInstance(u,e),u.isDrawing()?this._progressInstanceInfo={paneId:t,instance:u,appointPaneFlag:n}:(this._instances.has(t)||this._instances.set(t,[]),null===(o=this._instances.get(t))||void 0===o||o.push(u)),null===(s=u.onDrawStart)||void 0===s||s.call(u,{overlay:u}),this._chartStore.getChart().updatePane(1,t),l}return null}},{key:"getProgressInstanceInfo",value:function(){return this._progressInstanceInfo}},{key:"progressInstanceComplete",value:function(){var e;if(null!==this._progressInstanceInfo){var t=this._progressInstanceInfo,n=t.instance,i=t.paneId;n.isDrawing()||(this._instances.has(i)||this._instances.set(i,[]),null===(e=this._instances.get(i))||void 0===e||e.push(n),this._progressInstanceInfo=null)}}},{key:"updateProgressInstanceInfo",value:function(e,t){null!==this._progressInstanceInfo&&(void 0!==t&&t&&(this._progressInstanceInfo.appointPaneFlag=t),this._progressInstanceInfo.appointPaneFlag||(this._progressInstanceInfo.paneId=e))}},{key:"getInstances",value:function(e){var t;if(void 0===e){var n=[];return this._instances.forEach((function(e){n=n.concat(e)})),n}return null!==(t=this._instances.get(e))&&void 0!==t?t:[]}},{key:"override",value:function(e){var t=this,n=e.id,i=e.groupId,a=e.name,r=!1;if(void 0!==n){var o=this.getInstanceById(n);null!==o&&this._overrideInstance(o,e)&&(r=!0)}else if(this._instances.forEach((function(n){n.forEach((function(n){(void 0!==a&&n.name===a||void 0!==i&&n.groupId===i||void 0===a&&void 0===i)&&t._overrideInstance(n,e)&&(r=!0)}))})),null!==this._progressInstanceInfo){var s=this._progressInstanceInfo.instance;(void 0!==a&&s.name===a||void 0!==i&&s.groupId===i||void 0===a&&void 0===i)&&this._overrideInstance(s,e)&&(r=!0)}r&&this._chartStore.getChart().updatePane(1)}},{key:"removeInstance",value:function(e){var t,n=function(e,t){if(void 0!==e.id){if(t.id!==e.id)return!1}else if(void 0!==e.groupId){if(t.groupId!==e.groupId)return!1}else if(void 0!==e.name&&t.name!==e.name)return!1;return!0},i=[];if(null!==this._progressInstanceInfo){var a=this._progressInstanceInfo.instance;(void 0===e||void 0!==e&&n(e,a))&&(i.push(this._progressInstanceInfo.paneId),null===(t=a.onRemoved)||void 0===t||t.call(a,{overlay:a}),this._progressInstanceInfo=null)}if(void 0!==e){var r,o=new Map,s=c(this._instances);try{var l=function(){var t=r.value,a=t[1].filter((function(a){var r;return!n(e,a)||(i.includes(t[0])||i.push(t[0]),null===(r=a.onRemoved)||void 0===r||r.call(a,{overlay:a}),!1)}));a.length>0&&o.set(t[0],a)};for(s.s();!(r=s.n()).done;)l()}catch(d){s.e(d)}finally{s.f()}this._instances=o}else this._instances.forEach((function(e,t){i.push(t),e.forEach((function(e){var t;null===(t=e.onRemoved)||void 0===t||t.call(e,{overlay:e})}))})),this._instances.clear();if(i.length>0){var u=this._chartStore.getChart();i.forEach((function(e){u.updatePane(1,e)})),u.updatePane(1,fe.XAXIS)}}},{key:"setPressedInstanceInfo",value:function(e){this._pressedInstanceInfo=e}},{key:"getPressedInstanceInfo",value:function(){return this._pressedInstanceInfo}},{key:"setHoverInstanceInfo",value:function(e,t){var n,i,a,r,o,s=this._hoverInstanceInfo,l=s.instance,u=s.figureType,c=s.figureIndex;(null==l?void 0:l.id)===(null===(n=e.instance)||void 0===n?void 0:n.id)&&u===e.figureType&&c===e.figureIndex||(this._hoverInstanceInfo=e,(null==l?void 0:l.id)!==(null===(i=e.instance)||void 0===i?void 0:i.id)&&(null===(a=null==l?void 0:l.onMouseLeave)||void 0===a||a.call(l,d({overlay:l},t)),null===(o=null===(r=e.instance)||void 0===r?void 0:r.onMouseEnter)||void 0===o||o.call(r,d({overlay:e.instance},t))))}},{key:"getHoverInstanceInfo",value:function(){return this._hoverInstanceInfo}},{key:"setClickInstanceInfo",value:function(e,t){var n,i,a,r,o,s,l,u,c,h=this._clickInstanceInfo,v=h.paneId,f=h.instance,p=h.figureType,g=h.figureIndex;if(null!==(i=null===(n=e.instance)||void 0===n?void 0:n.isDrawing())&&void 0!==i&&i&&(null===(r=null===(a=e.instance)||void 0===a?void 0:a.onClick)||void 0===r||r.call(a,d({overlay:e.instance},t))),((null==f?void 0:f.id)!==(null===(o=e.instance)||void 0===o?void 0:o.id)||p!==e.figureType||g!==e.figureIndex)&&(this._clickInstanceInfo=e,(null==f?void 0:f.id)!==(null===(s=e.instance)||void 0===s?void 0:s.id))){null===(l=null==f?void 0:f.onDeselected)||void 0===l||l.call(f,d({overlay:f},t)),null===(c=null===(u=e.instance)||void 0===u?void 0:u.onSelected)||void 0===c||c.call(u,d({overlay:e.instance},t));var m=this._chartStore.getChart();m.updatePane(1,e.paneId),v!==e.paneId&&m.updatePane(1,v),m.updatePane(1,fe.XAXIS)}}},{key:"getClickInstanceInfo",value:function(){return this._clickInstanceInfo}},{key:"isEmpty",value:function(){return 0===this._instances.size&&null===this._progressInstanceInfo}},{key:"isDrawing",value:function(){var e,t;return null!==this._progressInstanceInfo&&null!==(t=null===(e=this._progressInstanceInfo)||void 0===e?void 0:e.instance.isDrawing())&&void 0!==t&&t}}]),e}(),me=function(){function e(){m(this,e),this._callbacks=[]}return y(e,[{key:"subscribe",value:function(e){var t;(null!==(t=this._callbacks.indexOf(e))&&void 0!==t?t:-1)<0&&this._callbacks.push(e)}},{key:"unsubscribe",value:function(e){var t;if(void 0!==e){var n=null!==(t=this._callbacks.indexOf(e))&&void 0!==t?t:-1;n>-1&&this._callbacks.splice(n,1)}else this._callbacks=[]}},{key:"execute",value:function(e){this._callbacks.forEach((function(t){t(e)}))}},{key:"isEmpty",value:function(){return 0===this._callbacks.length}}]),e}(),ye=function(){function e(){m(this,e),this._actions=new Map}return y(e,[{key:"execute",value:function(e,t){var n;null===(n=this._actions.get(e))||void 0===n||n.execute(t)}},{key:"subscribe",value:function(e,t){var n;this._actions.has(e)||this._actions.set(e,new me),null===(n=this._actions.get(e))||void 0===n||n.subscribe(t)}},{key:"unsubscribe",value:function(e,t){var n=this._actions.get(e);void 0!==n&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(e))}},{key:"has",value:function(e){var t=this._actions.get(e);return void 0!==t&&!t.isEmpty()}}]),e}(),_e={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function xe(e){var t;return null!==(t=_e[e])&&void 0!==t?t:null}var be=function(){function e(t,n){m(this,e),this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]}},candle:{type:"candle_solid",bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#999999"},area:{lineSize:2,lineColor:"#1677FF",value:"close",backgroundColor:[{offset:0,color:"rgba(22, 119, 255, 0.01)"},{offset:1,color:"rgba(22, 119, 255, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:"dashed",dashedValue:[4,4],size:1},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:"always",showType:"standard",custom:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:8,offsetTop:8,offsetRight:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}}},indicator:{ohlc:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},bars:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"}],lines:[{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:"#FF9600"},{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:"#9D65C9"},{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:"#1677FF"},{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:"#E11D74"},{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:"#01C5C4"}],circles:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:"always",showType:"standard",showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginTop:6,marginRight:8,marginBottom:0,marginLeft:8}}},xAxis:{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,size:"auto",type:"normal",position:"right",inside:!1,reverse:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:"#686D76",borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:"#76808F"},text:{show:!0,style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#686D76",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#686D76"}}},overlay:{point:{color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:"solid",smooth:!1,color:"#1677FF",size:1,dashedValue:[2,2]},rect:{style:"fill",color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{style:"fill",color:"#1677FF",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{style:"fill",color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{style:"solid",color:"#1677FF",size:1,dashedValue:[2,2]},text:{color:"#1677FF",size:12,family:"Helvetica Neue",weight:"normal"},rectText:{style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"#1677FF"}}},this._customApi={formatDate:F,formatBigNumber:O},this._locale="en-US",this._precision={price:2,volume:0},this._dataList=[],this._dragPaneFlag=!1,this._timeScaleStore=new V(this),this._indicatorStore=new q(this),this._overlayStore=new ge(this),this._crosshairStore=new Z(this),this._actionStore=new ye,this._visibleDataList=[],this._chart=t,this.setOptions(n)}return y(e,[{key:"adjustVisibleDataList",value:function(){this._visibleDataList=[];for(var e=this._timeScaleStore.getVisibleRange(),t=e.from,n=e.to,i=t;i<n;i++){var a=this._dataList[i],r=this._timeScaleStore.dataIndexToCoordinate(i);this._visibleDataList.push({dataIndex:i,x:r,data:a})}}},{key:"setOptions",value:function(e){if(void 0!==e){var t=e.locale,n=e.timezone,i=e.styles,a=e.customApi;void 0!==t&&(this._locale=t),void 0!==n&&this._timeScaleStore.setTimezone(n),void 0!==i&&(P(i)?w(this._styles,xe(i)):w(this._styles,i)),void 0!==a&&w(this._customApi,a)}return this}},{key:"getStyles",value:function(){return this._styles}},{key:"getLocale",value:function(){return this._locale}},{key:"getCustomApi",value:function(){return this._customApi}},{key:"getPrecision",value:function(){return this._precision}},{key:"setPrecision",value:function(e){return this._precision=e,this._indicatorStore.setSeriesPrecision(e),this}},{key:"getDataList",value:function(){return this._dataList}},{key:"getVisibleDataList",value:function(){return this._visibleDataList}},{key:"addData",value:function(e,t,n){if(S(e)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(null==n||n);var i=0===this._dataList.length;this._dataList=e.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else if(t>=this._dataList.length){this._dataList.push(e);var a=this._timeScaleStore.getOffsetRightBarCount();a<0&&this._timeScaleStore.setOffsetRightBarCount(--a),this._timeScaleStore.adjustVisibleRange()}else this._dataList[t]=e,this.adjustVisibleDataList();this._crosshairStore.recalculate(!0)}},{key:"clearDataList",value:function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()}},{key:"getTimeScaleStore",value:function(){return this._timeScaleStore}},{key:"getIndicatorStore",value:function(){return this._indicatorStore}},{key:"getOverlayStore",value:function(){return this._overlayStore}},{key:"getCrosshairStore",value:function(){return this._crosshairStore}},{key:"getActionStore",value:function(){return this._actionStore}},{key:"getChart",value:function(){return this._chart}},{key:"getDragPaneFlag",value:function(){return this._dragPaneFlag}},{key:"setDragPaneFlag",value:function(e){return this._dragPaneFlag=e,this}}]),e}();function we(){var e;return"undefined"!=typeof window&&(null!==(e=window.navigator.userAgent.toLowerCase().indexOf("firefox"))&&void 0!==e?e:-1)>-1}function ke(){return"undefined"!=typeof window&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var Se=function(){function e(t,n,i){var a=this;m(this,e),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!ke(),this._onFirefoxOutsideMouseUp=function(e){a._mouseUpHandler(e)},this._onMobileSafariDoubleClick=function(e){if(a._firesTouchEvents(e)){var t=a._makeCompatEvent(e);if(++a._tapCount,null!==a._tapTimeoutId&&a._tapCount>1){var n=a._mouseTouchMoveWithDownInfo(Ie(e),a._tapCoordinate),i=n.manhattanDistance;i<30&&!a._cancelTap&&a._processTouchEvent(t,a._handler.doubleTapEvent),a._resetTapTimeout()}}else{var r=a._makeCompatEvent(e);if(++a._clickCount,null!==a._clickTimeoutId&&a._clickCount>1){var o=a._mouseTouchMoveWithDownInfo(Ie(e),a._clickCoordinate),s=o.manhattanDistance;s<5&&!a._cancelClick&&a._processMouseEvent(r,a._handler.mouseDoubleClickEvent),a._resetClickTimeout()}}},this._target=t,this._handler=n,this._options=i,this._init()}return y(e,[{key:"destroy",value:function(){null!==this._unsubscribeOutsideMouseEvents&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),null!==this._unsubscribeOutsideTouchEvents&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeMouseWheel&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),null!==this._unsubscribeContextMenu&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),null!==this._unsubscribeMobileSafariEvents&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()}},{key:"_mouseEnterHandler",value:function(e){var t,n,i,a=this;null===(t=this._unsubscribeMousemove)||void 0===t||t.call(this),null===(n=this._unsubscribeMouseWheel)||void 0===n||n.call(this),null===(i=this._unsubscribeContextMenu)||void 0===i||i.call(this);var r=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){a._target.removeEventListener("mousemove",r)},this._target.addEventListener("mousemove",r);var o=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){a._target.removeEventListener("wheel",o)},this._target.addEventListener("wheel",o,{passive:!1});var s=this._contextMenuHandler.bind(this);if(this._unsubscribeContextMenu=function(){a._target.removeEventListener("contextmenu",s)},this._target.addEventListener("contextmenu",s,{passive:!1}),!this._firesTouchEvents(e)){var l=this._makeCompatEvent(e);this._processMouseEvent(l,this._handler.mouseEnterEvent),this._acceptMouseLeave=!0}}},{key:"_resetClickTimeout",value:function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}},{key:"_resetTapTimeout",value:function(){null!==this._tapTimeoutId&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}},{key:"_mouseMoveHandler",value:function(e){if(!this._mousePressed&&null===this._touchMoveStartCoordinate&&!this._firesTouchEvents(e)){var t=this._makeCompatEvent(e);this._processMouseEvent(t,this._handler.mouseMoveEvent),this._acceptMouseLeave=!0}}},{key:"_mouseWheelHandler",value:function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(void 0===this._handler.mouseWheelHorizontalEvent)return;if(Ee(e),0===Math.abs(e.deltaX))return;this._handler.mouseWheelHorizontalEvent(-e.deltaX)}else{if(void 0===this._handler.mouseWheelVerticalEvent)return;var t=-e.deltaY/100;if(0===t)return;switch(Ee(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(0!==t){var n=Math.sign(t)*Math.min(1,Math.abs(t)),i=this._makeCompatEvent(e);this._handler.mouseWheelVerticalEvent({x:i.x,y:i.y},n)}}}},{key:"_contextMenuHandler",value:function(e){Ee(e)}},{key:"_touchMoveHandler",value:function(e){var t=Pe(e.changedTouches,this._activeTouchId);if(null!==t&&(this._lastTouchEventTimeStamp=Te(e),null===this._startPinchMiddleCoordinate&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(Ie(t),this._touchMoveStartCoordinate),i=n.xOffset,a=n.yOffset,r=n.manhattanDistance;if(this._touchMoveExceededManhattanDistance||!(r<5)){if(!this._touchMoveExceededManhattanDistance){var o=.5*i,s=a>=o&&!this._options.treatVertTouchDragAsPageScroll(),l=o>a&&!this._options.treatHorzTouchDragAsPageScroll();s||l||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}if(!this._preventTouchDragProcess){var u=this._makeCompatEvent(e,t);this._processTouchEvent(u,this._handler.touchMoveEvent)}}}}},{key:"_mouseMoveWithDownHandler",value:function(e){if(0===e.button){var t=this._mouseTouchMoveWithDownInfo(Ie(e),this._mouseMoveStartCoordinate),n=t.manhattanDistance;if(n>=5&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick){var i=this._makeCompatEvent(e);this._processMouseEvent(i,this._handler.pressedMouseMoveEvent)}}}},{key:"_mouseTouchMoveWithDownInfo",value:function(e,t){var n=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return{xOffset:n,yOffset:i,manhattanDistance:n+i}}},{key:"_touchEndHandler",value:function(e){var t=Pe(e.changedTouches,this._activeTouchId);if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null!==t){this._activeTouchId=null,this._lastTouchEventTimeStamp=Te(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(e,t);if(this._processTouchEvent(n,this._handler.touchEndEvent),++this._tapCount,null!==this._tapTimeoutId&&this._tapCount>1){var i=this._mouseTouchMoveWithDownInfo(Ie(t),this._tapCoordinate),a=i.manhattanDistance;a<30&&!this._cancelTap&&this._processTouchEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processTouchEvent(n,this._handler.tapEvent),void 0!==this._handler.tapEvent&&Ee(e));0===this._tapCount&&Ee(e),0===e.touches.length&&this._longTapActive&&(this._longTapActive=!1,Ee(e))}}},{key:"_mouseUpHandler",value:function(e){if(0===e.button){var t=this._makeCompatEvent(e);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),we()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),!this._firesTouchEvents(e))if(this._processMouseEvent(t,this._handler.mouseUpEvent),++this._clickCount,null!==this._clickTimeoutId&&this._clickCount>1){var n=this._mouseTouchMoveWithDownInfo(Ie(e),this._clickCoordinate),i=n.manhattanDistance;i<5&&!this._cancelClick&&this._processMouseEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processMouseEvent(t,this._handler.mouseClickEvent)}}},{key:"_clearLongTapTimeout",value:function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}},{key:"_touchStartHandler",value:function(e){if(null===this._activeTouchId){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=Te(e);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=Ie(t),null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._touchMoveHandler.bind(this),a=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",a)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",a,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),240);var r=this._makeCompatEvent(e,t);this._processTouchEvent(r,this._handler.touchStartEvent),null===this._tapTimeoutId&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=Ie(t))}}},{key:"_mouseDownHandler",value:function(e){if(2!==e.button){if(0===e.button){var t=this._target.ownerDocument.documentElement;we()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=Ie(e),null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);if(this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",i),this._mousePressed=!0,!this._firesTouchEvents(e)){var a=this._makeCompatEvent(e);this._processMouseEvent(a,this._handler.mouseDownEvent),null===this._clickTimeoutId&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=Ie(e))}}}else{Ee(e);var r=this._makeCompatEvent(e);this._processMouseEvent(r,this._handler.mouseRightClickEvent)}}},{key:"_init",value:function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,n=function(t){null!=e._handler.mouseDownOutsideEvent&&(t.composed&&e._target.contains(t.composedPath()[0])||null!==t.target&&e._target.contains(t.target)||e._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0}),ke()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),function(e){"undefined"!=typeof window&&void 0!==window.chrome&&e.addEventListener("mousedown",(function(e){if(1===e.button)return e.preventDefault(),!1}))}(this._target),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",(function(){}),{passive:!1})}},{key:"_initPinch",value:function(){var e=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",(function(t){return e._checkPinchState(t.touches)}),{passive:!0}),this._target.addEventListener("touchmove",(function(t){if(2===t.touches.length&&null!==e._startPinchMiddleCoordinate&&void 0!==e._handler.pinchEvent){var n=Ce(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(e._startPinchMiddleCoordinate,n),Ee(t)}}),{passive:!1}),this._target.addEventListener("touchend",(function(t){e._checkPinchState(t.touches)})))}},{key:"_checkPinchState",value:function(e){1===e.length&&(this._pinchPrevented=!1),2!==e.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)}},{key:"_startPinch",value:function(e){var t,n,i=(t=this._target,null!==(n=t.getBoundingClientRect())&&void 0!==n?n:{left:0,top:0});this._startPinchMiddleCoordinate={x:(e[0].clientX-i.left+(e[1].clientX-i.left))/2,y:(e[0].clientY-i.top+(e[1].clientY-i.top))/2},this._startPinchDistance=Ce(e[0],e[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()}},{key:"_stopPinch",value:function(){null!==this._startPinchMiddleCoordinate&&(this._startPinchMiddleCoordinate=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())}},{key:"_mouseLeaveHandler",value:function(e){var t,n,i;if(null===(t=this._unsubscribeMousemove)||void 0===t||t.call(this),null===(n=this._unsubscribeMouseWheel)||void 0===n||n.call(this),null===(i=this._unsubscribeContextMenu)||void 0===i||i.call(this),!this._firesTouchEvents(e)&&this._acceptMouseLeave){var a=this._makeCompatEvent(e);this._processMouseEvent(a,this._handler.mouseLeaveEvent),this._acceptMouseLeave=!ke()}}},{key:"_longTapHandler",value:function(e){var t=Pe(e.touches,this._activeTouchId);if(null!==t){var n=this._makeCompatEvent(e,t);this._processTouchEvent(n,this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0}}},{key:"_firesTouchEvents",value:function(e){var t;return void 0!==(null===(t=e.sourceCapabilities)||void 0===t?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:Te(e)<this._lastTouchEventTimeStamp+500}},{key:"_processTouchEvent",value:function(e,t){null==t||t.call(this._handler,e)}},{key:"_processMouseEvent",value:function(e,t){null==t||t.call(this._handler,e)}},{key:"_makeCompatEvent",value:function(e,t){var n,i=null!=t?t:e,a=null!==(n=this._target.getBoundingClientRect())&&void 0!==n?n:{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,x:i.clientX-a.left,y:i.clientY-a.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,isTouch:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,srcType:e.type,target:i.target,view:e.view,preventDefault:function(){"touchstart"!==e.type&&Ee(e)}}}}]),e}();function Ce(e,t){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(n*n+i*i)}function Ee(e){e.cancelable&&e.preventDefault()}function Ie(e){return{x:e.pageX,y:e.pageY}}function Te(e){var t;return null!==(t=e.timeStamp)&&void 0!==t?t:performance.now()}function Pe(e,t){for(var n=0;n<e.length;++n)if(e[n].identifier===t)return e[n];return null}var Me=function(){function e(){m(this,e),this._events=new Map}return y(e,[{key:"registerEvent",value:function(e,t){return this._events.set(e,t),this}},{key:"onEvent",value:function(e,t){var n=this._events.get(e);return!(void 0===n||!this.checkEventOn(t))&&n(t)}},{key:"checkEventOn",value:function(e){return!1}}]),e}(),De=function(e){v(n,e);var t=f(n);function n(){var e;return m(this,n),e=t.apply(this,arguments),e._elements=[],e}return y(n,[{key:"checkEventOn",value:function(e){var t,n=c(this._elements);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.checkEventOn(e))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"dispatchEvent",value:function(e,t){for(var n=this._elements.length-1;n>=0;n--)if(this._elements[n].onEvent(e,t))return!0;return this.onEvent(e,t)}},{key:"addElement",value:function(e){return this._elements.push(e),this}},{key:"clear",value:function(){this._elements=[]}}]),n}(Me),Ae=function(e){v(n,e);var t=f(n);function n(e,i){var a;return m(this,n),a=t.call(this),a._bounding=ve(),a._pane=i,a._init(e),a}return y(n,[{key:"_init",value:function(e){if(this._container=a("div",this.getContainerStyle()),this.insertBefore()){var t=e.lastChild;null!==t?e.insertBefore(this._container,t):e.appendChild(this._container)}else e.appendChild(this._container);this.initDom(this._container),this._event=new Se(this.getEventContainer(),this,this.getEventOptions())}},{key:"setBounding",value:function(e){return w(this._bounding,e),this}},{key:"getContainer",value:function(){return this._container}},{key:"getEventContainer",value:function(){return this._container}},{key:"getEventOptions",value:function(){return{treatVertTouchDragAsPageScroll:function(){return!1},treatHorzTouchDragAsPageScroll:function(){return!1}}}},{key:"getBounding",value:function(){return this._bounding}},{key:"getPane",value:function(){return this._pane}},{key:"update",value:function(e){this.updateImp(e,this._container,this._bounding)}},{key:"insertBefore",value:function(){return!1}}]),n}(De);function Fe(e){return null==window.requestAnimationFrame?window.setTimeout(e,20):window.requestAnimationFrame(e)}function Le(e){null==window.cancelAnimationFrame&&window.clearTimeout(e),window.cancelAnimationFrame(e)}var Oe=function(e){v(n,e);var t=f(n);function n(){var e;return m(this,n),e=t.apply(this,arguments),e._views=[],e._mainRequestAnimationId=-1,e._overlayRequestAnimationId=-1,e}return y(n,[{key:"getContainerStyle",value:function(){return{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box"}}},{key:"initDom",value:function(e){this._mainCanvas=a("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=a("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d"),e.appendChild(this._mainCanvas),e.appendChild(this._overlayCanvas)}},{key:"_optimalUpdateMain",value:function(){var e=this;-1!==this._mainRequestAnimationId&&(Le(this._mainRequestAnimationId),this._mainRequestAnimationId=-1),this._mainRequestAnimationId=Fe((function(){e.updateMain(e._mainCtx)}))}},{key:"_optimalUpdateOverlay",value:function(){var e=this;-1!==this._overlayRequestAnimationId&&(Le(this._overlayRequestAnimationId),this._overlayRequestAnimationId=-1),this._overlayRequestAnimationId=Fe((function(){e.updateOverlay(e._overlayCtx)}))}},{key:"addView",value:function(e){return this._views.push(e),this}},{key:"updateImp",value:function(e,t,n){var i=n.width,a=n.height,o=n.left;t.style.left="".concat(o,"px");var s=e;if(i!==t.offsetWidth||a!==t.offsetHeight){this._mainCtx.clearRect(0,0,this._mainCanvas.offsetWidth,this._mainCanvas.offsetHeight),this._overlayCtx.clearRect(0,0,this._overlayCanvas.offsetWidth,this._overlayCanvas.offsetHeight);var l="".concat(i,"px"),u="".concat(a,"px");t.style.width=l,t.style.height=u;var c=r(this._mainCanvas),d=Math.floor(i*c),h=Math.floor(a*c);this._mainCanvas.style.width=l,this._mainCanvas.style.height=u,this._mainCanvas.width=d,this._mainCanvas.height=h,this._mainCtx.scale(c,c),this._overlayCanvas.style.width=l,this._overlayCanvas.style.height=u,this._overlayCanvas.width=d,this._overlayCanvas.height=h,this._overlayCtx.scale(c,c),s=3}else 4!==s&&3!==s&&0!==s||this._mainCtx.clearRect(0,0,this._mainCanvas.offsetWidth,this._mainCanvas.offsetHeight),4!==s&&3!==s&&1!==s||this._overlayCtx.clearRect(0,0,this._overlayCanvas.offsetWidth,this._overlayCanvas.offsetHeight);switch(s){case 0:this._optimalUpdateMain();break;case 1:this._optimalUpdateOverlay();break;case 3:case 4:this._optimalUpdateMain(),this._optimalUpdateOverlay()}}},{key:"getImage",value:function(e){var t=this.getBounding(),n=t.width,i=t.height,o=a("canvas",{width:"".concat(n,"px"),height:"".concat(i,"px"),boxSizing:"border-box"}),s=o.getContext("2d"),l=r(o);return o.width=n*l,o.height=i*l,s.scale(l,l),s.drawImage(this._mainCanvas,0,0,n,i),e&&s.drawImage(this._overlayCanvas,0,0,n,i),o}}]),n}(Ae),Be=function(e){v(n,e);var t=f(n);function n(e){var i;return m(this,n),i=t.call(this),i.attrs=e.attrs,i.styles=e.styles,i}return y(n,[{key:"checkEventOn",value:function(e){return this.checkEventOnImp(e,this.attrs,this.styles)}},{key:"draw",value:function(e){this.drawImp(e,this.attrs,this.styles)}}],[{key:"extend",value:function(e){return function(t){v(i,t);var n=f(i);function i(){return m(this,i),n.apply(this,arguments)}return y(i,[{key:"checkEventOnImp",value:function(t,n,i){return e.checkEventOn(t,n,i)}},{key:"drawImp",value:function(t,n,i){e.draw(t,n,i)}}]),i}(n)}}]),n}(Me);function Re(e,t){var n=e.x-t.x,i=e.y-t.y,a=t.r;return!(n*n+i*i>a*a)}function $e(e,t,n){var i=t.x,a=t.y,r=t.r,o=n.style,s=void 0===o?"fill":o,l=n.color,u=void 0===l?"currentColor":l,c=n.borderSize,d=void 0===c?1:c,h=n.borderColor,v=void 0===h?"currentColor":h,f=n.borderStyle,p=void 0===f?"solid":f,g=n.borderDashedValue,m=void 0===g?[2,2]:g;"fill"!==s&&"stroke_fill"!==n.style||(e.fillStyle=u,e.beginPath(),e.arc(i,a,r,0,2*Math.PI),e.closePath(),e.fill()),"stroke"!==s&&"stroke_fill"!==n.style||(e.strokeStyle=v,e.lineWidth=d,"dashed"===p?e.setLineDash(m):e.setLineDash([]),e.beginPath(),e.arc(i,a,r,0,2*Math.PI),e.closePath(),e.stroke())}var Ne={name:"circle",checkEventOn:Re,draw:function(e,t,n){$e(e,t,n)}};function ze(e,t){for(var n=!1,i=t.coordinates,a=0,r=i.length-1;a<i.length;r=a++)i[a].y>e.y!=i[r].y>e.y&&e.x<(i[r].x-i[a].x)*(e.y-i[a].y)/(i[r].y-i[a].y)+i[a].x&&(n=!n);return n}function Ve(e,t,n){var i=t.coordinates,a=n.style,r=void 0===a?"fill":a,o=n.color,s=void 0===o?"currentColor":o,l=n.borderSize,u=void 0===l?1:l,c=n.borderColor,d=void 0===c?"currentColor":c,h=n.borderStyle,v=void 0===h?"solid":h,f=n.borderDashedValue,p=void 0===f?[2,2]:f;if("fill"===r||"stroke_fill"===n.style){e.fillStyle=s,e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var g=1;g<i.length;g++)e.lineTo(i[g].x,i[g].y);e.closePath(),e.fill()}if("stroke"===r||"stroke_fill"===n.style){e.strokeStyle=d,e.lineWidth=u,"dashed"===v?e.setLineDash(p):e.setLineDash([]),e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var m=1;m<i.length;m++)e.lineTo(i[m].x,i[m].y);e.closePath(),e.stroke()}}var je={name:"polygon",checkEventOn:ze,draw:function(e,t,n){Ve(e,t,n)}};function We(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function Ye(e,t,n){var i=t.x,a=t.y,r=t.width,o=t.height,s=n.style,l=void 0===s?"fill":s,u=n.color,c=void 0===u?"currentColor":u,d=n.borderSize,h=void 0===d?1:d,v=n.borderColor,f=void 0===v?"currentColor":v,p=n.borderStyle,g=void 0===p?"solid":p,m=n.borderRadius,y=void 0===m?0:m,_=n.borderDashedValue,x=void 0===_?[2,2]:_;"fill"!==l&&"stroke_fill"!==n.style||(e.fillStyle=c,e.beginPath(),e.moveTo(i+y,a),e.arcTo(i+r,a,i+r,a+o,y),e.arcTo(i+r,a+o,i,a+o,y),e.arcTo(i,a+o,i,a,y),e.arcTo(i,a,i+r,a,y),e.closePath(),e.fill()),"stroke"!==l&&"stroke_fill"!==n.style||(e.strokeStyle=f,e.lineWidth=h,"dashed"===g?e.setLineDash(x):e.setLineDash([]),e.beginPath(),e.moveTo(i+y,a),e.arcTo(i+r,a,i+r,a+o,y),e.arcTo(i+r,a+o,i,a+o,y),e.arcTo(i,a+o,i,a,y),e.arcTo(i,a,i+r,a,y),e.closePath(),e.stroke())}var He={name:"rect",checkEventOn:We,draw:function(e,t,n){Ye(e,t,n)}};function Xe(e,t,n){var i=t.size,a=void 0===i?12:i,r=t.paddingLeft,o=void 0===r?0:r,s=t.paddingTop,l=void 0===s?0:s,u=t.paddingRight,c=void 0===u?0:u,d=t.paddingBottom,h=void 0===d?0:d,v=e.x,f=e.y,p=e.text,g=e.align,m=void 0===g?"left":g,y=e.baseline,_=void 0===y?"top":y,x=p.length;n=null!=n?n:a*x;var b,w,k=a;switch(m){case"left":case"start":b=v;break;case"right":case"end":b=v-c-n-o;break;default:b=v-n/2-o}switch(_){case"top":case"hanging":w=f;break;case"bottom":case"ideographic":case"alphabetic":w=f-k-l-h;break;default:w=f-k/2-l}return{x:b,y:w,width:o+n+c,height:l+k+h}}function Ge(e,t,n){var i=Xe(t,n),a=i.x,r=i.y,o=i.width,s=i.height;return e.x>=a&&e.x<=a+o&&e.y>=r&&e.y<=r+s}function Ue(e,t,n){var i=t.x,a=t.y,r=t.text,o=t.align,s=void 0===o?"left":o,l=t.baseline,u=void 0===l?"top":l,c=n.color,d=void 0===c?"currentColor":c,h=n.size,v=void 0===h?12:h,f=n.family,p=n.weight;e.textAlign=s,e.textBaseline=u,e.font=x(v,p,f),e.fillStyle=d,e.fillText(r,i,a)}var Ke={name:"text",checkEventOn:function(e,t,n){return Ge(e,t,n)},draw:function(e,t,n){Ue(e,t,n)}};function qe(e,t,n){var i=t.text,a=n.size,r=void 0===a?12:a,o=n.family,s=n.weight,l=n.paddingLeft,u=void 0===l?0:l,c=n.paddingTop,h=void 0===c?0:c;e.font=x(r,s,o);var v=Xe(t,n,e.measureText(i).width);Ye(e,v,d(d({},n),{},{color:n.backgroundColor})),Ue(e,{x:v.x+u,y:v.y+h,text:i,align:"left",baseline:"top"},n)}var Ze={name:"rectText",checkEventOn:function(e,t,n){return Ge(e,t,n)},draw:function(e,t,n){qe(e,t,n)}},Je={};[Ne,oe,je,He,Ke,Ze].forEach((function(e){Je[e.name]=Be.extend(e)}));var Qe=function(e){v(n,e);var t=f(n);function n(e){var i;return m(this,n),i=t.call(this),i._widget=e,i}return y(n,[{key:"getWidget",value:function(){return this._widget}},{key:"createFigure",value:function(e,t,n,i){var a=function(e){var t;return null!==(t=Je[e])&&void 0!==t?t:null}(e);if(null!==a){var r=new a({name:e,attrs:t,styles:n});if(void 0!==i){for(var o in i)i.hasOwnProperty(o)&&r.registerEvent(o,i[o]);this.addElement(r)}return r}return null}},{key:"draw",value:function(e){this.clear(),this.drawImp(e)}}]),n}(De),et=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this,i=this.getWidget(),a=this.getWidget().getPane(),r=a.getChart(),o=i.getBounding(),s=r.getStyles().grid;if(s.show){e.save(),e.globalCompositeOperation="destination-over";var l=s.horizontal;l.show&&(null===(t=r.getPaneById(fe.XAXIS))||void 0===t?void 0:t.getAxisComponent()).getTicks().forEach((function(t){var i;null===(i=n.createFigure("line",{coordinates:[{x:t.coord,y:0},{x:t.coord,y:o.height}]},l))||void 0===i||i.draw(e)}));var u=s.vertical;u.show&&a.getAxisComponent().getTicks().forEach((function(t){var i;null===(i=n.createFigure("line",{coordinates:[{x:0,y:t.coord},{x:o.width,y:t.coord}]},u))||void 0===i||i.draw(e)})),e.restore()}}}]),n}(Qe),tt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"eachChildren",value:function(e){var t=this.getWidget().getPane().getChart().getChartStore(),n=t.getVisibleDataList(),i=t.getTimeScaleStore().getBarSpace();n.forEach((function(t,n){e(t,i,n)}))}}]),n}(Qe),nt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t=this,n=this.getWidget().getPane(),i=n.getChart().getChartStore(),a=this.getCandleBarOptions(i);if(null!==a){var r=n.getAxisComponent();this.eachChildren((function(n,i){t._drawCandleBar(e,r,n,i,a)}))}}},{key:"getCandleBarOptions",value:function(e){var t=e.getStyles().candle;return{type:t.type,styles:t.bar}}},{key:"_drawCandleBar",value:function(e,t,n,i,a){var r,o=this,s=n.data,l=n.x,u=s.open,c=s.high,d=s.low,h=s.close,v=i.halfGapBar,f=i.gapBar,p=a.type,g=a.styles;r=h>u?g.upColor:h<u?g.downColor:g.noChangeColor;var m=t.convertToPixel(u),y=t.convertToPixel(h),_=[m,y,t.convertToPixel(c),t.convertToPixel(d)];_.sort((function(e,t){return e-t}));var x=Math.max(1,_[2]-_[1]),b=[];"ohlc"!==p?(b.push({name:"rect",attrs:{x:l-.5,y:_[0],width:1,height:_[1]-_[0]},styles:{color:r}}),"candle_stroke"===p||"candle_up_stroke"===p&&u<h||"candle_down_stroke"===p&&u>h?b.push({name:"rect",attrs:{x:l-v+.5,y:_[1],width:f-1,height:x},styles:{style:"stroke",borderColor:r}}):b.push({name:"rect",attrs:{x:l-v,y:_[1],width:f,height:x},styles:{color:r}}),b.push({name:"rect",attrs:{x:l-.5,y:_[2],width:1,height:_[3]-_[2]},styles:{color:r}})):b=[{name:"rect",attrs:{x:l-.5,y:_[0],width:1,height:_[3]-_[0]},styles:{color:r}},{name:"rect",attrs:{x:l-v,y:m,width:v,height:1},styles:{color:r}},{name:"rect",attrs:{x:l,y:y,width:v,height:1},styles:{color:r}}],b.forEach((function(t){var n,i=t.attrs,a=t.styles;null===(n=o.createFigure("rect",i,a))||void 0===n||n.draw(e)}))}}]),n}(tt),it=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getCandleBarOptions",value:function(e){var t=this.getWidget().getPane();if(!t.getAxisComponent().isInCandle()){var n,i=e.getIndicatorStore().getInstances(t.getId()),a=c(i);try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r[1];if(o.shouldOhlc){var s=o.styles,l=e.getStyles().indicator;return{type:"ohlc",styles:{upColor:A(s,"ohlc.upColor",l.ohlc.upColor),downColor:A(s,"ohlc.downColor",l.ohlc.downColor),noChangeColor:A(s,"ohlc.noChangeColor",l.ohlc.noChangeColor)}}}}}catch(u){a.e(u)}finally{a.f()}}return null}},{key:"drawImp",value:function(e){var t,i=this;l(u(n.prototype),"drawImp",this).call(this,e);var a=this.getWidget(),r=a.getPane(),o=r.getChart(),s=a.getBounding(),c=null===(t=o.getPaneById(fe.XAXIS))||void 0===t?void 0:t.getAxisComponent(),d=r.getAxisComponent(),h=o.getChartStore(),v=h.getDataList(),f=h.getTimeScaleStore(),p=f.getVisibleRange(),g=h.getIndicatorStore().getInstances(r.getId()),m=h.getStyles().indicator;g.forEach((function(t){var n,a=!1;if(null!==t.draw&&(e.save(),a=null!==(n=t.draw({ctx:e,kLineDataList:v,indicator:t,visibleRange:p,bounding:s,barSpace:f.getBarSpace(),defaultStyles:m,xAxis:c,yAxis:d}))&&void 0!==n&&n,e.restore()),!a){var r=t.result,o=[],l=[],u=[];i.eachChildren((function(n,a){var s,c=a.halfGapBar,h=a.gapBar,f=n.dataIndex,g=n.x,y=null!==(s=r[f])&&void 0!==s?s:{};j(v,t,f,m,(function(t,n,a,r){var s,v,m,_=y[t.key],x=d.convertToPixel(_);switch(t.type){case"circle":T(_)&&(null===(s=i.createFigure("circle",{x:g,y:x,r:c},{style:n.style,color:n.color,borderColor:n.color}))||void 0===s||s.draw(e));break;case"bar":if(T(_)){var b,w=null!==(v=t.baseValue)&&void 0!==v?v:d.getExtremum().min,k=d.convertToPixel(w),S=Math.abs(k-x);b=x>k?k:S<1?k-1:x,null===(m=i.createFigure("rect",{x:g-c,y:b,width:h,height:S},{style:n.style,color:n.color,borderColor:n.color}))||void 0===m||m.draw(e)}break;case"line":var C=null;if(T(_)){C=n;var E={x:g,y:x},I=o[r];T(l[r])||(l[r]=[]),l[r].push(E),T(I)&&((null==I?void 0:I.color)!==n.color||(null==I?void 0:I.style)!==n.style)&&(u.push({name:"line",attrs:{coordinates:l[r]},styles:{style:n.style,color:n.color,size:a.size,smooth:a.smooth,dashedValue:a.dashedValue}}),l[r]=[E]),f===p.to-1&&u.push({name:"line",attrs:{coordinates:l[r]},styles:{style:n.style,color:null==n?void 0:n.color,size:a.size,smooth:a.smooth,dashedValue:a.dashedValue}})}o[r]=C;break}}))})),u.forEach((function(t){var n,a=t.attrs,r=t.styles;null===(n=i.createFigure("line",a,r))||void 0===n||n.draw(e)}))}}))}}]),n}(nt),at=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t=this.getWidget(),n=t.getPane(),i=t.getBounding(),a=t.getPane().getChart().getChartStore(),r=a.getCrosshairStore().get(),o=a.getStyles().crosshair;if(void 0!==r.paneId&&o.show){if(r.paneId===n.getId()){var s=r.y;this._drawLine(e,[{x:0,y:s},{x:i.width,y:s}],o.horizontal)}var l=r.realX;this._drawLine(e,[{x:l,y:0},{x:l,y:i.height}],o.horizontal)}}},{key:"_drawLine",value:function(e,t,n){var i;if(n.show){var a=n.line;a.show&&(null===(i=this.createFigure("line",{coordinates:t},a))||void 0===i||i.draw(e))}}}]),n}(Qe),rt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t=this.getWidget(),n=t.getPane(),i=n.getChart().getChartStore(),a=i.getCrosshairStore().get();if(void 0!==a.kLineData){var r=t.getBounding(),o=i.getCustomApi(),s=i.getIndicatorStore().getInstances(n.getId()),l=i.getStyles().indicator;this.drawIndicatorTooltip(e,i.getDataList(),a,s,o,r,l)}}},{key:"drawIndicatorTooltip",value:function(e,t,n,i,a,r,o,s){var l=this,u=o.tooltip,c=0;if(this.isDrawTooltip(n,u)){var d=u.text,h=d.marginLeft,v=d.marginRight,f=d.size,p=d.weight,g=d.family,m=null!=s?s:0;e.font=x(f,p,g),i.forEach((function(i){var s,y=l.getIndicatorTooltipData(t,n,i,a,o),_=y.name,x=y.calcParamsText,b=y.values,w=void 0!==_&&_.length>0,k=void 0!==b&&b.length>0,S=0;if(w||k){if(m+=d.marginTop,c+=d.marginTop+f+d.marginBottom,w&&u.showName){S+=h;var C=_;void 0!==x&&x.length>0&&u.showParams&&(C="".concat(C).concat(x)),null===(s=l.createFigure("text",{x:S,y:m,text:C},{color:d.color,size:f,family:g,weight:p}))||void 0===s||s.draw(e),S+=e.measureText(C).width+v}if(k){var E=l.drawStandardTooltip(e,r,b,S,m,d);c+=E,m+=E}m+=f+d.marginBottom}}))}return c}},{key:"drawStandardTooltip",value:function(e,t,n,i,a,r){var o=this,s=i,l=a,u=0,c=r.marginLeft,d=r.marginTop,h=r.marginRight,v=r.marginBottom,f=r.size,p=r.family,g=r.weight;return e.font=x(f,g,p),n.forEach((function(n,i){var a,r,m=n.title,y=n.value,_=e.measureText(m.text).width,x=e.measureText(y.text).width;s+c+(_+x)+h>t.width?(s=c,u+=f+d+v,l+=f+d+v):s+=c,null===(a=o.createFigure("text",{x:s,y:l,text:m.text},{color:m.color,size:f,family:p,weight:g}))||void 0===a||a.draw(e),s+=_,null===(r=o.createFigure("text",{x:s,y:l,text:y.text},{color:y.color,size:f,family:p,weight:g}))||void 0===r||r.draw(e),s+=x+h})),u}},{key:"isDrawTooltip",value:function(e,t){var n=t.showRule;return"always"===n||"follow_cross"===n&&void 0!==e.paneId}},{key:"getIndicatorTooltipData",value:function(e,t,n,i,a){var r,o,s;if(null!==n.createTooltipDataSource){var l=this.getWidget(),u=l.getPane(),c=u.getChart().getChartStore(),d=n.createTooltipDataSource({kLineDataList:e,indicator:n,visibleRange:c.getTimeScaleStore().getVisibleRange(),bounding:l.getBounding(),crosshair:t,defaultStyles:a,xAxis:null===(r=u.getChart().getPaneById(fe.XAXIS))||void 0===r?void 0:r.getAxisComponent(),yAxis:u.getAxisComponent()});if(void 0!==d.values){var h=[],v=a.tooltip.text.color;d.values.forEach((function(e){var t={text:"",color:v};E(e.title)?t=e.title:t.text=e.title;var n={text:"",color:v};E(e.value)?n=e.value:n.text=e.value,h.push({title:t,value:n})})),d.values=h}return d}var f=t.dataIndex,p=null!==(o=n.result)&&void 0!==o?o:[],g="",m=n.calcParams;m.length>0&&(g="(".concat(m.join(","),")"));var y=null!==(s=p[f])&&void 0!==s?s:{},_=[];return j(e,n,f,a,(function(e,t){if(void 0!==e.title){var r=t.color,o=y[e.key];T(o)&&(o=L(o,n.precision),n.shouldFormatBigNumber&&(o=i.formatBigNumber(o))),_.push({title:{text:e.title,color:r},value:{text:null!=o?o:a.tooltip.defaultValue,color:r}})}})),{name:n.shortName,calcParamsText:g,values:_}}}]),n}(Qe),ot=function(e){v(n,e);var t=f(n);function n(e){var i;return m(this,n),i=t.call(this,e),i._initEvent(),i}return y(n,[{key:"_initEvent",value:function(){var e=this,t=this.getWidget().getPane(),n=t.getId(),i=t.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",(function(t){var a,r=i.getProgressInstanceInfo();if(null!==r){var o=r.instance;return o.isStart()&&i.updateProgressInstanceInfo(n),o.isDrawing()&&(o.eventMoveForDrawing(e._coordinateToPoint(r.instance,t)),null===(a=o.onDrawing)||void 0===a||a.call(o,d({overlay:o},t))),e._figureMouseMoveEvent(r.instance,"point",r.instance.points.length-1,0)(t)}return i.setHoverInstanceInfo({paneId:n,instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1},t),!1})).registerEvent("touchMouseDownEvent",(function(t){var a,r,o=i.getProgressInstanceInfo();if(null!==o){var s=o.instance;return s.isStart()&&i.updateProgressInstanceInfo(n,!0),s.isDrawing()&&(s.eventMoveForDrawing(e._coordinateToPoint(s,t)),null===(a=s.onDrawing)||void 0===a||a.call(s,d({overlay:s},t)),s.nextStep(),s.isDrawing()||(i.progressInstanceComplete(),null===(r=s.onDrawEnd)||void 0===r||r.call(s,d({overlay:s},t)))),e._figureTouchMouseDownEvent(s,"point",s.points.length-1,0)(t)}return i.setClickInstanceInfo({paneId:n,instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1},t),!1})).registerEvent("mouseRightClickEvent",(function(t){var n=i.getProgressInstanceInfo();if(null!==n){var a=n.instance;if(a.isDrawing())return e._figureMouseRightClickEvent(a,"point",a.points.length-1,0)(t)}return!1})).registerEvent("touchMouseUpEvent",(function(e){var t,a=i.getPressedInstanceInfo(),r=a.instance;return null!==r&&(null===(t=r.onPressedMoveEnd)||void 0===t||t.call(r,d({overlay:r},e))),i.setPressedInstanceInfo({paneId:n,instance:null,figureType:"none",figureIndex:-1,attrsIndex:-1}),!1})).registerEvent("pressedTouchMouseMoveEvent",(function(t){var n,a,r=i.getPressedInstanceInfo(),o=r.instance,s=r.figureType,l=r.figureIndex;if(null!==o){if(!(o.lock||null!==(a=null===(n=o.onPressedMoving)||void 0===n?void 0:n.call(o,d({overlay:o},t)))&&void 0!==a&&a)){var u=e._coordinateToPoint(o,t);"point"===s?o.eventPressedPointMove(u,l):o.eventPressedOtherMove(u,e.getWidget().getPane().getChart().getChartStore().getTimeScaleStore())}return!0}return!1}))}},{key:"_figureEvents",value:function(e,t,n,i){if(!e.isDrawing())return{mouseMoveEvent:this._figureMouseMoveEvent(e,t,n,i),touchMouseDownEvent:this._figureTouchMouseDownEvent(e,t,n,i),mouseRightClickEvent:this._figureMouseRightClickEvent(e,t,n,i)}}},{key:"_figureMouseMoveEvent",value:function(e,t,n,i){var a=this;return function(r){var o=a.getWidget().getPane();return o.getChart().getChartStore().getOverlayStore().setHoverInstanceInfo({paneId:o.getId(),instance:e,figureType:t,figureIndex:n,attrsIndex:i},r),!0}}},{key:"_figureTouchMouseDownEvent",value:function(e,t,n,i){var a=this;return function(r){var o,s=a.getWidget().getPane(),l=s.getId(),u=s.getChart().getChartStore().getOverlayStore();return e.startPressedMove(a._coordinateToPoint(e,r)),null===(o=e.onPressedMoveStart)||void 0===o||o.call(e,d({overlay:e},r)),u.setPressedInstanceInfo({paneId:l,instance:e,figureType:t,figureIndex:n,attrsIndex:i}),u.setClickInstanceInfo({paneId:l,instance:e,figureType:t,figureIndex:n,attrsIndex:i},r),!0}}},{key:"_figureMouseRightClickEvent",value:function(e,t,n,i){var a=this;return function(t){var n,i;return null!==(i=null===(n=e.onRightClick)||void 0===n?void 0:n.call(e,d({overlay:e},t)))&&void 0!==i&&i||a.getWidget().getPane().getChart().getChartStore().getOverlayStore().removeInstance(e),!0}}},{key:"_coordinateToPoint",value:function(e,t){var n,i,a={},r=this.getWidget().getPane(),o=r.getChart(),s=r.getId(),l=o.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var u=(null===(n=o.getPaneById(fe.XAXIS))||void 0===n?void 0:n.getAxisComponent()).convertFromPixel(t.x),c=null!==(i=l.dataIndexToTimestamp(u))&&void 0!==i?i:void 0;a.dataIndex=u,a.timestamp=c}if(this.coordinateToPointValueFlag()){var d=r.getAxisComponent(),h=d.convertFromPixel(t.y);if("normal"!==e.mode&&s===fe.CANDLE&&void 0!==a.dataIndex){var v=l.getDataByDataIndex(a.dataIndex);if(null!==v)if(h>v.high)if("weak_magnet"===e.mode){var f=d.convertToPixel(v.high);h<d.convertFromPixel(f-8)&&(h=v.high)}else h=v.high;else if(h<v.low)if("weak_magnet"===e.mode){var p=d.convertToPixel(v.low);h>d.convertFromPixel(p-8)&&(h=v.low)}else h=v.low;else{var g=Math.max(v.open,v.close),m=Math.min(v.open,v.close);h=h>g?h-g<v.high-h?g:v.high:h<m?h-v.low<m-h?v.low:m:g-h<h-m?g:m}}a.value=h}return a}},{key:"coordinateToPointValueFlag",value:function(){return!0}},{key:"coordinateToPointTimestampDataIndexFlag",value:function(){return!0}},{key:"dispatchEvent",value:function(e,t){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(e,t):l(u(n.prototype),"dispatchEvent",this).call(this,e,t)}},{key:"checkEventOn",value:function(e){return!0}},{key:"drawImp",value:function(e){var t,n=this,i=this.getWidget(),a=i.getPane(),r=a.getId(),o=a.getChart(),s=a.getAxisComponent(),l=null===(t=o.getPaneById(fe.XAXIS))||void 0===t?void 0:t.getAxisComponent(),u=i.getBounding(),c=o.getChartStore(),d=c.getCustomApi(),h=c.getTimeScaleStore(),v=h.getDateTimeFormat(),f=h.getBarSpace(),p=c.getPrecision(),g=c.getStyles().overlay,m=c.getOverlayStore(),y=m.getHoverInstanceInfo(),_=m.getClickInstanceInfo();this.getCompleteOverlays(m,r).forEach((function(t){n._drawOverlay(e,t,u,f,p,v,d,g,l,s,y,_,h)}));var x=m.getProgressInstanceInfo();if(null!==x){var b=this.getProgressOverlay(x,r);null!==b&&this._drawOverlay(e,b,u,f,p,v,d,g,l,s,y,_,h)}}},{key:"_drawOverlay",value:function(e,t,n,i,a,r,o,s,l,u,c,d,h){var v=t.points,f=v.map((function(e){var t,n,i=e.dataIndex;void 0!==e.timestamp&&(i=h.timestampToDataIndex(e.timestamp));var a={x:0,y:0};return void 0!==i&&(a.x=null!==(t=null==l?void 0:l.convertToPixel(i))&&void 0!==t?t:0),void 0!==e.value&&(a.y=null!==(n=null==u?void 0:u.convertToPixel(e.value))&&void 0!==n?n:0),a}));if(f.length>0){var p=(new Array).concat(this.getFigures(t,f,n,i,a,r,s,l,u));this.drawFigures(e,t,p,s)}this.drawDefaultFigures(e,t,f,n,a,r,o,s,l,u,c,d)}},{key:"drawFigures",value:function(e,t,n,i){var a=this;n.forEach((function(n,r){var o=n.type,s=n.styles,l=n.attrs,u=n.ignoreEvent;[].concat(l).forEach((function(n,l){var c,h,v=void 0!==u&&u?void 0:a._figureEvents(t,"other",r,l),f=d(d(d({},i[o]),null===(c=t.styles)||void 0===c?void 0:c[o]),s);null===(h=a.createFigure(o,n,f,v))||void 0===h||h.draw(e)}))}))}},{key:"getCompleteOverlays",value:function(e,t){return e.getInstances(t)}},{key:"getProgressOverlay",value:function(e,t){return e.paneId===t?e.instance:null}},{key:"getFigures",value:function(e,t,n,i,a,r,o,s,l){var u,c;return null!==(c=null===(u=e.createPointFigures)||void 0===u?void 0:u.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:i,precision:a,dateTimeFormat:r,defaultStyles:o,xAxis:s,yAxis:l}))&&void 0!==c?c:[]}},{key:"drawDefaultFigures",value:function(e,t,n,i,a,r,o,s,l,u,c,h){var v,f,p=this;if(t.needDefaultPointFigure&&((null===(v=c.instance)||void 0===v?void 0:v.id)===t.id&&"none"!==c.figureType||(null===(f=h.instance)||void 0===f?void 0:f.id)===t.id&&"none"!==h.figureType)){var g=t.styles,m=d(d({},s.point),null==g?void 0:g.point);n.forEach((function(n,i){var a,r,o,s=n.x,l=n.y,u=m.radius,d=m.color,h=m.borderColor,v=m.borderSize;(null===(a=c.instance)||void 0===a?void 0:a.id)===t.id&&"point"===c.figureType&&c.figureIndex===i&&(u=m.activeRadius,d=m.activeColor,h=m.activeBorderColor,v=m.activeBorderSize),null===(r=p.createFigure("circle",{x:s,y:l,r:u+v},{color:h},p._figureEvents(t,"point",i,0)))||void 0===r||r.draw(e),null===(o=p.createFigure("circle",{x:s,y:l,r:u},{color:d}))||void 0===o||o.draw(e)}))}}}]),n}(Qe),st=function(e){v(n,e);var t=f(n);function n(e,i){var a;return m(this,n),a=t.call(this,e,i),a._gridView=new et(s(a)),a._indicatorView=new it(s(a)),a._crosshairLineView=new at(s(a)),a._tooltipView=a.createTooltipView(),a._overlayView=new ot(s(a)),a._flingStartTime=(new Date).getTime(),a._flingScrollTimerId=null,a._startScrollCoordinate=null,a._touchCoordinate=null,a._touchCancelCrosshair=!1,a._touchZoomed=!1,a._pinchScale=1,a._prevExtremum=null,a.getEventContainer().style.cursor="crosshair",a}return y(n,[{key:"pinchStartEvent",value:function(){this._pinchScale=1,this._touchZoomed=!0}},{key:"pinchEvent",value:function(e,t){var n=5*(t-this._pinchScale);this._pinchScale=t,this.getPane().getChart().getChartStore().getTimeScaleStore().zoom(n,e)}},{key:"mouseWheelHorizontalEvent",value:function(e){var t=this.getPane().getChart().getChartStore().getTimeScaleStore();t.startScroll(),t.scroll(e)}},{key:"mouseWheelVerticalEvent",value:function(e,t){this.getPane().getChart().getChartStore().getTimeScaleStore().zoom(t,e)}},{key:"pressedMouseMoveEvent",value:function(e){var t=this.getPane(),n=t.getId(),i=t.getChart().getChartStore(),a=i.getCrosshairStore();if(!this.dispatchEvent("pressedTouchMouseMoveEvent",e)&&null!==this._startScrollCoordinate){var r=this.getPane().getAxisComponent();if(null!==this._prevExtremum&&!r.getAutoCalcTickFlag()){var o,s=this._prevExtremum,l=s.min,u=s.max,c=s.range;o=r.isReverse()?this._startScrollCoordinate.y-e.y:e.y-this._startScrollCoordinate.y;var d=c*(o/this.getBounding().height),h=l+d,v=u+d,f=r.convertToRealValue(h),p=r.convertToRealValue(v);r.setExtremum({min:h,max:v,range:v-h,realMin:f,realMax:p,realRange:p-f})}var g=e.x-this._startScrollCoordinate.x;i.getTimeScaleStore().scroll(g)}var m=this.getBounding(),y=m.height,_=m.width;e.x>0&&e.x<_&&e.y>0&&e.y<y&&a.set({x:e.x,y:e.y,paneId:n})}},{key:"mouseUpEvent",value:function(e){this.dispatchEvent("touchMouseUpEvent",e)&&this.getPane().getChart().updatePane(1),this._startScrollCoordinate=null,this._prevExtremum=null}},{key:"mouseDownEvent",value:function(e){this.dispatchEvent("touchMouseDownEvent",e),this._prevExtremum=d({},this.getPane().getAxisComponent().getExtremum()),this._startScrollCoordinate={x:e.x,y:e.y},this.getPane().getChart().getChartStore().getTimeScaleStore().startScroll()}},{key:"mouseRightClickEvent",value:function(e){this.dispatchEvent("mouseRightClickEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"mouseMoveEvent",value:function(e){this.dispatchEvent("mouseMoveEvent",e);var t=this.getPane(),n=t.getChart().getChartStore();n.getDragPaneFlag()||n.getCrosshairStore().set({x:e.x,y:e.y,paneId:t.getId()})}},{key:"mouseLeaveEvent",value:function(e){this.getPane().getChart().getChartStore().getCrosshairStore().set()}},{key:"touchStartEvent",value:function(e){var t=this.getPane(),n=t.getId(),i=t.getChart(),a=i.getChartStore(),r=a.getCrosshairStore();if(this.dispatchEvent("touchMouseDownEvent",e))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,r.set(void 0,!0),void i.updatePane(1);if(null!==this._flingScrollTimerId&&(clearTimeout(this._flingScrollTimerId),this._flingScrollTimerId=null),this._flingStartTime=(new Date).getTime(),this._startScrollCoordinate={x:e.x,y:e.y},a.getTimeScaleStore().startScroll(),this._touchZoomed=!1,null!==this._touchCoordinate){var o=e.x-this._touchCoordinate.x,s=e.y-this._touchCoordinate.y;Math.sqrt(o*o+s*s)<10?(this._touchCoordinate={x:e.x,y:e.y},r.set({x:e.x,y:e.y,paneId:n})):(this._touchCancelCrosshair=!0,this._touchCoordinate=null,r.set())}else this._touchCancelCrosshair=!1}},{key:"tapEvent",value:function(e){if(null===this._touchCoordinate&&!this._touchCancelCrosshair&&!this._touchZoomed){this._touchCoordinate={x:e.x,y:e.y};var t=this.getPane();t.getChart().getChartStore().getCrosshairStore().set({x:e.x,y:e.y,paneId:t.getId()})}}},{key:"_touchEventPaneCrosshair",value:function(e,t){var n=e.getBounding();if(t.y>=0&&t.y<=n.height)return{y:t.y,paneId:e.getId()};if(t.y<0){var i=e.getTopPane();if(null!==i){var a=i.getBounding();return this._touchEventPaneCrosshair(i,{x:t.x,y:a.height+t.y})}}if(t.y>n.height){var r=e.getBottomPane();if(null!==r)return this._touchEventPaneCrosshair(r,{x:t.x,y:t.y-n.height})}return null}},{key:"touchMoveEvent",value:function(e){var t=this.getPane(),n=t.getChart();if(this.dispatchEvent("pressedTouchMouseMoveEvent",e))return e.preventDefault(),void n.updatePane(1);var i,a=n.getChartStore();if(null!==this._touchCoordinate){e.preventDefault();var r=this.getBounding(),o=r.width;if(e.x>0&&e.x<o){var s=this._touchEventPaneCrosshair(t,e);null!==s&&(this._touchCoordinate={x:e.x,y:e.y},i=d({x:e.x},s))}a.getCrosshairStore().set(i)}else if(null!==this._startScrollCoordinate&&Math.abs(this._startScrollCoordinate.x-e.x)>this._startScrollCoordinate.y-e.y){var l=e.x-this._startScrollCoordinate.x;a.getTimeScaleStore().scroll(l)}}},{key:"touchEndEvent",value:function(e){var t=this;if(this.dispatchEvent("touchMouseUpEvent",e),null!==this._startScrollCoordinate){var n=(new Date).getTime()-this._flingStartTime,i=(e.x-this._startScrollCoordinate.x)/(n>0?n:1)*20;if(n<200&&Math.abs(i)>0){var a=this.getPane().getChart().getChartStore().getTimeScaleStore();(function e(){t._flingScrollTimerId=setTimeout((function(){a.startScroll(),a.scroll(i),i*=.975,Math.abs(i)<1?null!==t._flingScrollTimerId&&(clearTimeout(t._flingScrollTimerId),t._flingScrollTimerId=null):e()}),20)})()}}}},{key:"longTapEvent",value:function(e){this._touchCoordinate={x:e.x,y:e.y};var t=this.getPane();this.getPane().getChart().getChartStore().getCrosshairStore().set({x:e.x,y:e.y,paneId:t.getId()})}},{key:"dispatchEvent",value:function(e,t){return this._overlayView.dispatchEvent(e,t)}},{key:"updateMain",value:function(e){this.updateMainContent(e),this._indicatorView.draw(e),this._gridView.draw(e)}},{key:"createTooltipView",value:function(){return new rt(this)}},{key:"updateMainContent",value:function(e){}},{key:"updateOverlay",value:function(e){this._overlayView.draw(e),this._crosshairLineView.draw(e),this._tooltipView.draw(e)}}]),n}(Oe),lt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n,i=this.getWidget(),a=i.getPane(),r=a.getChart(),o=a.getChart().getChartStore(),s=i.getBounding(),l=a.getAxisComponent(),u=o.getTimeScaleStore().getBarSpace(),c=r.getStyles().candle.area,d=[],h=[],v=Number.MAX_SAFE_INTEGER;this.eachChildren((function(e,t,n){var i=e.data,a=e.x,r=t.halfGapBar,o=i[c.value];if(I(o)){var u=l.convertToPixel(o);if(0===n){var f=a-r;h.push({x:f,y:s.height}),h.push({x:f,y:u}),d.push({x:f,y:u})}d.push({x:a,y:u}),h.push({x:a,y:u}),v=Math.min(v,u)}}));var f=h.length;if(f>0){var p=h[f-1],g=p.x+u.halfGapBar;d.push({x:g,y:p.y}),h.push({x:g,y:p.y}),h.push({x:g,y:s.height})}if(d.length>0&&(null===(t=this.createFigure("line",{coordinates:d},{color:c.lineColor,size:c.lineSize}))||void 0===t||t.draw(e)),h.length>0){var m,y=c.backgroundColor;if(S(y)){var _=e.createLinearGradient(0,s.height,0,v);try{y.forEach((function(e){var t=e.offset,n=e.color;_.addColorStop(t,n)}))}catch(e){}m=_}else m=y;null===(n=this.createFigure("polygon",{coordinates:h},{color:m}))||void 0===n||n.draw(e)}}}]),n}(tt),ut=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t=this.getWidget().getPane(),n=t.getChart().getChartStore(),i=n.getStyles().candle.priceMark,a=i.high,r=i.low;if(i.show&&(a.show||r.show)){var o=n.getPrecision(),s=t.getAxisComponent(),l=Number.MIN_SAFE_INTEGER,u=0,c=Number.MAX_SAFE_INTEGER,d=0;this.eachChildren((function(e,t,n){var i=e.data,a=e.x;l<i.high&&(l=i.high,u=a),c>i.low&&(c=i.low,d=a)}));var h=s.convertToPixel(l),v=s.convertToPixel(c);a.show&&l!==Number.MIN_SAFE_INTEGER&&this._drawMark(e,L(l,o.price),{x:u,y:h},h<v?[-2,-5]:[2,5],a),r.show&&c!==Number.MAX_SAFE_INTEGER&&this._drawMark(e,L(c,o.price),{x:d,y:v},h<v?[2,5]:[-2,-5],r)}}},{key:"_drawMark",value:function(e,t,n,i,a){var r,o,s,l,u,c,d=n.x,h=n.y+i[0];null===(r=this.createFigure("line",{coordinates:[{x:d-2,y:h+i[0]},{x:d,y:h},{x:d+2,y:h+i[0]}]},{color:a.color}))||void 0===r||r.draw(e);var v=this.getWidget().getBounding(),f=v.width;d>f/2?(l=d-5,u=l-a.textOffset,c="right"):(l=d+5,c="left",u=l+a.textOffset);var p=h+i[1];null===(o=this.createFigure("line",{coordinates:[{x:d,y:h},{x:d,y:p},{x:l,y:p}]},{color:a.color}))||void 0===o||o.draw(e),null===(s=this.createFigure("text",{x:u,y:p,text:t,align:c,baseline:"middle"},{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}))||void 0===s||s.draw(e)}}]),n}(tt),ct=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this.getWidget(),i=n.getPane(),a=n.getBounding(),r=i.getChart().getChartStore(),o=r.getStyles().candle.priceMark,s=o.last,l=s.line;if(o.show&&s.show&&l.show){var u=i.getAxisComponent(),c=r.getDataList(),d=c[c.length-1];if(null!=d){var h,v=d.close,f=d.open,p=u.convertToNicePixel(v);h=v>f?s.upColor:v<f?s.downColor:s.noChangeColor,null===(t=this.createFigure("line",{coordinates:[{x:0,y:p},{x:a.width,y:p}]},{style:l.style,color:h,size:l.size,dashedValue:l.dashedValue}))||void 0===t||t.draw(e)}}}}]),n}(Qe),dt={"zh-CN":{time:"时间：",open:"开：",high:"高：",low:"低：",close:"收：",volume:"成交量："},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: "}};function ht(e,t){var n,i;return null!==(i=null===(n=dt[t])||void 0===n?void 0:n[e])&&void 0!==i?i:e}var vt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this.getWidget(),i=n.getPane(),a=i.getChart().getChartStore(),r=a.getCrosshairStore().get();if(void 0!==r.kLineData){var o=n.getBounding(),s=null===(t=i.getYAxisWidget())||void 0===t?void 0:t.getBounding(),l=a.getDataList(),u=a.getPrecision(),c=a.getLocale(),d=a.getCustomApi(),h=a.getIndicatorStore().getInstances(i.getId()),v=a.getTimeScaleStore().getDateTimeFormat(),f=a.getStyles(),p=f.candle,g=f.indicator;if("rect"===p.tooltip.showType&&"rect"===g.tooltip.showType){var m=this.isDrawTooltip(r,p.tooltip),y=this.isDrawTooltip(r,g.tooltip);this._drawRectTooltip(e,l,h,o,s,r,u,v,c,d,m,y,f,0)}else if("standard"===p.tooltip.showType&&"standard"===g.tooltip.showType){var _=this._drawCandleStandardTooltip(e,o,r,u,v,c,d,p);this.drawIndicatorTooltip(e,l,r,h,d,o,g,_)}else if("rect"===p.tooltip.showType&&"standard"===g.tooltip.showType){var x=this.drawIndicatorTooltip(e,l,r,h,d,o,g,0),b=this.isDrawTooltip(r,p.tooltip);this._drawRectTooltip(e,l,h,o,s,r,u,v,c,d,b,!1,f,x)}else{var w=this._drawCandleStandardTooltip(e,o,r,u,v,c,d,p),k=this.isDrawTooltip(r,g.tooltip);this._drawRectTooltip(e,l,h,o,s,r,u,v,c,d,!1,k,f,w)}}}},{key:"_drawCandleStandardTooltip",value:function(e,t,n,i,a,r,o,s){var l=s.tooltip,u=l.text,c=0;if(this.isDrawTooltip(n,l)){var d=this._getCandleTooltipData(n.kLineData,i,a,r,o,s);d.length>0&&(c+=u.marginTop+u.size+u.marginBottom,c+=this.drawStandardTooltip(e,t,d,0,u.marginTop,u))}return c}},{key:"_drawRectTooltip",value:function(e,t,n,i,a,r,o,s,l,u,c,d,h,v){var f,p,g=this,m=h.candle,y=h.indicator,_=m.tooltip,b=y.tooltip;if(c||d){var w=this._getCandleTooltipData(r.kLineData,o,s,l,u,m),k=_.text,S=k.marginLeft,C=k.marginRight,E=k.marginTop,I=k.marginBottom,T=k.size,P=k.weight,M=k.family,D=_.rect,A=D.paddingLeft,F=D.paddingRight,L=D.paddingTop,O=D.paddingBottom,B=D.offsetLeft,R=D.offsetRight,$=D.offsetTop,N=D.borderSize,z=D.borderRadius,V=D.borderColor,j=D.color,W=0,Y=0,H=0;c&&(e.font=x(T,P,M),w.forEach((function(t){var n=t.title,i=t.value,a="".concat(n.text).concat(i.text),r=e.measureText(a).width+S+C;W=Math.max(W,r)})),H+=(I+E+T)*w.length);var X=b.text,G=X.marginLeft,U=X.marginRight,K=X.marginTop,q=X.marginBottom,Z=X.size,J=X.weight,Q=X.family,ee=[];if(d&&(e.font=x(Z,J,Q),n.forEach((function(n){var i,a=null!==(i=g.getIndicatorTooltipData(t,r,n,u,y).values)&&void 0!==i?i:[];ee.push(a),a.forEach((function(t){var n=t.title,i=t.value,a="".concat(n.text).concat(i.text),r=e.measureText(a).width+G+U;W=Math.max(W,r),H+=K+q+Z}))}))),Y+=W,0!==Y&&0!==H){Y+=2*N+A+F,H+=2*N+L+O;var te,ne=i.width/2;(null!==(f=r.realX)&&void 0!==f?f:0)<ne?(te=i.width-R-Y,h.yAxis.inside&&"right"===h.yAxis.position&&(te-=a.width)):(te=B,h.yAxis.inside&&"left"===h.yAxis.position&&(te+=a.width));var ie=v+$;null===(p=this.createFigure("rect",{x:te,y:ie,width:Y,height:H},{style:"stroke_fill",color:j,borderColor:V,borderSize:N,borderRadius:z}))||void 0===p||p.draw(e);var ae=te+N+A+S,re=ie+N+L;if(c&&w.forEach((function(t){var n,i;re+=E;var a=t.title;null===(n=g.createFigure("text",{x:ae,y:re,text:a.text},{color:a.color,size:T,family:M,weight:P}))||void 0===n||n.draw(e);var r=t.value;null===(i=g.createFigure("text",{x:te+Y-N-C-F,y:re,text:r.text,align:"right"},{color:r.color,size:T,family:M,weight:P}))||void 0===i||i.draw(e),re+=T+I})),d){var oe=te+N+A+G;ee.forEach((function(t){t.forEach((function(t){var n,i;re+=K;var a=t.title,r=t.value;null===(n=g.createFigure("text",{x:oe,y:re,text:a.text},{color:a.color,size:Z,family:Q,weight:J}))||void 0===n||n.draw(e),null===(i=g.createFigure("text",{x:te+Y-N-U-F,y:re,text:r.text,align:"right"},{color:r.color,size:Z,family:Q,weight:J}))||void 0===i||i.draw(e),re+=Z+q}))}))}}}}},{key:"_getCandleTooltipData",value:function(e,t,n,i,a,r){var o,s,l,u=r.tooltip,c=u.text.color,d=[];if(C(u.custom))(null!==(s=null===(o=u.custom)||void 0===o?void 0:o.call(u,e,r))&&void 0!==s?s:[]).forEach((function(e){var t=e.title,n=e.value,a={text:"",color:""};E(t)?a=t:(a.text=t,a.color=c),a.text=ht(a.text,i);var r={text:"",color:""};E(n)?r=n:(r.text=n,r.color=c),d.push({title:a,value:r})}));else{var h=t.price,v=t.volume;d=[{title:{text:ht("time",i),color:c},value:{text:a.formatDate(n,e.timestamp,"YYYY-MM-DD HH:mm",0),color:c}},{title:{text:ht("open",i),color:c},value:{text:L(e.open,h),color:c}},{title:{text:ht("high",i),color:c},value:{text:L(e.high,h),color:c}},{title:{text:ht("low",i),color:c},value:{text:L(e.low,h),color:c}},{title:{text:ht("close",i),color:c},value:{text:L(e.close,h),color:c}},{title:{text:ht("volume",i),color:c},value:{text:a.formatBigNumber(L(null!==(l=e.volume)&&void 0!==l?l:u.defaultValue,v)),color:c}}]}return d}}]),n}(rt),ft=function(e){v(n,e);var t=f(n);function n(){var e;return m(this,n),e=t.apply(this,arguments),e._candleBarView=new nt(s(e)),e._candleAreaView=new lt(s(e)),e._candleHighLowPriceView=new ut(s(e)),e._candleLastPriceLineView=new ct(s(e)),e}return y(n,[{key:"updateMainContent",value:function(e){"area"!==this.getPane().getChart().getStyles().candle.type?(this._candleBarView.draw(e),this._candleHighLowPriceView.draw(e),this._candleLastPriceLineView.draw(e)):this._candleAreaView.draw(e)}},{key:"createTooltipView",value:function(){return new vt(this)}}]),n}(st);function pt(e,t){var n=0;return function(){var i=Date.now();i-n>(null!=t?t:20)&&(e.apply(this,arguments),n=i)}}var gt=function(e){v(n,e);var t=f(n);function n(){var e;return m(this,n),e=t.apply(this,arguments),e._dragFlag=!1,e._dragStartY=0,e._topPaneHeight=0,e._currentPaneHeight=0,e.touchMoveEvent=pt(e._pressedTouchMouseMoveEvent,20),e.pressedMouseMoveEvent=pt(e._pressedTouchMouseMoveEvent,20),e}return y(n,[{key:"getEventContainer",value:function(){return this._moveDom}},{key:"getEventOptions",value:function(){return{treatVertTouchDragAsPageScroll:function(){return!1},treatHorzTouchDragAsPageScroll:function(){return!0}}}},{key:"touchStartEvent",value:function(e){this.mouseDownEvent(e)}},{key:"touchEndEvent",value:function(){this.mouseUpEvent()}},{key:"mouseDownEvent",value:function(e){var t,n;this._dragFlag=!0,this._dragStartY=e.pageY;var i=this.getPane();this._topPaneHeight=null!==(n=null===(t=i.getTopPane())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,this._currentPaneHeight=i.getBounding().height}},{key:"mouseUpEvent",value:function(){this.mouseLeaveEvent(),this._dragFlag=!1}},{key:"_pressedTouchMouseMoveEvent",value:function(e){var t=e.pageY-this._dragStartY,n=this.getPane(),i=n.getTopPane(),a=t<0;if(null!==i&&n.getOptions().dragEnabled){var r,o,s,l;a?(r=i,o=n,s=this._topPaneHeight,l=this._currentPaneHeight):(r=n,o=i,s=this._currentPaneHeight,l=this._topPaneHeight);var u=r.getOptions().minHeight;if(s>u){var c=Math.max(s-Math.abs(t),u),d=s-c;r.setBounding({height:c}),o.setBounding({height:l+d});var h=n.getChart();h.getChartStore().getActionStore().execute("onPaneDrag",{paneId:n.getId}),h.adjustPaneViewport(!1,!0,!0,!0,!0)}}}},{key:"mouseEnterEvent",value:function(){var e=this.getPane();if(e.getOptions().dragEnabled){var t=e.getChart(),n=t.getStyles().separator;this._moveDom.style.background=n.activeBackgroundColor;var i=t.getChartStore();i.setDragPaneFlag(!0),i.getCrosshairStore().set()}}},{key:"mouseLeaveEvent",value:function(){this._dragFlag||(this._moveDom.style.background="",this.getPane().getChart().getChartStore().setDragPaneFlag(!1))}},{key:"getContainerStyle",value:function(){return{margin:"0",padding:"0",position:"relative",boxSizing:"border-box"}}},{key:"insertBefore",value:function(){return!0}},{key:"initDom",value:function(e){this._moveDom=a("div",{width:"100%",height:"7px",margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"}),e.appendChild(this._moveDom)}},{key:"updateImp",value:function(e,t,n){if(4===e||2===e){var i=this.getPane().getChart().getStyles().separator;this._moveDom.style.top=-Math.floor((7-i.size)/2)+"px";var a=i.fill;t.style.backgroundColor=i.color,t.style.height="".concat(i.size,"px"),t.style.marginLeft="".concat(a?0:n.left,"px"),t.style.width=a?"100%":"".concat(n.width,"px")}}},{key:"getImage",value:function(){var e=this.getPane().getChart().getStyles().separator,t=this.getContainer().offsetWidth,n=e.size,i=a("canvas",{width:"".concat(t,"px"),height:"".concat(n,"px"),boxSizing:"border-box"}),o=i.getContext("2d"),s=r(i);return i.width=t*s,i.height=n*s,o.scale(s,s),o.fillStyle=e.color,o.fillRect(this.getBounding().left,0,t,n),i}}]),n}(Ae),mt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this,i=this.getWidget(),a=i.getPane(),r=i.getBounding(),o=a.getAxisComponent(),s=this.getAxisStyles(a.getChart().getStyles());if(s.show){s.axisLine.show&&(null===(t=this.createFigure("line",this.createAxisLine(r,s),s.axisLine))||void 0===t||t.draw(e));var l=o.getTicks();s.tickLine.show&&this.createTickLines(l,r,s).forEach((function(t){var i;null===(i=n.createFigure("line",t,s.tickLine))||void 0===i||i.draw(e)})),s.tickText.show&&this.createTickTexts(l,r,s).forEach((function(t){var i;null===(i=n.createFigure("text",t,s.tickText))||void 0===i||i.draw(e)}))}}}]),n}(Qe),yt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getAxisStyles",value:function(e){return e.yAxis}},{key:"createAxisLine",value:function(e,t){var n,i=this.getWidget().getPane().getAxisComponent(),a=t.axisLine.size;return n=i.isFromZero()?a/2:e.width-a,{coordinates:[{x:n,y:0},{x:n,y:e.height}]}}},{key:"createTickLines",value:function(e,t,n){var i=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,r=n.tickLine,o=0,s=0;return i.isFromZero()?(o=0,a.show&&(o+=a.size),s=o+r.length):(o=t.width,a.show&&(o-=a.size),s=o-r.length),e.map((function(e){return{coordinates:[{x:o,y:e.coord},{x:s,y:e.coord}]}}))}},{key:"createTickTexts",value:function(e,t,n){var i=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,r=n.tickLine,o=n.tickText,s=0;i.isFromZero()?(s=o.marginStart,a.show&&(s+=a.size),r.show&&(s+=r.length)):(s=t.width-o.marginEnd,a.show&&(s-=a.size),r.show&&(s-=r.length));var l=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return e.map((function(e){return{x:s,y:e.coord,text:e.text,align:l,baseline:"middle"}}))}}]),n}(mt),_t=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this.getWidget(),i=n.getPane(),a=n.getBounding(),r=i.getChart().getChartStore(),o=r.getStyles().candle.priceMark,s=o.last,l=s.text;if(o.show&&s.show&&l.show){var u=r.getPrecision(),c=i.getAxisComponent(),h=r.getDataList(),v=r.getVisibleDataList(),f=h[h.length-1];if(void 0!==f){var p,g,m,y,_=f.close,x=f.open,b=c.convertToNicePixel(_);if(p=_>x?s.upColor:_<x?s.downColor:s.noChangeColor,"percentage"===c.getType()){var w=v[0].data.close;g="".concat(((_-w)/w*100).toFixed(2),"%")}else g=L(_,u.price);c.isFromZero()?(m=0,y="left"):(m=a.width,y="right"),null===(t=this.createFigure("rectText",{x:m,y:b,text:g,align:y,baseline:"middle"},d(d({},l),{},{backgroundColor:p})))||void 0===t||t.draw(e)}}}}]),n}(Qe),xt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t=this,n=this.getWidget(),i=n.getPane(),a=n.getBounding(),r=i.getChart().getChartStore(),o=r.getCustomApi(),s=r.getStyles().indicator,l=s.lastValueMark,u=l.text;if(l.show){var c=i.getAxisComponent(),h=r.getDataList(),v=h.length-1;r.getIndicatorStore().getInstances(i.getId()).forEach((function(n){var i=n.result[v];if(void 0!==i){var r=n.precision;j(h,n,v,s,(function(s,l){var h,v=i[s.key];if(T(v)){var f,p,g=c.convertToNicePixel(v),m=L(v,r);n.shouldFormatBigNumber&&(m=o.formatBigNumber(m)),c.isFromZero()?(f=0,p="left"):(f=a.width,p="right"),null===(h=t.createFigure("rectText",{x:f,y:g,text:m,align:p,baseline:"middle"},d(d({},u),{},{backgroundColor:l.color})))||void 0===h||h.draw(e)}}))}}))}}}]),n}(Qe),bt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"coordinateToPointTimestampDataIndexFlag",value:function(){return!1}},{key:"drawDefaultFigures",value:function(e,t,n,i,a,r,o,s,l,u,c,d){this.drawFigures(e,t,this.getDefaultFigures(t,n,i,a,r,o,l,u,d),s)}},{key:"getDefaultFigures",value:function(e,t,n,i,a,r,o,s,l){var u,c,d=[];if(e.needDefaultYAxisFigure&&e.id===(null===(u=l.instance)||void 0===u?void 0:u.id)&&l.paneId===this.getWidget().getPane().getId()){var h,v,f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;null!==(c=null==s?void 0:s.isFromZero())&&void 0!==c&&c?(h="left",v=0):(h="right",v=n.width),t.forEach((function(t,n){var a=e.points[n];if(void 0!==a.value){f=Math.min(f,t.y),p=Math.max(p,t.y);var r=L(a.value,i.price);d.push({type:"rectText",attrs:{x:v,y:t.y,text:r,align:h,baseline:"middle"},ignoreEvent:!0})}})),t.length>1&&d.unshift({type:"rect",attrs:{x:0,y:f,width:n.width,height:p-f},ignoreEvent:!0})}return d}},{key:"getFigures",value:function(e,t,n,i,a,r,o,s,l){var u,c;return null!==(c=null===(u=e.createYAxisFigures)||void 0===u?void 0:u.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:i,precision:a,dateTimeFormat:r,defaultStyles:o,xAxis:s,yAxis:l}))&&void 0!==c?c:[]}}]),n}(ot),wt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"drawImp",value:function(e){var t,n=this.getWidget(),i=n.getPane(),a=n.getBounding(),r=n.getPane().getChart().getChartStore(),o=r.getCrosshairStore().get(),s=r.getStyles().crosshair;if(void 0!==o.paneId&&void 0!==o.kLineData&&this.checkPaneId(o,i.getId())&&s.show){var l=this.getDirectionStyles(s),u=l.text;if(l.show&&u.show){var c=i.getAxisComponent(),d=this.getText(o,r,c);e.font=x(u.size,u.weight,u.family),null===(t=this.createFigure("rectText",this.getTextAttrs(d,e.measureText(d).width,o,a,c,u),u))||void 0===t||t.draw(e)}}}},{key:"checkPaneId",value:function(e,t){return e.paneId===t}},{key:"getDirectionStyles",value:function(e){return e.horizontal}},{key:"getText",value:function(e,t,n){var i,a,r,o=n,s=n.convertFromPixel(e.y);if("percentage"===o.getType()){var l=null!==(a=null===(i=t.getVisibleDataList()[0])||void 0===i?void 0:i.data)&&void 0!==a?a:{};r="".concat(((s-l.close)/l.close*100).toFixed(2),"%")}else{var u=t.getIndicatorStore().getInstances(e.paneId),c=0,d=!1;o.isInCandle()?c=t.getPrecision().price:u.forEach((function(e){c=Math.max(e.precision,c),d||(d=e.shouldFormatBigNumber)})),r=L(s,c),d&&(r=t.getCustomApi().formatBigNumber(r))}return r}},{key:"getTextAttrs",value:function(e,t,n,i,a,r){var o,s;return a.isFromZero()?(o=0,s="left"):(o=i.width,s="right"),{x:o,y:n.y,text:e,align:s,baseline:"middle"}}}]),n}(Qe),kt=function(e){v(n,e);var t=f(n);function n(e,i){var a;return m(this,n),a=t.call(this,e,i),a._yAxisView=new yt(s(a)),a._candleLastPriceLabelView=new _t(s(a)),a._indicatorLastValueView=new xt(s(a)),a._overlayYAxisView=new bt(s(a)),a._crosshairHorizontalLabelView=new wt(s(a)),a._prevExtremum=null,a._startScaleDistance=0,a.getEventContainer().style.cursor="ns-resize",a}return y(n,[{key:"getEventOptions",value:function(){return{treatVertTouchDragAsPageScroll:function(){return!1},treatHorzTouchDragAsPageScroll:function(){return!0}}}},{key:"mouseUpEvent",value:function(e){this.dispatchEvent("touchMouseUpEvent",e)&&this.getPane().getChart().updatePane(1),this._prevExtremum=null,this._startScaleDistance=0}},{key:"mouseRightClickEvent",value:function(e){this.dispatchEvent("mouseRightClickEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"mouseDownEvent",value:function(e){this.dispatchEvent("touchMouseDownEvent",e)&&this.getPane().getChart().updatePane(1),this._prevExtremum=d({},this.getPane().getAxisComponent().getExtremum()),this._startScaleDistance=e.y}},{key:"mouseMoveEvent",value:function(e){this.dispatchEvent("mouseMoveEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"pressedMouseMoveEvent",value:function(e){var t=this.getPane(),n=t.getChart();if(this.dispatchEvent("pressedTouchMouseMoveEvent",e))n.updatePane(1);else{var i=this.getBounding();if(null!==this._prevExtremum&&e.x>0&&e.x<i.width&&e.y>0&&e.y<i.height){var a=this._prevExtremum,r=a.min,o=a.max,s=a.range,l=s*(e.y/this._startScaleDistance),u=(l-s)/2,c=r-u,d=o+u,h=t.getAxisComponent(),v=h.convertToRealValue(c),f=h.convertToRealValue(d);h.setExtremum({min:c,max:d,range:l,realMin:v,realMax:f,realRange:f-v}),n.adjustPaneViewport(!1,!0,!0,!0)}}}},{key:"mouseDoubleClickEvent",value:function(e){var t=this.getPane(),n=t.getAxisComponent();n.getAutoCalcTickFlag()||(n.setAutoCalcTickFlag(!0),t.getChart().adjustPaneViewport(!1,!0,!0,!0))}},{key:"touchStartEvent",value:function(e){this.dispatchEvent("touchMouseDownEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"touchMoveEvent",value:function(e){this.dispatchEvent("pressedTouchMouseMoveEvent",e)&&(e.preventDefault(),this.getPane().getChart().updatePane(1))}},{key:"touchEndEvent",value:function(e){this.dispatchEvent("touchMouseUpEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"dispatchEvent",value:function(e,t){return this._overlayYAxisView.dispatchEvent(e,t)}},{key:"updateMain",value:function(e){this._yAxisView.draw(e),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(e),this._indicatorLastValueView.draw(e)}},{key:"updateOverlay",value:function(e){this._overlayYAxisView.draw(e),this._crosshairHorizontalLabelView.draw(e)}}]),n}(Oe),St=function(){function e(t){m(this,e),this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=t}return y(e,[{key:"getParent",value:function(){return this._parent}},{key:"buildTicks",value:function(e){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),!(this._prevExtremum.min===this._extremum.min&&this._prevExtremum.max===this._extremum.max&&!e)&&(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0)}},{key:"getTicks",value:function(){return this._ticks}},{key:"setExtremum",value:function(e){this._autoCalcTickFlag=!1,this._extremum=e}},{key:"getExtremum",value:function(){return this._extremum}},{key:"setAutoCalcTickFlag",value:function(e){this._autoCalcTickFlag=e}},{key:"getAutoCalcTickFlag",value:function(){return this._autoCalcTickFlag}},{key:"_calcTicks",value:function(){var e=this._extremum,t=e.realMin,n=e.realMax,i=e.realRange,a=[];if(i>=0){var r=this._calcTickInterval(i),s=o(r,2),l=s[0],u=s[1],c=R(Math.ceil(t/l)*l,u),d=R(Math.floor(n/l)*l,u),h=0,v=c;if(0!==l)for(;v<=d;){var f=v.toFixed(u);a[h]={text:f,coord:0,value:f},++h,v+=l}}return a}},{key:"_calcTickInterval",value:function(e){var t=function(e){var t,n=Math.floor(N(e)),i=z(n),a=e/i;return t=a<1.5?1:a<2.5?2:a<3.5?3:a<4.5?4:a<5.5?5:a<6.5?6:8,e=t*i,n>=-20?+e.toFixed(n<0?-n:0):e}(e/8);return[t,function(e){var t=e.toString(),n=t.indexOf("e");if(n>0){var i=+t.slice(n+1);return i<0?-i:0}var a=t.indexOf(".");return a<0?0:t.length-1-a}(t)]}}]),e}(),Ct=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"calcExtremum",value:function(){var e,t,n,i,a,r=this.getParent(),o=r.getChart(),s=o.getChartStore(),l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,c=[],d=!1,h=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;s.getIndicatorStore().getInstances(r.getId()).forEach((function(e){var t,n,i;d||(d=null!==(t=e.shouldOhlc)&&void 0!==t&&t),f=Math.min(f,e.precision),null!==e.minValue&&(h=Math.min(h,e.minValue)),null!==e.maxValue&&(v=Math.max(v,e.maxValue)),c.push({figures:null!==(n=e.figures)&&void 0!==n?n:[],result:null!==(i=e.result)&&void 0!==i?i:[]})}));var p=4,g=this.isInCandle();if(g){var m=s.getPrecision(),y=m.price;p=f!==Number.MAX_SAFE_INTEGER?Math.min(f,y):y}else f!==Number.MAX_SAFE_INTEGER&&(p=f);var _=s.getVisibleDataList(),x=o.getStyles().candle,b="area"===x.type,w=x.area.value,k=g&&!b||!g&&d;_.forEach((function(e){var t=e.dataIndex,n=e.data;k&&(l=Math.min(l,n.low),u=Math.max(u,n.high)),g&&b&&(l=Math.min(l,n[w]),u=Math.max(u,n[w])),c.forEach((function(e){var n,i=e.figures,a=e.result,r=null!==(n=a[t])&&void 0!==n?n:{};i.forEach((function(e){var t=r[e.key];T(t)&&(l=Math.min(l,t),u=Math.max(u,t))}))}))})),l!==Number.MAX_SAFE_INTEGER&&u!==Number.MIN_SAFE_INTEGER?(l=Math.min(h,l),u=Math.max(v,u)):(l=0,u=10);var S,C=this.getType();switch(C){case"percentage":var E=null===(e=_[0])||void 0===e?void 0:e.data;void 0!==(null==E?void 0:E.close)&&(l=(l-E.close)/E.close*100,u=(u-E.close)/E.close*100),S=Math.pow(10,-2);break;case"log":l=N(l),u=N(u),S=.05*z(-p);break;default:S=z(-p)}if(l===u||Math.abs(l-u)<S){var I=h===l,P=v===u;l=I?l:P?l-8*S:l-4*S,u=P?u:I?u+8*S:u+4*S}var M=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,D=r.getOptions(),A=D.gap,F=null!==(i=null==A?void 0:A.top)&&void 0!==i?i:.2;F>=1&&(F/=M);var L=null!==(a=null==A?void 0:A.bottom)&&void 0!==a?a:.1;L>=1&&(L/=M);var O,B,R,$=Math.abs(u-l);return l-=$*L,u+=$*F,$=Math.abs(u-l),"log"===C?(O=z(l),B=z(u),R=Math.abs(B-O)):(O=l,B=u,R=$),{min:l,max:u,range:$,realMin:O,realMax:B,realRange:R}}},{key:"_innerConvertToPixel",value:function(e){var t,n,i=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,a=this.getExtremum(),r=a.min,o=a.range,s=(e-r)/o;return this.isReverse()?Math.round(s*i):Math.round((1-s)*i)}},{key:"isInCandle",value:function(){return"candle"===this.getParent().getName()}},{key:"getType",value:function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:"normal"}},{key:"getPosition",value:function(){return this.getParent().getChart().getStyles().yAxis.position}},{key:"isReverse",value:function(){return!!this.isInCandle()&&this.getParent().getChart().getStyles().yAxis.reverse}},{key:"isFromZero",value:function(){var e=this.getParent().getChart().getStyles().yAxis,t=e.inside;return"left"===e.position&&t||"right"===e.position&&!t}},{key:"optimalTicks",value:function(e){var t,n,i=this,a=this.getParent(),r=null!==(n=null===(t=a.getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,o=a.getChart().getChartStore(),s=o.getCustomApi(),l=[],u=this.getType(),c=o.getIndicatorStore().getInstances(a.getId()),d=0,h=!1;this.isInCandle()?d=o.getPrecision().price:c.forEach((function(e){d=Math.max(d,e.precision),h||(h=e.shouldFormatBigNumber)}));var v,f=o.getStyles().xAxis.tickText.size;return e.forEach((function(e){var t,n=e.value,a=i._innerConvertToPixel(+n);switch(u){case"percentage":t="".concat(L(n,2),"%");break;case"log":a=i._innerConvertToPixel(N(+n)),t=L(n,d);break;default:t=L(n,d),h&&(t=s.formatBigNumber(n))}a>f&&a<r-f&&(void 0!==v&&Math.abs(v-a)>2*f||void 0===v)&&(l.push({text:t,coord:a,value:n}),v=a)})),l}},{key:"getAutoSize",value:function(){var e=this.getParent(),t=e.getChart(),n=t.getStyles(),i=n.yAxis,a=i.size;if("auto"!==a)return a;var r=t.getChartStore(),o=r.getCustomApi(),s=0;if(i.show&&(i.axisLine.show&&(s+=i.axisLine.size),i.tickLine.show&&(s+=i.tickLine.length),i.tickText.show)){var l=0;this.getTicks().forEach((function(e){l=Math.max(l,b(e.text,i.tickText.size,i.tickText.weight,i.tickText.family))})),s+=i.tickText.marginStart+i.tickText.marginEnd+l}var u=n.crosshair,c=0;if(u.show&&u.horizontal.show&&u.horizontal.text.show){var d=r.getIndicatorStore().getInstances(e.getId()),h=0,v=!1;d.forEach((function(e){h=Math.max(e.precision,h),v||(v=e.shouldFormatBigNumber)}));var f=2;if("percentage"!==this.getType())if(this.isInCandle()){var p=r.getPrecision(),g=p.price,m=n.indicator.lastValueMark;f=m.show&&m.text.show?Math.max(h,g):g}else f=h;var y=L(this.getExtremum().max,f);v&&(y=o.formatBigNumber(y)),c+=u.horizontal.text.paddingLeft+u.horizontal.text.paddingRight+2*u.horizontal.text.borderSize+b(y,u.horizontal.text.size,u.horizontal.text.weight,u.horizontal.text.family)}return Math.max(s,c)}},{key:"convertFromPixel",value:function(e){var t,n,i,a=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,r=this.getExtremum(),o=r.min,s=r.range,l=(this.isReverse()?e/a:1-e/a)*s+o;switch(this.getType()){case"percentage":var u=null===(i=this.getParent().getChart().getChartStore().getVisibleDataList()[0])||void 0===i?void 0:i.data;return void 0!==(null==u?void 0:u.close)?u.close*l/100+u.close:0;case"log":return z(l);default:return l}}},{key:"convertToRealValue",value:function(e){var t=e;return"log"===this.getType()&&(t=z(e)),t}},{key:"convertToPixel",value:function(e){var t,n=e;switch(this.getType()){case"percentage":var i=null===(t=this.getParent().getChart().getChartStore().getVisibleDataList()[0])||void 0===t?void 0:t.data;void 0!==(null==i?void 0:i.close)&&(n=(e-i.close)/i.close*100);break;case"log":n=N(e);break;default:n=e}return this._innerConvertToPixel(n)}},{key:"convertToNicePixel",value:function(e){var t,n,i=null!==(n=null===(t=this.getParent().getYAxisWidget())||void 0===t?void 0:t.getBounding().height)&&void 0!==n?n:0,a=this.convertToPixel(e);return Math.round(Math.max(.05*i,Math.min(a,.98*i)))}}]),n}(St),Et=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getName",value:function(){return"indicator"}},{key:"createAxisComponent",value:function(){return new Ct(this)}},{key:"createMainWidget",value:function(e){return new st(e,this)}},{key:"createSeparatorWidget",value:function(e){return new gt(e,this)}},{key:"creatYAxisWidget",value:function(e){return new kt(e,this)}}]),n}(pe),It=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getName",value:function(){return"candle"}},{key:"createMainWidget",value:function(e){return new ft(e,this)}},{key:"createSeparatorWidget",value:function(e){return null}}]),n}(Et),Tt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getAxisStyles",value:function(e){return e.xAxis}},{key:"createAxisLine",value:function(e,t){var n=t.axisLine.size/2;return{coordinates:[{x:0,y:n},{x:e.width,y:n}]}}},{key:"createTickLines",value:function(e,t,n){var i=n.tickLine,a=n.axisLine.size;return e.map((function(e){return{coordinates:[{x:e.coord,y:0},{x:e.coord,y:a+i.length}]}}))}},{key:"createTickTexts",value:function(e,t,n){var i=n.tickText,a=n.axisLine.size,r=n.tickLine.length;return e.map((function(e){return{x:e.coord,y:a+r+i.marginStart,text:e.text,align:"center",baseline:"top"}}))}}]),n}(mt),Pt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"coordinateToPointTimestampDataIndexFlag",value:function(){return!0}},{key:"coordinateToPointValueFlag",value:function(){return!1}},{key:"getCompleteOverlays",value:function(e){return e.getInstances()}},{key:"getProgressOverlay",value:function(e){return e.instance}},{key:"getDefaultFigures",value:function(e,t,n,i,a,r,o,s,l){var u,c=[];if(e.needDefaultXAxisFigure&&e.id===(null===(u=l.instance)||void 0===u?void 0:u.id)){var d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;t.forEach((function(t,n){d=Math.min(d,t.x),h=Math.max(h,t.x);var i=e.points[n];if(void 0!==i.timestamp){var o=r.formatDate(a,i.timestamp,"YYYY-MM-DD HH:mm",1);c.push({type:"rectText",attrs:{x:t.x,y:0,text:o,align:"center"},ignoreEvent:!0})}})),t.length>1&&c.unshift({type:"rect",attrs:{x:d,y:0,width:h-d,height:n.height},ignoreEvent:!0})}return c}},{key:"getFigures",value:function(e,t,n,i,a,r,o,s,l){var u,c;return null!==(c=null===(u=e.createXAxisFigures)||void 0===u?void 0:u.call(e,{overlay:e,coordinates:t,bounding:n,barSpace:i,precision:a,dateTimeFormat:r,defaultStyles:o,xAxis:s,yAxis:l}))&&void 0!==c?c:[]}}]),n}(bt),Mt=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"checkPaneId",value:function(e){return e.dataIndex===e.realDataIndex}},{key:"getDirectionStyles",value:function(e){return e.vertical}},{key:"getText",value:function(e,t,n){var i,a=null===(i=e.kLineData)||void 0===i?void 0:i.timestamp;return t.getCustomApi().formatDate(t.getTimeScaleStore().getDateTimeFormat(),a,"YYYY-MM-DD HH:mm",1)}},{key:"getTextAttrs",value:function(e,t,n,i,a,r){var o,s=n.realX;return o=s-t/2-r.paddingLeft<0?r.paddingLeft+t/2:s+t/2+r.paddingRight>i.width?i.width-r.paddingRight-t/2:s,{x:o,y:0,text:e,align:"center",baseline:"top"}}}]),n}(wt),Dt=function(e){v(n,e);var t=f(n);function n(e,i){var a;return m(this,n),a=t.call(this,e,i),a._xAxisView=new Tt(s(a)),a._overlayXAxisView=new Pt(s(a)),a._crosshairVerticalLabelView=new Mt(s(a)),a._startScaleCoordinate=null,a._startScaleDistance=0,a._scale=1,a.getEventContainer().style.cursor="ew-resize",a}return y(n,[{key:"mouseUpEvent",value:function(e){this.dispatchEvent("touchMoseUpEvent",e)&&this.getPane().getChart().updatePane(1),this._startScaleCoordinate=null,this._startScaleDistance=0,this._scale=1}},{key:"mouseMoveEvent",value:function(e){this.dispatchEvent("mouseMoveEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"mouseDownEvent",value:function(e){this.dispatchEvent("touchMouseDownEvent",e)&&this.getPane().getChart().updatePane(1),this._startScaleCoordinate={x:e.x,y:e.y},this._startScaleDistance=e.x}},{key:"mouseRightClickEvent",value:function(e){this.dispatchEvent("mouseRightClickEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"pressedMouseMoveEvent",value:function(e){var t,n=this.getPane().getChart();if(this.dispatchEvent("pressedTouchMouseMoveEvent",e))n.updatePane(1);else{var i=this.getBounding();if(e.x>0&&e.x<i.width&&e.y>0&&e.y<i.height){var a=this._startScaleDistance/e.x,r=10*(a-this._scale);this._scale=a,n.getChartStore().getTimeScaleStore().zoom(r,null!==(t=this._startScaleCoordinate)&&void 0!==t?t:void 0)}}}},{key:"touchStartEvent",value:function(e){this.dispatchEvent("touchMouseDownEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"touchMoveEvent",value:function(e){this.dispatchEvent("pressedTouchMouseMoveEvent",e)&&(e.preventDefault(),this.getPane().getChart().updatePane(1))}},{key:"touchEndEvent",value:function(e){this.dispatchEvent("touchMouseUpEvent",e)&&this.getPane().getChart().updatePane(1)}},{key:"getEventOptions",value:function(){return{treatVertTouchDragAsPageScroll:function(){return!0},treatHorzTouchDragAsPageScroll:function(){return!1}}}},{key:"updateMain",value:function(e){this._xAxisView.draw(e)}},{key:"updateOverlay",value:function(e){this._overlayXAxisView.draw(e),this._crosshairVerticalLabelView.draw(e)}}]),n}(Oe),At=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"calcExtremum",value:function(){var e=this.getParent().getChart().getChartStore(),t=e.getTimeScaleStore().getVisibleRange(),n=t.from,i=t.to,a=i-1,r=i-n;return{min:n,max:a,range:r,realMin:n,realMax:a,realRange:r}}},{key:"optimalTicks",value:function(e){var t,n,i=this.getParent().getChart(),a=i.getChartStore(),r=a.getCustomApi().formatDate,o=[],s=e.length,l=a.getDataList();if(s>0){var u=a.getTimeScaleStore().getDateTimeFormat(),c=i.getStyles().xAxis.tickText,d=b("00-00 00:00",c.size,c.weight,c.family),h=parseInt(e[0].value,10),v=this.convertToPixel(h),f=1;if(s>1){var p=parseInt(e[1].value,10),g=this.convertToPixel(p),m=Math.abs(g-v);m<d&&(f=Math.ceil(d/m))}for(var y=0;y<s;y+=f){var _=parseInt(e[y].value,10),x=l[_].timestamp,w=r(u,x,"HH:mm",2);if(0!==y){var k=l[parseInt(e[y-f].value,10)].timestamp;w=null!==(t=this._optimalTickLabel(r,u,x,k))&&void 0!==t?t:w}var S=this.convertToPixel(_);o.push({text:w,coord:S,value:x})}if(1===o.length)o[0].text=r(u,o[0].value,"YYYY-MM-DD HH:mm",2);else{var C=o[0].value,E=o[1].value;if(void 0!==o[2]){var I=o[2].text;/^[0-9]{2}-[0-9]{2}$/.test(I)?o[0].text=r(u,C,"MM-DD",2):/^[0-9]{4}-[0-9]{2}$/.test(I)?o[0].text=r(u,C,"YYYY-MM",2):/^[0-9]{4}$/.test(I)&&(o[0].text=r(u,C,"YYYY",2))}else o[0].text=null!==(n=this._optimalTickLabel(r,u,C,E))&&void 0!==n?n:o[0].text}}return o}},{key:"_optimalTickLabel",value:function(e,t,n,i){var a=e(t,n,"YYYY",2),r=e(t,n,"YYYY-MM",2),o=e(t,n,"MM-DD",2);return a!==e(t,i,"YYYY",2)?a:r!==e(t,i,"YYYY-MM",2)?r:o!==e(t,i,"MM-DD",2)?o:null}},{key:"getAutoSize",value:function(){var e=this.getParent().getChart().getStyles(),t=e.xAxis,n=t.size;if("auto"!==n)return n;var i=e.crosshair,a=0;t.show&&(t.axisLine.show&&(a+=t.axisLine.size),t.tickLine.show&&(a+=t.tickLine.length),t.tickText.show&&(a+=t.tickText.marginStart+t.tickText.marginEnd+t.tickText.size));var r=0;return i.show&&i.vertical.show&&i.vertical.text.show&&(r+=i.vertical.text.paddingTop+i.vertical.text.paddingBottom+2*i.vertical.text.borderSize+i.vertical.text.size),Math.max(a,r)}},{key:"convertFromPixel",value:function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(e)}},{key:"convertToPixel",value:function(e){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(e)}}]),n}(St),Ft=function(e){v(n,e);var t=f(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getName",value:function(){return"xAxis"}},{key:"createAxisComponent",value:function(){return new At(this)}},{key:"createMainWidget",value:function(e){return new Dt(e,this)}}]),n}(pe),Lt=function(){function e(t,n){var i=this;m(this,e),this._panes=new Map,this._boundKeyBoardDownEvent=function(e){if(e.shiftKey)switch(e.code){case"Equal":i._chartStore.getTimeScaleStore().zoom(.5);break;case"Minus":i._chartStore.getTimeScaleStore().zoom(-.5);break;case"ArrowLeft":var t=i._chartStore.getTimeScaleStore();t.startScroll(),t.scroll(-3*t.getBarSpace().bar);break;case"ArrowRight":var n=i._chartStore.getTimeScaleStore();n.startScroll(),n.scroll(3*n.getBarSpace().bar);break}},this._initContainer(t),this._chartStore=new be(this,n),this._xAxisPane=new Ft(this._chartContainer,this,fe.XAXIS),this._panes.set(fe.CANDLE,new It(this._chartContainer,this,fe.CANDLE)),this.adjustPaneViewport(!0,!0,!0)}return y(e,[{key:"_initContainer",value:function(e){this._container=e,this._chartContainer=a("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,this._chartContainer.addEventListener("keydown",this._boundKeyBoardDownEvent),e.appendChild(this._chartContainer)}},{key:"_measurePaneHeight",value:function(){var e,t=this._container.offsetHeight,n=this._xAxisPane.getAxisComponent().getAutoSize(),i=t-n;i<0&&(i=0);var a=0;this._panes.forEach((function(e){if(e.getId()!==fe.CANDLE){var t=e.getBounding().height,n=e.getOptions().minHeight;t<n&&(t=n),a+t>i?(a=i,t=Math.max(i-a,0)):a+=t,e.setBounding({height:t})}}));var r=i-a;null===(e=this._panes.get(fe.CANDLE))||void 0===e||e.setBounding({height:r});var o=0;this._panes.forEach((function(e){e.setBounding({top:o}),o+=e.getBounding().height})),this._xAxisPane.setBounding({height:n,top:o})}},{key:"_measurePaneWidth",value:function(){var e=this._chartStore.getStyles().yAxis,t="left"===e.position,n=!e.inside,i=this._container.offsetWidth,a=0,r=Number.MIN_SAFE_INTEGER,o=0,s=0;this._panes.forEach((function(e){r=Math.max(r,e.getAxisComponent().getAutoSize())})),r>i&&(r=i),n?(a=i-r,t?(o=0,s=r):(o=i-r,s=0)):(a=i,s=0,o=t?0:i-r),this._chartStore.getTimeScaleStore().setTotalBarSpace(a);var l={width:i},u={width:a,left:s},c={width:r,left:o};this._panes.forEach((function(e){e.setBounding(l,u,c)})),this._xAxisPane.setBounding(l,u,c)}},{key:"_setPaneOptions",value:function(e,t){var n,i,a=this._panes.get(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""),r=!1;if(void 0!==a){var o=t;if(e.id!==fe.CANDLE&&void 0!==e.height&&e.height>0){var s=Math.max(null!==(i=e.minHeight)&&void 0!==i?i:a.getOptions().minHeight,0),l=Math.max(s,e.height);a.setBounding({height:l}),o=!0,r=!0}a.setOptions(e),o&&this.adjustPaneViewport(r,!0,!0,!0,!0)}}},{key:"getContainer",value:function(){return this._container}},{key:"getChartStore",value:function(){return this._chartStore}},{key:"adjustPaneViewport",value:function(e,t,n,i,a){e&&this._measurePaneHeight();var r=t,o=null!=a&&a;(null!=i&&i||o)&&this._panes.forEach((function(e){var t=e.getAxisComponent().buildTicks(o);r||(r=t)})),r&&this._measurePaneWidth(),null!=n&&n&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))}},{key:"updatePane",value:function(e,t){var n;void 0!==t?null===(n=this.getPaneById(t))||void 0===n||n.update(e):(this._xAxisPane.update(e),this._panes.forEach((function(t){t.update(e)})))}},{key:"getPaneById",value:function(e){var t;return e===fe.XAXIS?this._xAxisPane:null!==(t=this._panes.get(e))&&void 0!==t?t:null}},{key:"crosshairChange",value:function(e){var t=this,n=this._chartStore.getActionStore();if(n.has("onCrosshairChange")){var i={};this._panes.forEach((function(n,a){var r={};t._chartStore.getIndicatorStore().getInstances(a).forEach((function(t){var n,i=t.result;r[t.name]=i[null!==(n=e.dataIndex)&&void 0!==n?n:i.length-1]})),i[a]=r})),void 0!==e.paneId&&n.execute("onCrosshairChange",d(d({},e),{},{indicatorData:i}))}}},{key:"getDom",value:function(e,t){var n,i;if(void 0===e)return this._chartContainer;var a=this.getPaneById(e);if(null!==a)switch(null!=t?t:"root"){case"root":return a.getContainer();case"main":return a.getMainWidget().getContainer();case"yAxis":return null!==(i=null===(n=a.getYAxisWidget())||void 0===n?void 0:n.getContainer())&&void 0!==i?i:null}return null}},{key:"getSize",value:function(e,t){var n,i;if(void 0===e)return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};var a=this.getPaneById(e);if(null!==a)switch(null!=t?t:"root"){case"root":return a.getBounding();case"main":return a.getMainWidget().getBounding();case"yAxis":return null!==(i=null===(n=a.getYAxisWidget())||void 0===n?void 0:n.getBounding())&&void 0!==i?i:null}return null}},{key:"setStyles",value:function(e){var t,n,i;this._chartStore.setOptions({styles:e}),i=P(e)?xe(e):e,void 0!==(null===(t=null==i?void 0:i.yAxis)||void 0===t?void 0:t.type)&&(null===(n=this.getPaneById(fe.CANDLE))||void 0===n||n.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"getStyles",value:function(){return this._chartStore.getStyles()}},{key:"setLocale",value:function(e){this._chartStore.setOptions({locale:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"getLocale",value:function(){return this._chartStore.getLocale()}},{key:"setCustomApi",value:function(e){this._chartStore.setOptions({customApi:e}),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"setPriceVolumePrecision",value:function(e,t){this._chartStore.setPrecision({price:e,volume:t})}},{key:"getPriceVolumePrecision",value:function(){return this._chartStore.getPrecision()}},{key:"setTimezone",value:function(e){this._chartStore.setOptions({timezone:e}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)}},{key:"getTimezone",value:function(){return this._chartStore.getTimeScaleStore().getTimezone()}},{key:"setOffsetRightDistance",value:function(e){this._chartStore.getTimeScaleStore().setOffsetRightDistance(e,!0)}},{key:"setLeftMinVisibleBarCount",value:function(e){e>0&&this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(e))}},{key:"setRightMinVisibleBarCount",value:function(e){e>0&&this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(e))}},{key:"setBarSpace",value:function(e){this._chartStore.getTimeScaleStore().setBarSpace(e)}},{key:"getBarSpace",value:function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar}},{key:"getVisibleRange",value:function(){return this._chartStore.getTimeScaleStore().getVisibleRange()}},{key:"clearData",value:function(){this._chartStore.clearDataList()}},{key:"getDataList",value:function(){return this._chartStore.getDataList()}},{key:"applyNewData",value:function(e,t){this._chartStore.clearDataList(),this.applyMoreData(e,t)}},{key:"applyMoreData",value:function(e,t){var n=this;this._chartStore.addData(e,0,t),this._chartStore.getIndicatorStore().calcInstance().then((function(e){(0===e.length||e.includes(!0))&&n.adjustPaneViewport(!1,!0,!0,!0)})).catch((function(e){}))}},{key:"updateData",value:function(e){var t=this,n=this._chartStore.getDataList(),i=n.length,a=e.timestamp,r=A(n[i-1],"timestamp",0);if(a>=r){var o=i;a===r&&(o=i-1),this._chartStore.addData(e,o),this._chartStore.getIndicatorStore().calcInstance().then((function(e){(0===e.length||e.includes(!0))&&t.adjustPaneViewport(!1,!0,!0,!0)})).catch((function(e){}))}}},{key:"loadMore",value:function(e){this._chartStore.getTimeScaleStore().setLoadMoreCallback(e)}},{key:"createIndicator",value:function(e,t,n,a){var r,o,s,l=this,u=P(e)?{name:e}:e;if(null===K(u.name))return null;if(void 0!==(null==n?void 0:n.id)&&this._panes.has(n.id))s=n.id,this._chartStore.getIndicatorStore().addInstance(u,s,null!=t&&t).then((function(e){var t,i;l._setPaneOptions(n,null!==(i=null===(t=l._panes.get(s))||void 0===t?void 0:t.getAxisComponent().buildTicks(!0))&&void 0!==i&&i)})).catch((function(e){}));else{s=null!==(r=null==n?void 0:n.id)&&void 0!==r?r:i(fe.INDICATOR);var c=Array.from(this._panes.values()).pop(),d=new Et(this._chartContainer,this,s,c);c.setBottomPane(d);var h=null!==(o=null==n?void 0:n.height)&&void 0!==o?o:100;d.setBounding({height:h}),null!=n&&d.setOptions(n),this._panes.set(s,d),this._chartStore.getIndicatorStore().addInstance(u,s,null!=t&&t).finally((function(){l.adjustPaneViewport(!0,!0,!0,!0,!0),null==a||a()}))}return s}},{key:"overrideIndicator",value:function(e,t,n){var i=this;this._chartStore.getIndicatorStore().override(e,null!=t?t:null).then((function(e){e.length>0&&(i.adjustPaneViewport(!1,!0,!0,!0),null==n||n())})).catch((function(){}))}},{key:"getIndicatorByPaneId",value:function(e,t){return this._chartStore.getIndicatorStore().getInstanceByPaneId(e,t)}},{key:"removeIndicator",value:function(e,t){var n=this._chartStore.getIndicatorStore();if(n.removeInstance(e,t)){var i=!1;if(e!==fe.CANDLE&&!n.hasInstances(e)){var a=this._panes.get(e);if(void 0!==a){i=!0;var r=a.getTopPane(),o=a.getBottomPane();null==o||o.setTopPane(r),null==r||r.setBottomPane(o),null==a||a.destroy(),this._panes.delete(e)}}this.adjustPaneViewport(i,!0,!0,!0,!0)}}},{key:"createOverlay",value:function(e,t){var n=P(e)?{name:e}:e;if(null===he(n.name))return null;var i=!0;return void 0!==t&&null!==this.getPaneById(t)||(t=fe.CANDLE,i=!1),this._chartStore.getOverlayStore().addInstance(n,t,i)}},{key:"getOverlayById",value:function(e){return this._chartStore.getOverlayStore().getInstanceById(e)}},{key:"overrideOverlay",value:function(e){this._chartStore.getOverlayStore().override(e)}},{key:"removeOverlay",value:function(e){var t;void 0!==e&&(t=P(e)?{id:e}:e),this._chartStore.getOverlayStore().removeInstance(t)}},{key:"setPaneOptions",value:function(e){this._setPaneOptions(e,!1)}},{key:"setZoomEnabled",value:function(e){this._chartStore.getTimeScaleStore().setZoomEnabled(e)}},{key:"isZoomEnabled",value:function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()}},{key:"setScrollEnabled",value:function(e){this._chartStore.getTimeScaleStore().setScrollEnabled(e)}},{key:"isScrollEnabled",value:function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()}},{key:"scrollByDistance",value:function(e,t){var n=void 0===t||t<0?0:t,i=this._chartStore.getTimeScaleStore();if(n>0){i.startScroll();var a=(new Date).getTime();(function t(){var r=((new Date).getTime()-a)/n,o=r>=1,s=o?e:e*r;i.scroll(s),o||requestAnimationFrame(t)})()}else i.startScroll(),i.scroll(e)}},{key:"scrollToRealTime",value:function(e){var t=this._chartStore.getTimeScaleStore(),n=t.getBarSpace(),i=n.bar,a=(t.getOffsetRightBarCount()-t.getOffsetRightDistance()/i)*i;this.scrollByDistance(a,e)}},{key:"scrollToDataIndex",value:function(e,t){var n=this._chartStore.getTimeScaleStore(),i=(n.getOffsetRightBarCount()+(this.getDataList().length-1-e))*n.getBarSpace().bar;this.scrollByDistance(i,t)}},{key:"scrollToTimestamp",value:function(e,t){var n=B(this.getDataList(),"timestamp",e);this.scrollToDataIndex(n,t)}},{key:"zoomAtCoordinate",value:function(e,t,n){var i=void 0===n||n<0?0:n,a=this._chartStore.getTimeScaleStore();if(i>0){var r=a.getBarSpace(),o=r.bar,s=o*e-o,l=(new Date).getTime();(function e(){var n=((new Date).getTime()-l)/i,r=n>=1,u=r?s:s*n;a.zoom(u/o,t),r||requestAnimationFrame(e)})()}else a.zoom(e,t)}},{key:"zoomAtDataIndex",value:function(e,t,n){var i=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:i,y:0},n)}},{key:"zoomAtTimestamp",value:function(e,t,n){var i=B(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,i,n)}},{key:"convertToPixel",value:function(e,t){var n,i=t.paneId,a=void 0===i?fe.CANDLE:i,r=t.absolute,o=void 0!==r&&r,s=[];if(a!==fe.XAXIS){var l=this.getPaneById(a);if(null!==l){var u=this._chartStore.getTimeScaleStore(),c=l.getBounding(),d=(new Array).concat(e),h=this._xAxisPane.getAxisComponent(),v=l.getAxisComponent();s=d.map((function(e){var t={},n=e.dataIndex;if(void 0!==e.timestamp&&(n=u.timestampToDataIndex(e.timestamp)),void 0!==n&&(t.x=null==h?void 0:h.convertToPixel(n)),void 0!==e.value){var i=null==v?void 0:v.convertToPixel(e.value);t.y=o?c.top+i:i}return t}))}}return S(e)?s:null!==(n=s[0])&&void 0!==n?n:{}}},{key:"convertFromPixel",value:function(e,t){var n,i=t.paneId,a=void 0===i?fe.CANDLE:i,r=t.absolute,o=void 0!==r&&r,s=[];if(a!==fe.XAXIS){var l=this.getPaneById(a);if(null!==l){var u=this._chartStore.getTimeScaleStore(),c=l.getBounding(),d=(new Array).concat(e),h=this._xAxisPane.getAxisComponent(),v=l.getAxisComponent();s=d.map((function(e){var t,n={};if(void 0!==e.x){var i=h.convertFromPixel(e.x);n.dataIndex=i,n.timestamp=null!==(t=u.dataIndexToTimestamp(i))&&void 0!==t?t:void 0}if(void 0!==e.y){var a=o?e.y-c.top:e.y;n.value=v.convertFromPixel(a)}return n}))}}return S(e)?s:null!==(n=s[0])&&void 0!==n?n:{}}},{key:"subscribeAction",value:function(e,t){this._chartStore.getActionStore().subscribe(e,t)}},{key:"unsubscribeAction",value:function(e,t){this._chartStore.getActionStore().unsubscribe(e,t)}},{key:"getConvertPictureUrl",value:function(e,t,n){var i=this._chartContainer.offsetWidth,o=this._chartContainer.offsetHeight,s=a("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),l=s.getContext("2d"),u=r(s);s.width=i*u,s.height=o*u,l.scale(u,u),l.fillStyle=null!=n?n:"#FFFFFF",l.fillRect(0,0,i,o);var c=null!=e&&e;this._panes.forEach((function(e){var t=e.getBounding();l.drawImage(e.getImage(c),0,t.top,i,t.height)}));var d=this._xAxisPane.getBounding();return l.drawImage(this._xAxisPane.getImage(c),0,d.top,i,d.height),s.toDataURL("image/".concat(null!=t?t:"jpeg"))}},{key:"resize",value:function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"destroy",value:function(){this._chartContainer.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._panes.forEach((function(e){e.destroy()})),this._panes.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer)}}]),e}(),Ot={},Bt=1,Rt={clone:k,merge:w,isString:P,isNumber:I,isValid:T,isObject:E,isArray:S,isFunction:C,isBoolean:function(e){return"boolean"==typeof e},formatValue:A,formatPrecision:L,formatBigNumber:O,formatDate:F,getLinearSlopeIntercept:ae,getLinearYFromSlopeIntercept:ne,getLinearYFromCoordinates:ie,checkCoordinateOnArc:function(e,t){if(Math.abs(function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}(e,t)-t.r)<2){var n=t.r,i=t.startAngle,a=t.endAngle,r=n*Math.cos(i)+t.x,o=n*Math.sin(i)+t.y,s=n*Math.cos(a)+t.x,l=n*Math.sin(a)+t.y;return e.x<=Math.max(r,s)+2&&e.x>=Math.min(r,s)-2&&e.y<=Math.max(o,l)+2&&e.y>=Math.min(o,l)-2}return!1},checkCoordinateOnCircle:Re,checkCoordinateOnLine:te,checkCoordinateOnPolygon:ze,checkCoordinateOnRect:We,checkCoordinateOnText:Ge,drawArc:function(e,t,n){var i=t.x,a=t.y,r=t.r,o=t.startAngle,s=t.endAngle,l=n.style,u=void 0===l?"solid":l,c=n.size,d=void 0===c?1:c,h=n.color,v=void 0===h?"currentColor":h,f=n.dashedValue,p=void 0===f?[2,2]:f;e.lineWidth=d,e.strokeStyle=v,"dashed"===u?e.setLineDash(p):e.setLineDash([]),e.beginPath(),e.arc(i,a,r,o,s),e.stroke(),e.closePath()},drawCircle:$e,drawLine:re,drawPolygon:Ve,drawRect:Ye,drawText:Ue,drawRectText:qe};e.dispose=function(e){var t,n;if(P(e)){var i=document.getElementById(e);n=null!==(t=null==i?void 0:i.getAttribute("chartId"))&&void 0!==t?t:null}else n=e instanceof Lt?e.id:null!=e?e:e.chartId;null!==n&&(Ot[n].destroy(),delete Ot[n])},e.getFigureClass=function(e){var t;return null!==(t=Je[e])&&void 0!==t?t:null},e.getSupportFigures=function(){return Object.keys(Je)},e.getSupportIndicators=function(){return Object.keys(G)},e.getSupportLocales=function(){return Object.keys(dt)},e.getSupportedOverlays=function(){return Object.keys(de)},e.init=function(e,t){var n,i;if(i=P(e)?document.getElementById(e):e,null===i)return null;var a=Ot[null!==(n=i.chartId)&&void 0!==n?n:""];if(void 0!==a)return a;var r="k_line_chart_"+Bt++;return a=new Lt(i,t),a.id=r,i.chartId=r,Ot[r]=a,a},e.registerFigure=function(e){Je[e.name]=Be.extend(e)},e.registerIndicator=function(e){G[e.name]=W.extend(e)},e.registerLocale=function(e,t){dt[e]=d(d({},dt[e]),t)},e.registerOverlay=function(e){de[e.name]=J.extend(e)},e.registerStyles=function(e,t){_e[e]=t},e.utils=Rt,e.version=function(){return"9.0.0-alpha6"}}))},"3a7e":function(e,t,n){n("7a76"),n("c9b5"),e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3b47":function(e,t,n){var i=n("e082");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("089fb4ec",i,!0,{sourceMap:!1,shadowMode:!1})},"3b5b":function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c223"),n("aa9c");var a=i(n("3370")),r={name:"u-input",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:function(e){return e}}},watch:{value:{immediate:!0,handler:function(e,t){this.innerValue=e,!1===this.firstChange&&!1===this.changeFromInner&&this.valueChange(),this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear:function(){var e=this.clearable,t=this.readonly,n=this.focused,i=this.innerValue;return!!e&&!t&&!!n&&""!==i},inputClass:function(){var e=[],t=this.border,n=(this.disabled,this.shape);return"surround"===t&&(e=e.concat(["u-border","u-input--radius"])),e.push("u-input--".concat(n)),"bottom"===t&&(e=e.concat(["u-border-bottom","u-input--no-radius"])),e.join(" ")},wrapperStyle:function(){var e={};return this.disabled&&(e.backgroundColor=this.disabledColor),"none"===this.border?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},inputStyle:function(){var e={color:this.color,fontSize:uni.$u.addUnit(this.fontSize),textAlign:this.inputAlign};return e}},methods:{setFormatter:function(e){this.innerFormatter=e},onInput:function(e){var t=this,n=e.detail||{},i=n.value,a=void 0===i?"":i,r=this.formatter||this.innerFormatter,o=r(a);this.innerValue=a,this.$nextTick((function(){t.innerValue=o,t.valueChange()}))},onBlur:function(e){var t=this;this.$emit("blur",e.detail.value),uni.$u.sleep(50).then((function(){t.focused=!1})),uni.$u.formValidate(this,"blur")},onFocus:function(e){this.focused=!0,this.$emit("focus")},onConfirm:function(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange:function(){this.$emit("keyboardheightchange")},valueChange:function(){var e=this,t=this.innerValue;this.$nextTick((function(){e.$emit("input",t),e.changeFromInner=!0,e.$emit("change",t),uni.$u.formValidate(e,"change")}))},onClear:function(){var e=this;this.innerValue="",this.$nextTick((function(){e.valueChange(),e.$emit("clear")}))},clickHandler:function(){}}};t.default=r},"3e63":function(e,t,n){"use strict";var i=n("3b47"),a=n.n(i);a.a},"3e6f":function(e,t,n){"use strict";n.r(t);var i=n("46b5"),a=n("1ceb");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("b495");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"b1c30928",null,!1,i["a"],void 0);t["default"]=s.exports},4085:function(e,t,n){"use strict";var i=n("8bdb"),a=n("85c1");i({global:!0,forced:a.globalThis!==a},{globalThis:a})},4550:function(e,t,n){n("6a54");var i=n("8bcf");e.exports=function(e,t,n){return t=i(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"46b5":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-safe-bottom",class:[!this.isNvue&&"u-safe-area-inset-bottom"],style:[this.style]})},a=[]},"46c5":function(e,t,n){function i(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,a)}n("bf0f"),e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,l,"next",e)}function l(e){i(o,a,r,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},4710:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.inited?n("v-uni-view",{ref:"u-transition",staticClass:"u-transition",class:e.classes,style:[e.mergeStyle],on:{touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.noop.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("default")],2):e._e()},a=[]},"477b":function(e,t,n){var i=n("1ef9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("fa561e42",i,!0,{sourceMap:!1,shadowMode:!1})},"4b8c":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("e838"),n("64aa");var i={name:"place-order",data:function(){return{order_price:[],timeActive:null,priceList:[],priceActive:null,other_money:"",odds:["","",""],warning:!1}},computed:{money:function(){return this.other_money?this.other_money:0},feeRate:function(){return this.info&&this.info.config&&this.info.config.order_charge?parseFloat(this.info.config.order_charge):0},feeAmount:function(){return!this.money||this.feeRate<=0?0:(this.money*this.feeRate/100).toFixed(2)},income:function(){if(!this.timeActive||!this.money)return 0;var e=t(this.money*(this.timeActive.shouyi/100));return t(1*e+1*this.money);function t(e){var t=(1*e).toFixed(3);return t.substring(0,t.length-2)}},lowest:function(){if(!this.timeActive||!this.money)return 0;var e=t(this.money*(this.timeActive.kuisun/100));return t(1*this.money-1*e);function t(e){var t=(1*e).toFixed(3);return t.substring(0,t.length-2)}},infodata:function(){3==this.type&&(this.order_price=["60"])}},props:{show:{type:Boolean,default:!1},info:Object,type:Number,new_price:[Number,String]},watch:{show:function(e){1==e&&(this.order_price=this.info.info.order_price,this.timeActive=this.order_price[0],this.priceList=this.timeActive.prices,this.other_money="",console.log(this.info))}},methods:{timeChoose:function(e){this.timeActive=e,this.priceList=e.prices},fillAllMoney:function(){if(this.feeRate>0){var e=this.info.user.money/(1+this.feeRate/100);this.other_money=Math.floor(100*e)/100}else this.other_money=this.info.user.money},setAllMoney:function(){this.other_money=this.info.user.money},subPlace:function(){if(!this.money||this.money<=0)return uni.showToast({title:this.$t("language.order.money_pla"),icon:"none"});var e=parseFloat(this.money)+parseFloat(this.feeAmount);if(e>parseFloat(this.info.user.money))return this.warning=!0;var t=0,n=0;if(this.info.config&&(t=parseFloat(this.info.config.order_min)||0,n=parseFloat(this.info.config.order_max)||0),(0===t||0===n)&&this.priceList&&this.priceList.length>=2&&(t=t||parseFloat(this.priceList[0]),n=n||parseFloat(this.priceList[this.priceList.length-1])),t>0&&this.money<t)return uni.showToast({title:"最小金额：".concat(t),icon:"none"});if(n>0&&this.money>n)return uni.showToast({title:"最大金额：".concat(n),icon:"none"});var i={order_type:this.type,order_sen:this.timeActive.time,order_price:this.money,order_shouyi:this.timeActive.shouyi,order_kuishun:this.timeActive.kuisun};this.$emit("subTap",i)},open:function(){this.$emit("open")},close:function(){this.$emit("close")}}};t.default=i},"4c05":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{activeColor:{type:String,default:uni.$u.props.lineProgress.activeColor},inactiveColor:{type:String,default:uni.$u.props.lineProgress.color},percentage:{type:[String,Number],default:uni.$u.props.lineProgress.inactiveColor},showText:{type:Boolean,default:uni.$u.props.lineProgress.showText},height:{type:[String,Number],default:uni.$u.props.lineProgress.height}}};t.default=i},"4cf1":function(e,t,n){n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("7a76"),n("c9b5");var i=n("79b7");e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"4db6":function(e,t,n){n("6a54");var i=n("8bcf");function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},5014:function(e,t,n){n("dc8a"),n("01a2"),n("8f71"),n("bf0f"),n("9a2c"),n("aa9c"),n("2797"),n("a644"),n("a03a"),n("6a54");var i=n("4550");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},5119:function(e,t,n){"use strict";var i=n("477b"),a=n.n(i);a.a},"51b9":function(e,t,n){function i(t,n){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t,n)}n("8a8d"),e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"529b":function(e,t,n){var i=n("daba");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("433c9216",i,!0,{sourceMap:!1,shadowMode:!1})},"52ee":function(e,t,n){"use strict";n.r(t);var i=n("ba93"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"56c9":function(e,t,n){n("9e15"),n("884b"),n("01a2"),n("e39c"),n("bf0f"),n("7a76"),n("c9b5"),n("64aa");var i=n("bdbb")["default"];e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"59a6":function(e,t,n){n("7a76"),n("c9b5"),n("6a54");var i=n("51b9");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5a12":function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("bc33")),r=i(n("3370")),o={name:"u--input",mixins:[uni.$u.mpMixin,r.default,uni.$u.mixin],components:{uvInput:a.default}};t.default=o},"5a58":function(e,t,n){"use strict";n.r(t);var i=n("93b0"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"5d37":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-4c9df1fe], uni-scroll-view[data-v-4c9df1fe], uni-swiper-item[data-v-4c9df1fe]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}\n/**\n * vue版本动画内置的动画模式有如下：\n * fade：淡入\n * zoom：缩放\n * fade-zoom：缩放淡入\n * fade-up：上滑淡入\n * fade-down：下滑淡入\n * fade-left：左滑淡入\n * fade-right：右滑淡入\n * slide-up：上滑进入\n * slide-down：下滑进入\n * slide-left：左滑进入\n * slide-right：右滑进入\n */.u-fade-enter-active[data-v-4c9df1fe],\n.u-fade-leave-active[data-v-4c9df1fe]{transition-property:opacity}.u-fade-enter[data-v-4c9df1fe],\n.u-fade-leave-to[data-v-4c9df1fe]{opacity:0}.u-fade-zoom-enter[data-v-4c9df1fe],\n.u-fade-zoom-leave-to[data-v-4c9df1fe]{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}.u-fade-zoom-enter-active[data-v-4c9df1fe],\n.u-fade-zoom-leave-active[data-v-4c9df1fe]{transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.u-fade-down-enter-active[data-v-4c9df1fe],\n.u-fade-down-leave-active[data-v-4c9df1fe],\n.u-fade-left-enter-active[data-v-4c9df1fe],\n.u-fade-left-leave-active[data-v-4c9df1fe],\n.u-fade-right-enter-active[data-v-4c9df1fe],\n.u-fade-right-leave-active[data-v-4c9df1fe],\n.u-fade-up-enter-active[data-v-4c9df1fe],\n.u-fade-up-leave-active[data-v-4c9df1fe]{transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.u-fade-up-enter[data-v-4c9df1fe],\n.u-fade-up-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);opacity:0}.u-fade-down-enter[data-v-4c9df1fe],\n.u-fade-down-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);opacity:0}.u-fade-left-enter[data-v-4c9df1fe],\n.u-fade-left-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);opacity:0}.u-fade-right-enter[data-v-4c9df1fe],\n.u-fade-right-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0}.u-slide-down-enter-active[data-v-4c9df1fe],\n.u-slide-down-leave-active[data-v-4c9df1fe],\n.u-slide-left-enter-active[data-v-4c9df1fe],\n.u-slide-left-leave-active[data-v-4c9df1fe],\n.u-slide-right-enter-active[data-v-4c9df1fe],\n.u-slide-right-leave-active[data-v-4c9df1fe],\n.u-slide-up-enter-active[data-v-4c9df1fe],\n.u-slide-up-leave-active[data-v-4c9df1fe]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-slide-up-enter[data-v-4c9df1fe],\n.u-slide-up-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.u-slide-down-enter[data-v-4c9df1fe],\n.u-slide-down-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.u-slide-left-enter[data-v-4c9df1fe],\n.u-slide-left-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.u-slide-right-enter[data-v-4c9df1fe],\n.u-slide-right-leave-to[data-v-4c9df1fe]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.u-zoom-enter-active[data-v-4c9df1fe],\n.u-zoom-leave-active[data-v-4c9df1fe]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-zoom-enter[data-v-4c9df1fe],\n.u-zoom-leave-to[data-v-4c9df1fe]{-webkit-transform:scale(.95);transform:scale(.95)}',""]),e.exports=t},"5ff4":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{}}},6178:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},6254:function(e,t,n){"use strict";n.r(t);var i=n("da9f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},6581:function(e,t,n){"use strict";n.r(t);var i=n("29aa"),a=n("27cf");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("d3ed");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"eaf31c2c",null,!1,i["a"],void 0);t["default"]=s.exports},"6a42":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-5a885ee4], uni-scroll-view[data-v-5a885ee4], uni-swiper-item[data-v-5a885ee4]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-line-progress[data-v-5a885ee4]{align-items:stretch;position:relative;\ndisplay:flex;\nflex-direction:row;flex:1;overflow:hidden;border-radius:100px}.u-line-progress__background[data-v-5a885ee4]{background-color:#ececec;border-radius:100px;flex:1}.u-line-progress__line[data-v-5a885ee4]{position:absolute;top:0;left:0;bottom:0;align-items:center;\ndisplay:flex;\nflex-direction:row;color:#fff;border-radius:100px;transition:width .5s ease;justify-content:flex-end}.u-line-progress__text[data-v-5a885ee4]{font-size:10px;align-items:center;text-align:right;color:#fff;margin-right:5px;-webkit-transform:scale(.9);transform:scale(.9)}',""]),e.exports=t},"6ee6":function(e,t,n){"use strict";n.r(t);var i=n("1d78"),a=n("ee91");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("de53");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"5d380196",null,!1,i["a"],void 0);t["default"]=s.exports},"709f":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uTransition:n("1239").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-transition",{attrs:{show:e.show,"custom-class":"u-overlay",duration:e.duration,"custom-style":e.overlayStyle},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("default")],2)},r=[]},"723f":function(e,t,n){var i=n("94ba");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("5a05d7b3",i,!0,{sourceMap:!1,shadowMode:!1})},"76cb":function(e,t,n){var i=n("5d37");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("3983b4a9",i,!0,{sourceMap:!1,shadowMode:!1})},"79b7":function(e,t,n){n("f7a5"),n("bf0f"),n("08eb"),n("18f7"),n("5c47"),n("0506");var i=n("e476");e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"7b973":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa");var i={props:{show:{type:Boolean,default:uni.$u.props.popup.show},overlay:{type:Boolean,default:uni.$u.props.popup.overlay},mode:{type:String,default:uni.$u.props.popup.mode},duration:{type:[String,Number],default:uni.$u.props.popup.duration},closeable:{type:Boolean,default:uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$u.props.popup.round},zoom:{type:Boolean,default:uni.$u.props.popup.zoom},bgColor:{type:String,default:uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$u.props.popup.overlayOpacity}}};t.default=i},"7d23":function(e,t,n){"use strict";var i=n("529b"),a=n.n(i);a.a},"815b":function(e,t,n){"use strict";n.r(t);var i=n("35c9"),a=n("5a58");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2175");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"697e4b18",null,!1,i["a"],void 0);t["default"]=s.exports},8198:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("2634")),r=i(n("2fdc"));n("bf0f"),n("c223");i(n("a84a"));var o=function(e){return{enter:"u-".concat(e,"-enter u-").concat(e,"-enter-active"),"enter-to":"u-".concat(e,"-enter-to u-").concat(e,"-enter-active"),leave:"u-".concat(e,"-leave u-").concat(e,"-leave-active"),"leave-to":"u-".concat(e,"-leave-to u-").concat(e,"-leave-active")}},s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var e=this,t=o(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=t.enter,this.$nextTick((0,r.default)((0,a.default)().mark((function n(){return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,uni.$u.sleep(20);case 2:e.$emit("enter"),e.transitionEnded=!1,e.$emit("afterEnter"),e.classes=t["enter-to"];case 6:case"end":return n.stop()}}),n)}))))},vueLeave:function(){var e=this;if(this.display){var t=o(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=t.leave,this.$nextTick((function(){e.transitionEnded=!1,e.$emit("leave"),setTimeout(e.onTransitionEnd,e.duration),e.classes=t["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};t.default=s},"883d":function(e,t,n){n("7a76"),n("c9b5"),e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"8bcf":function(e,t,n){var i=n("bdbb")["default"],a=n("56c9");e.exports=function(e){var t=a(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"8e4d":function(e,t,n){n("7a76"),n("c9b5"),e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"8f92":function(e,t,n){"use strict";n.r(t);var i=n("ac62"),a=n("b7de");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("2f30");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"63bc9907",null,!1,i["a"],void 0);t["default"]=s.exports},"90ff":function(e,t,n){"use strict";n.r(t);var i=n("da0d"),a=n("52ee");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("13c0");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"5a885ee4",null,!1,i["a"],void 0);t["default"]=s.exports},9179:function(e,t,n){"use strict";n.r(t);var i=n("1dbd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},9376:function(e,t,n){n("7a76"),n("c9b5"),e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"93b0":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"m-section",data:function(){return{activeValue:{}}},props:{list:Array,keyName:{type:String,default:"name"},bgColor:[String,Object],inactiveColor:String,activeColor:String},created:function(){this.activeValue=this.list[0]},methods:{sectionChange:function(e){this.activeValue=e,this.$emit("change",e)}}};t.default=i},"94ba":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-safe-bottom[data-v-b1c30928]{width:100%}',""]),e.exports=t},9604:function(e,t,n){"use strict";var i=n("76cb"),a=n.n(i);a.a},"96a5":function(e,t,n){"use strict";n.r(t);var i=n("f1f4"),a=n("0a67");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("321a");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"68e2029f",null,!1,i["a"],void 0);t["default"]=s.exports},"99fb":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.conter-bitter[data-v-68e2029f]{width:100%;height:100px;display:flex;justify-content:space-between;align-items:center;color:#828095;font-size:%?28?%;font-weight:700;overflow:auto;text-align:center}.conter-bitter .flex[data-v-68e2029f]{display:flex;align-items:center;width:100%}.conter-bitter .flex uni-text[data-v-68e2029f]{width:100%;text-align:center;font-size:20px}.conter-kx[data-v-68e2029f]{position:relative;width:100%;height:450px}.conter-kx .conter-dh[data-v-68e2029f]{position:absolute;top:30%;\n  /* 将子元素的上边缘移到父元素的中心位置 */left:50%;\n  /* 将子元素的左边缘移到父元素的中心位置 */-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)\n  /* 将子元素的中心位置移到父元素的中心位置 */}.conet-item[data-v-68e2029f]{display:block;margin-top:%?20?%;width:100%}.conet-item .conet-item-ot[data-v-68e2029f]{width:33.3%;display:flex}.rise[data-v-68e2029f]{color:#26a848}.fall[data-v-68e2029f]{color:#ff0105}.trade-head[data-v-68e2029f]{padding:30px 0;font-weight:600}.trade-head .trade-price[data-v-68e2029f]{font-size:32px;margin-right:.2em}.high-low[data-v-68e2029f]{border:1px solid #333;color:#828095}.high-low > uni-view[data-v-68e2029f]{padding:.5em 0}.high-low > uni-view uni-text[data-v-68e2029f]{margin-left:1em}.high-low > uni-view[data-v-68e2029f]:nth-child(1){border-right:1px solid #333}.kline-nav[data-v-68e2029f]{background-color:#252529}.kline-nav .kline-type[data-v-68e2029f]{width:8em}.kline-nav[data-v-68e2029f]  .u-subsection--button,\n.kline-nav[data-v-68e2029f]  .u-subsection--button__bar{border-radius:.8em!important}.kline-nav[data-v-68e2029f]  .u-subsection--button__bar{background-color:#323237}.trade-pay-list[data-v-68e2029f]{position:fixed;z-index:9;bottom:50px;width:100%;padding:0 15px}.trade-pay-list .u-button[data-v-68e2029f]{margin-right:.5em}.trade-pay-list .u-button[data-v-68e2029f]:last-child{margin:0}',""]),e.exports=t},a362:function(e,t,n){n("7a76"),n("c9b5");var i=n("bdbb")["default"],a=n("3a7e");e.exports=function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a84a:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},a8a8:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uIcon:n("4dc1").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-input",class:e.inputClass,style:[e.wrapperStyle]},[n("v-uni-view",{staticClass:"u-input__content"},[e.prefixIcon||e.$slots.prefix?n("v-uni-view",{staticClass:"u-input__content__prefix-icon"},[e._t("prefix",[n("u-icon",{attrs:{name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle}})])],2):e._e(),n("v-uni-view",{staticClass:"u-input__content__field-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[n("v-uni-input",{staticClass:"u-input__content__field-wrapper__field",style:[e.inputStyle],attrs:{type:e.type,focus:e.focus,cursor:e.cursor,value:e.innerValue,"auto-blur":e.autoBlur,disabled:e.disabled||e.readonly,maxlength:e.maxlength,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":e.placeholderClass,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"hold-keyboard":e.holdKeyboard,"cursor-spacing":e.cursorSpacing,"adjust-position":e.adjustPosition,"selection-end":e.selectionEnd,"selection-start":e.selectionStart,password:e.password||"password"===e.type||void 0},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onBlur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onFocus.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.onkeyboardheightchange.apply(void 0,arguments)}}})],1),e.isShowClear?n("v-uni-view",{staticClass:"u-input__content__clear",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClear.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}})],1):e._e(),e.suffixIcon||e.$slots.suffix?n("v-uni-view",{staticClass:"u-input__content__subfix-icon"},[e._t("suffix",[n("u-icon",{attrs:{name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle}})])],2):e._e()],1)],1)},r=[]},ac62:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uOverlay:n("cfac").default,uTransition:n("1239").default,uStatusBar:n("589c").default,uIcon:n("4dc1").default,uSafeBottom:n("3e6f").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-popup"},[e.overlay?n("u-overlay",{attrs:{show:e.show,duration:e.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.overlayClick.apply(void 0,arguments)}}}):e._e(),n("u-transition",{attrs:{show:e.show,customStyle:e.transitionStyle,mode:e.position,duration:e.duration},on:{afterEnter:function(t){arguments[0]=t=e.$handleEvent(t),e.afterEnter.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"u-popup__content",style:[e.contentStyle],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.noop.apply(void 0,arguments)}}},[e.safeAreaInsetTop?n("u-status-bar"):e._e(),e._t("default"),e.closeable?n("v-uni-view",{staticClass:"u-popup__content__close",class:["u-popup__content__close--"+e.closeIconPos],attrs:{"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"close",color:"#909399",size:"18",bold:!0}})],1):e._e(),e.safeAreaInsetBottom?n("u-safe-bottom"):e._e()],2)],1)],1)},r=[]},ad6b:function(e,t,n){"use strict";n.r(t);var i=n("bbcb"),a=n("2f70");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("3e63");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"b04215c0",null,!1,i["a"],void 0);t["default"]=s.exports},b495:function(e,t,n){"use strict";var i=n("723f"),a=n.n(i);a.a},b5f3:function(e,t,n){"use strict";n.r(t);var i=n("5a12"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},b7de:function(e,t,n){"use strict";n.r(t);var i=n("135a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ba93:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4c05")),r={name:"u-line-progress",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{lineWidth:0}},watch:{percentage:function(e){this.resizeProgressWidth()}},computed:{progressStyle:function(){var e={};return e.width=this.lineWidth,e.backgroundColor=this.activeColor,e.height=uni.$u.addUnit(this.height),e},innserPercentage:function(){return uni.$u.range(0,100,this.percentage)}},mounted:function(){this.init()},methods:{init:function(){var e=this;uni.$u.sleep(20).then((function(){e.resizeProgressWidth()}))},getProgressWidth:function(){return this.$uGetRect(".u-line-progress__background")},resizeProgressWidth:function(){var e=this;this.getProgressWidth().then((function(t){var n=t.width;e.lineWidth=n*e.innserPercentage/100+"px"}))}}};t.default=r},bbcb:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uPopup:n("8f92").default,uIcon:n("4dc1").default,mImage:n("6ee6").default,uButton:n("8f16").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"order-time"},[n("u-popup",{attrs:{show:e.show,customStyle:{width:"80%"},mode:"center",bgColor:"transparent"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)},open:function(t){arguments[0]=t=e.$handleEvent(t),e.open.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"place-wrap"},[n("v-uni-view",{staticClass:"place-title m-flex m-row-right"},[n("u-icon",{attrs:{name:"close",color:"#6d6d6d"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}})],1),0==e.type?n("v-uni-view",{staticClass:"place-content"},[n("v-uni-view",{staticClass:"price-wrap m-flex m-flex-col m-row-center text-center p2"},[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.money_now")))]),n("v-uni-view",{class:e.info.buy_type?"green":"red"},[e._v(e._s(e.newPrice||0))])],1),n("viwe",{staticClass:"price-list m-flex m-col-top text-center"},[n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.direct")))]),n("v-uni-view",{class:e.info.buy_type?"green":"red"},[e._v(e._s(1==e.info.buy_type?e.$t("language.order_time.buy_d"):0==e.info.buy_type?e.$t("language.order_time.buy_u"):e.$t("language.order_time.buy_w")))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.money")))]),n("v-uni-view",[e._v(e._s(e.info.order_price))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.handle_money")))]),n("v-uni-view",[e._v(e._s(e.info.money))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.predict")))]),n("v-uni-view",{class:e.forecastClass},[e._v(e._s(e.forecast>0?e.forecast:-1*e.forecast))])],1)],1)],1):1==e.type?n("v-uni-view",{staticClass:"place-content place-loading m-flex m-row-center"},[n("m-image",{attrs:{src:"/static/images/feiji.png",width:"1.5em"}}),e._v("loading...... ")],1):2==e.type?n("v-uni-view",{staticClass:"place-content place-loading m-flex m-row-center"},[n("m-image",{attrs:{src:"/static/images/cuowu.png",width:"1.5em"}}),n("v-uni-text",{staticClass:"p4"},[e._v(e._s(e.$t("language.order_time.money_emp")))])],1):e._e(),3==e.type?n("v-uni-view",{staticClass:"place-content"},[n("v-uni-view",{staticClass:"deal-money m-flex m-flex-col m-row-center text-center p2"},[n("v-uni-view",{staticClass:"price",class:e.dealMoneyClass},[e._v(e._s(e.$t("language.order_time.symbol"))+e._s(e.dealShouyi))]),n("v-uni-view",[e._v(e._s(e.$t("language.order_time.pre_finish")))])],1),n("viwe",{staticClass:"price-list m-flex m-col-top text-center"},[n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.direct")))]),n("v-uni-view",{class:e.info.buy_type?"green":"red"},[e._v(e._s(e.info.buy_type?e.$t("language.order_time.buy_d"):e.$t("language.order_time.buy_u")))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.money")))]),n("v-uni-view",[e._v(e._s(e.info.order_price))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.handle_money")))]),n("v-uni-view",[e._v(e._s(e.info.money))])],1),n("v-uni-view",[n("v-uni-view",[e._v(e._s(e.$t("language.order_time.deal_money")))]),n("v-uni-view",{class:e.dealMoneyClass},[e._v(e._s(e.dealMoney))])],1)],1)],1):e._e(),n("u-button",{attrs:{color:"#3b7eff",customStyle:{color:"#000"},text:e.$t("language.order_time.btn")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.subPlace.apply(void 0,arguments)}}})],1)],1)],1)},r=[]},bc33:function(e,t,n){"use strict";n.r(t);var i=n("a8a8"),a=n("c200");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("7d23");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"27c844d2",null,!1,i["a"],void 0);t["default"]=s.exports},bdc3:function(e,t,n){var i=n("d3ca");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("9d17d3de",i,!0,{sourceMap:!1,shadowMode:!1})},c200:function(e,t,n){"use strict";n.r(t);var i=n("3b5b"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ca18:function(e,t,n){var i=n("6a42");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("8eb840f2",i,!0,{sourceMap:!1,shadowMode:!1})},cdb7:function(e,t,n){n("bf0f"),n("7996"),n("6a88"),e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},cdd4:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"chart-wrap"},[t("div",{ref:"chart",staticClass:"chart"})])},a=[]},cfac:function(e,t,n){"use strict";n.r(t);var i=n("709f"),a=n("9179");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("5119");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"ed62b646",null,!1,i["a"],void 0);t["default"]=s.exports},d0f5:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uvInput",{attrs:{value:e.value,type:e.type,fixed:e.fixed,disabled:e.disabled,disabledColor:e.disabledColor,clearable:e.clearable,password:e.password,maxlength:e.maxlength,placeholder:e.placeholder,placeholderClass:e.placeholderClass,placeholderStyle:e.placeholderStyle,showWordLimit:e.showWordLimit,confirmType:e.confirmType,confirmHold:e.confirmHold,holdKeyboard:e.holdKeyboard,focus:e.focus,autoBlur:e.autoBlur,disableDefaultPadding:e.disableDefaultPadding,cursor:e.cursor,cursorSpacing:e.cursorSpacing,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,adjustPosition:e.adjustPosition,inputAlign:e.inputAlign,fontSize:e.fontSize,color:e.color,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,suffixIconStyle:e.suffixIconStyle,prefixIconStyle:e.prefixIconStyle,border:e.border,readonly:e.readonly,shape:e.shape,customStyle:e.customStyle,formatter:e.formatter},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("focus")},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("blur")},keyboardheightchange:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("keyboardheightchange")},change:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("change",t)}.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("input",t)}.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),function(t){return e.$emit("confirm",t)}.apply(void 0,arguments)},clear:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("clear")},click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")}}},[e._t("prefix",null,{slot:"prefix"}),e._t("suffix",null,{slot:"suffix"})],2)},a=[]},d189:function(e,t,n){var i=n("e2db"),a=n("2774"),r=n("79b7"),o=n("9376");e.exports=function(e){return i(e)||a(e)||r(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},d341:function(e,t,n){var i=n("99fb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("c9e336aa",i,!0,{sourceMap:!1,shadowMode:!1})},d3ca:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.place-wrap[data-v-eaf31c2c]{background-color:rgba(0,0,0,.8)}.place-wrap .place-title[data-v-eaf31c2c]{position:relative;padding-bottom:.5em;border-bottom:1px solid #fff}.place-wrap .place-title .u-icon[data-v-eaf31c2c]{position:absolute;right:0}.place-wrap .place-label[data-v-eaf31c2c]{color:#b2b0c7;line-height:2}.place-wrap .luobo[data-v-eaf31c2c]{width:100%;height:15px}.place-wrap .luobo2[data-v-eaf31c2c]{width:25%;float:left;text-align:center}.place-wrap .place-nav .place-nav-item[data-v-eaf31c2c]{padding:.5em;border-radius:.5em;border:1px solid #fff;margin-right:1em;margin-bottom:.5em}.place-wrap .place-nav .place-nav-item.active[data-v-eaf31c2c]{background-color:#edd33a;border-color:#edd33a;color:#000}.place-wrap .price-input[data-v-eaf31c2c]{padding-bottom:1.2em}.place-wrap .price-hint[data-v-eaf31c2c]{border-bottom:1px solid #333235}.place-wrap .place-table .m-td[data-v-eaf31c2c]{padding:.5em 0}.place-wrap .place-table .green[data-v-eaf31c2c]{color:#26a848}.place-wrap .place-table .red[data-v-eaf31c2c]{color:#ff0105}.place-wrap .place-table .yellow[data-v-eaf31c2c]{color:#edd33a}.place-wrap .income[data-v-eaf31c2c]{line-height:2;color:#edd33a}.place-wrap .input-wrapper[data-v-eaf31c2c]  .u-input__content__field-wrapper__field{font-size:16px!important;height:45px!important;line-height:45px!important}.place-wrap .input-wrapper[data-v-eaf31c2c]  .u-input{height:45px!important}.place-wrap .input-wrapper[data-v-eaf31c2c]  .u-input__content{height:45px!important;padding:0 10px!important}',""]),e.exports=t},d3ed:function(e,t,n){"use strict";var i=n("bdc3"),a=n.n(i);a.a},d65f:function(e,t,n){var i=n("14bd");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=i(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},da0d:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-line-progress",style:[e.$u.addStyle(e.customStyle)]},[n("v-uni-view",{ref:"u-line-progress__background",staticClass:"u-line-progress__background",style:[{backgroundColor:e.inactiveColor,height:e.$u.addUnit(e.height)}]}),n("v-uni-view",{staticClass:"u-line-progress__line",style:[e.progressStyle]},[e._t("default",[e.showText&&e.percentage>=10?n("v-uni-text",{staticClass:"u-line-progress__text"},[e._v(e._s(e.innserPercentage+"%"))]):e._e()])],2)],1)},a=[]},da9f:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("d4b5"),n("fd3c"),n("c223");var i=n("3a63"),a={name:"m-kline",data:function(){return{chart:null,itemshow:!1}},props:{list:Array,update:Object,type:{type:Number,default:0},time:[String,Number]},watch:{list:function(e,t){var n=this;if(this.chart)this.applyNewData(e);else var i=0,a=setInterval((function(){console.log("数据加载中",e),n.applyNewData(e),(n.chart||i>=3)&&clearInterval(a),i++}),1e3)},update:function(e){var t=this.chart.getDataList(),n=1e3*{1:60,5:300,15:900,30:1800,60:3600,d:86400}[this.time],i=t[t.length-1],a=JSON.parse(JSON.stringify(e));a.timestamp-n<i.timestamp&&(e.timestamp=i.timestamp),this.updateData(e)},type:function(e){var t=this.chart.getStyles();e?(t.candle.type="area",this.chart.removeIndicator("candle_pane","MA")):(t.candle.type="candle_down_stroke",this.chart.createIndicator({name:"MA",calcParams:[1,5,10]},!1,{id:"candle_pane"})),this.chart.setStyles(t)}},mounted:function(){this.klineInit(),this.getitemshow()},methods:{getitemshow:function(){},klineInit:function(){var e=this.$refs.chart,t=n("f4d7");this.chart=(0,i.init)(e,t);var a=this.chart.getStyles();a.grid.show=!1,a.grid.horizontal.color="transparent",a.grid.vertical.color="#ededed2e",a.xAxis.axisLine.color="transparent",a.yAxis.axisLine.color="transparent",a.yAxis.tickLine.color="#ededed2e",a.separator.color="#ededed2e";var r=["red","blue","green"];a.indicator.lines.map((function(e,t){e.smooth=!0,r[t]&&(e.color=r[t])})),a.candle.margin={top:.2,bottom:.2},a.candle.bar={upColor:"#6ed79a",downColor:"#e95b61"},a.candle.area={lineSize:1,lineColor:"#d2c01e",value:"high",backgroundColor:[{offset:0,color:"rgba(110, 215, 154, 0.01)"},{offset:10,color:"rgba(233, 91, 97, 0.2)"}]},a.indicator.tooltip.showRule="none",a.candle.tooltip.custom=function(e){var t=e.close,n=e.high,i=e.low,a=e.open,r=e.timestamp,o=new Date(r),s="".concat(o.getHours(),":").concat(o.getMinutes(),":").concat(o.getSeconds());return[{title:{text:"Time：",color:"#fff"},value:{text:s,color:"#fff"}},{title:"",value:{text:t,color:"red"}},{title:"",value:{text:a,color:"blue"}},{title:"",value:{text:i,color:"green"}},{title:"",value:{text:n,color:"yellow"}}]},a.candle.type="candle_solid",this.chart.setStyles(a),this.chart.setScrollEnabled(!1),this.chart.setBarSpace(6),this.chart.setOffsetRightDistance(10)},applyNewData:function(e){this.chart.applyNewData(e||[]),this.chart.setPriceVolumePrecision(4,4)},updateData:function(e){this.chart.updateData(e)}}};t.default=a},daba:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-27c844d2], uni-scroll-view[data-v-27c844d2], uni-swiper-item[data-v-27c844d2]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-input[data-v-27c844d2]{\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:space-between;flex:1}.u-input--radius[data-v-27c844d2], .u-input--square[data-v-27c844d2]{border-radius:4px}.u-input--no-radius[data-v-27c844d2]{border-radius:0}.u-input--circle[data-v-27c844d2]{border-radius:100px}.u-input__content[data-v-27c844d2]{flex:1;\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:space-between}.u-input__content__field-wrapper[data-v-27c844d2]{position:relative;\ndisplay:flex;\nflex-direction:row;margin:0;flex:1}.u-input__content__field-wrapper__field[data-v-27c844d2]{line-height:26px;text-align:left;color:#303133;height:24px;font-size:15px;flex:1}.u-input__content__clear[data-v-27c844d2]{width:20px;height:20px;border-radius:100px;background-color:#c6c7cb;\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:center;-webkit-transform:scale(.82);transform:scale(.82);margin-left:4px}.u-input__content__subfix-icon[data-v-27c844d2]{margin-left:4px}.u-input__content__prefix-icon[data-v-27c844d2]{margin-right:4px}',""]),e.exports=t},dd7e:function(e,t,n){n("6a54"),n("01a2"),n("e39c"),n("bf0f"),n("844d"),n("18f7"),n("de6c"),n("3872e"),n("4e9b"),n("114e"),n("c240"),n("926e"),n("7a76"),n("c9b5"),n("aa9c"),n("2797"),n("8a8d"),n("dc69"),n("f7a5");var i=n("bdbb")["default"];function a(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(D){d=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,r=Object.create(a.prototype),s=new T(i||[]);return o(r,"_invoke",{value:S(e,n,s)}),r}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}t.wrap=h;var f={};function p(){}function g(){}function m(){}var y={};d(y,l,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==n&&r.call(x,l)&&(y=x);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;o(this,"_invoke",{value:function(a,o){function s(){return new t((function(n,s){(function n(a,o,s,l){var u=v(e[a],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)})(a,o,n,s)}))}return n=n?n.then(s,s):s()}})}function S(e,t,n){var i="suspendedStart";return function(a,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw r;return M()}for(n.method=a,n.arg=r;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=v(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=v(i,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return g.prototype=m,o(b,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=d(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(k.prototype),d(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,a,r){void 0===r&&(r=Promise);var o=new k(h(e,n,i,a),r);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),d(b,c,"Generator"),d(b,l,(function(){return this})),d(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},dda4:function(e,t,n){var i=n("6178"),a=n("17bf"),r=n("79b7"),o=n("8e4d");e.exports=function(e,t){return i(e)||a(e,t)||r(e,t)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},de53:function(e,t,n){"use strict";var i=n("ee4c"),a=n.n(i);a.a},e082:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.place-wrap[data-v-b04215c0]{padding:15px;background-color:rgba(0,0,0,.8);color:#6d6d6d}.place-wrap .place-title[data-v-b04215c0]{padding:.5em 0;border-bottom:1px solid #333235}.place-wrap .place-loading[data-v-b04215c0]{height:166px;color:#fff}.place-wrap .green[data-v-b04215c0]{color:#26a848!important}.place-wrap .red[data-v-b04215c0]{color:#ff0105!important}.place-wrap .yellow[data-v-b04215c0]{color:#edd33a}.place-wrap .price-wrap[data-v-b04215c0]{width:7rem;height:7rem;margin:15px auto;border:2px solid #edd33a;border-radius:50%}.place-wrap .price-wrap .price[data-v-b04215c0]{color:#3b7eff;font-size:32px}.place-wrap .deal-money[data-v-b04215c0]{width:7rem;height:7rem;margin:15px auto}.place-wrap .deal-money .price[data-v-b04215c0]{font-size:32px}.place-wrap .price-list[data-v-b04215c0]{padding:.5em 0;border-top:1px solid #6d6d6d}.place-wrap .price-list > uni-view[data-v-b04215c0]{flex:1;border-right:1px solid #6d6d6d}.place-wrap .price-list > uni-view > uni-view[data-v-b04215c0]:nth-of-type(2){color:#fff}.place-wrap .u-button[data-v-b04215c0]{margin:15px 0}',""]),e.exports=t},e2db:function(e,t,n){var i=n("e476");e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e476:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports["default"]=e.exports},e48c:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5ff4")),r={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};t.default=r},e87f:function(e,t,n){n("bf0f"),n("7996"),n("6be7"),n("9a2c");var i=n("d65f");function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=a=function(e,t,n){var a=i(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},eac8:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9b1b")),r=i(n("2253")),o=i(n("8198")),s={name:"u-transition",data:function(){return{inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}},computed:{mergeStyle:function(){var e=this.viewStyle,t=this.customStyle;return(0,a.default)((0,a.default)({transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.timingFunction},uni.$u.addStyle(t)),e)}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default,r.default],watch:{show:{handler:function(e){e?this.vueEnter():this.vueLeave()},immediate:!0}}};t.default=s},ee4c:function(e,t,n){var i=n("0a2a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("e43b8278",i,!0,{sourceMap:!1,shadowMode:!1})},ee91:function(e,t,n){"use strict";n.r(t);var i=n("0020"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},f042:function(e,t,n){"use strict";var i=n("8bdb"),a=n("e78b");i({target:"Math",stat:!0},{sign:a})},f1a6:function(e,t,n){var i=n("119f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("6481718e",i,!0,{sourceMap:!1,shadowMode:!1})},f1f4:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uLineProgress:n("90ff").default,mSection:n("815b").default,uButton:n("8f16").default,mKline:n("fabc").default,placeOrder:n("6581").default,orderTime:n("ad6b").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"conter-bitter"},[n("v-uni-view",{staticClass:"conet-item"},[e.page_title==e.indexList[0].title?n("v-uni-view",{staticClass:"flex",staticStyle:{"text-align":"center"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTrade(e.indexList[0])}}},[n("v-uni-text",{style:e.page_title==e.indexList[0].title?"color:#fede33;":""},[e._v(e._s(e.indexList[0].title)+" ")])],1):e._e(),e.page_title==e.indexList[1].title?n("v-uni-view",{staticClass:"flex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTrade(e.indexList[1])}}},[n("v-uni-text",{style:e.page_title==e.indexList[1].title?"color:#fede33;":""},[e._v(e._s(e.indexList[1].title))])],1):e._e(),e.page_title==e.indexList[2].title?n("v-uni-view",{staticClass:"flex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTrade(e.indexList[2])}}},[n("v-uni-text",{style:e.page_title==e.indexList[2].title?"color:#fede33;":""},[e._v(e._s(e.indexList[2].title))])],1):e._e(),e.page_title==e.indexList[3].title?n("v-uni-view",{staticClass:"flex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTrade(e.indexList[3])}}},[n("v-uni-text",{style:e.page_title==e.indexList[3].title?"color:#fede33;":""},[e._v(e._s(e.indexList[3].title))])],1):e._e(),e.page_title==e.indexList[4].title?n("v-uni-view",{staticClass:"flex",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toTrade(e.indexList[4])}}},[n("v-uni-text",{style:e.page_title==e.indexList[4].title?"color:#fede33;":""},[e._v(e._s(e.indexList[4].title))])],1):e._e()],1)],1),n("v-uni-view",{staticClass:"trade-head m-flex m-row-center"},[n("v-uni-view",{staticClass:"trade-price rise"},[e._v(e._s(e.prodata_info.now||0))]),n("v-uni-view",{staticClass:"rise"},[n("v-uni-view",[e._v(e._s(e.prodata_info.open||0))]),n("v-uni-text",{staticStyle:{color:"#9a98ad","margin-right":"auto"}}),n("v-uni-text",{staticStyle:{"margin-right":"20rpx"}},[e._v(e._s((e.prodata_info.now*e.randomNum||0).toFixed(2)))])],1)],1),n("v-uni-view",{staticClass:"high-low m-flex text-center"},[n("v-uni-view",{staticClass:"m-flex-1"},[e._v(e._s(e.$t("language.trade.Highest"))),n("v-uni-text",{staticClass:"rise"},[e._v(e._s(e.prodata_info.highest||0))]),n("v-uni-text",{staticStyle:{"margin-left":"40px",color:"#26a848"}},[e._v(e._s((e.random.itemMax||0).toFixed(2)))])],1),n("v-uni-view",{staticClass:"m-flex-1"},[e._v(e._s(e.$t("language.trade.lowest"))),n("v-uni-text",{staticClass:"fall"},[e._v(e._s(e.prodata_info.lowest||0))]),n("v-uni-text",{staticStyle:{"margin-left":"40px",color:"#e45360"}},[e._v(e._s((e.random.itemMin||0).toFixed(2)))])],1)],1),n("u-line-progress",{attrs:{percentage:e.random.max,activeColor:"#26a848",inactiveColor:"#e45360"}},[n("v-uni-text",{staticClass:"u-percentage-slot"})],1),n("v-uni-view",{staticClass:"kline-nav m-flex"},[n("v-uni-view",{staticClass:"m-flex-1"},[n("m-section",{attrs:{list:e.timeList.list,keyName:"name",inactiveColor:"#737373",activeColor:"#edd33a"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.timeChange.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"trade-pay-list m-flex m-row-between"},[n("u-button",{staticStyle:{"background-color":"#e45360",flex:"1","margin-right":"10px"},attrs:{type:"",text:this.$t("language.trade.buy_up")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.buyTap(0)}}}),n("u-button",{staticStyle:{"background-color":"#0ecb80",flex:"1"},attrs:{type:"",text:this.$t("language.trade.buy_short")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.buyTap(1)}}})],1),n("v-uni-view",{staticClass:"conter-kx"},[n("m-kline",{attrs:{type:e.klineType.active,time:e.timeList.active,list:e.kline_list,update:e.kline_update}})],1),n("place-order",{attrs:{show:e.placeInfo.show,type:e.buy_type,info:e.placeInfo.info,new_price:e.prodata_info.now,placeInfo:e.placeInfo},on:{subTap:function(t){arguments[0]=t=e.$handleEvent(t),e.payOrder.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.placeInfo.show=!1}}}),n("order-time",{attrs:{type:e.orderInfo.type,show:e.orderInfo.show,info:e.orderInfo.info,"new-price":e.prodata_info.now},on:{loading:function(t){arguments[0]=t=e.$handleEvent(t),e.orderLoading.apply(void 0,arguments)},close:function(t){arguments[0]=t=e.$handleEvent(t),e.orderInfo.show=!1}}})],1)},r=[]},f33d:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("fd3c"),n("aa9c"),n("c223");var a=i(n("2634")),r=i(n("2fdc")),o=n("1291"),s={computed:{randomNum:function(){return Math.floor(901*Math.random())+100},random:function(){var e=Math.floor(100*Math.random()),t=Math.floor(20*Math.random()),n=100-e,i=e/100*this.prodata_info.now,a=n/100*this.prodata_info.now;return{max:40+t,min:n,itemMax:i,itemMin:a}},indexList:function(){return uni.getStorageSync("storage_key")}},data:function(){return{itemshow:!1,products:"",page_title:"",klineType:{list:[{name:this.$t("language.trade.K_line")},{name:this.$t("language.trade.fluctuation")}],active:0},timeList:{list:[{name:this.$t("language.trade.f_minutes"),value:5},{name:this.$t("language.trade.ft_minutes"),value:15},{name:this.$t("language.trade.tt_minutes"),value:30},{name:this.$t("language.trade.o_hour"),value:60},{name:this.$t("language.trade.o_day"),value:"d"}],active:1},placeInfo:{show:!1,info:{}},orderInfo:{show:!1,type:0,info:{}},buy_type:0,trade_pid:"",prodata_info:{},prodate_time:null,kline_list:[],kline_update:{},kline_time:null}},onShow:function(){var e=this,t=uni.getStorageSync("trade_pid");t?(this.trade_pid=t.id,this.page_title=t.title,this.getKlineList()):(this.getTradePid(),console.log("没有缓存")),setTimeout((function(){e.itemshow=!0}),2e3)},onHide:function(){clearInterval(this.kline_time),clearInterval(this.prodate_time),this.kline_time&&this.prodate_time||this.myClearInterval()},mounted:function(){},methods:{toTrade:function(e){this.$Router.pushTab("/pages/trade/trade"),uni.setStorageSync("trade_pid",{id:e.id,title:e.title}),location.reload()},getTradePid:function(){var e=this;(0,o.getProducts)().then((function(t){console.log(t);for(var n=0;n<t.data.length;n++){var i=t.data[n];if(0==i.isdelete)return console.log(i.id),e.page_title=i.title,e.trade_pid=i.id,void e.getKlineList()}}))},myGetProducts:function(){var e=this;(0,o.getProducts)().then(function(){var t=(0,r.default)((0,a.default)().mark((function t(n){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.products=n.data;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},buyTap:function(e){var t=this;uni.showLoading(),this.buy_type=e;var n=uni.getStorageSync("uid");(0,o.getGoods)({params:{uid:n,id:this.trade_pid}}).then((function(e){t.placeInfo.info=e.data,uni.hideLoading(),t.placeInfo.show=!0}))},payOrder:function(e){var t=this;this.placeInfo.show=!1,this.orderInfo.type=0;var n=e;n.uid=uni.getStorageSync("uid"),n.order_pid=this.trade_pid,n.newprice=this.prodata_info.now,console.log("交易信息",n),(0,o.addorder)(n).then((function(e){console.log("交易数据",e),uni.showToast({title:e.info,icon:"none"}),1==e.code&&(t.orderInfo.info={buy_type:n.order_type,money:e.data.buyprice,order_price:n.order_price,time:n.order_sen,price:t.prodata_info.Price,shouyi:n.order_shouyi,kuisun:n.order_kuishun},console.log(t.orderInfo.info),t.orderInfo.show=!0)}))},orderLoading:function(e){this.orderInfo.type=e},getProdata:function(){var e=this;this.prodate_time=setInterval((function(){(0,o.getprodata)({params:{pid:e.trade_pid}}).then((function(t){e.prodata_info=t.data}))}),1e3)},getKlineList:function(){var e=this;(0,o.getkdata)({params:{pid:this.trade_pid,interval:this.timeList.active}}).then((function(t){console.log("k线图数据",t);var n=[];t.data.items.map((function(e){n.push({timestamp:1e3*e[0],open:e[1],close:e[2],low:e[3],high:e[4]})}));var i=t.data.topdata,a=i.topdata,r=i.open,s=i.lowest,l=i.highest,u=i.close,c=i.now;n.push({timestamp:1e3*a,open:1*r,close:1*u,low:1*s,high:1*l,volume:1*c}),e.kline_list=n,clearInterval(e.kline_time),clearInterval(e.prodate_time),e.kline_time&&e.prodate_time||e.myClearInterval(),e.getProdata(),e.kline_time=setInterval((function(){(0,o.getkdata)({params:{pid:e.trade_pid,interval:e.timeList.active,num:1}}).then((function(t){var n=t.data.items[0];e.kline_update={timestamp:1e3*n[0],open:n[1],close:n[2],low:n[3],high:n[4]}}))}),1e3)}))},klineTypeChange:function(e){this.klineType.active=e},timeChange:function(e){console.log(e),this.timeList.active=e.value,this.getKlineList()},myClearInterval:function(e){e||(e=1e3);for(var t=0;t<=e;t++)clearInterval(t)},leftClick:function(){uni.switchTab({url:"/pages/index/index"})}}};t.default=s},f4d7:function(e,t){},fabc:function(e,t,n){"use strict";n.r(t);var i=n("cdd4"),a=n("6254");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("3349");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"9777d4ce",null,!1,i["a"],void 0);t["default"]=s.exports},fd98:function(e,t,n){var i=n("fec0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("967d").default;a("6adf7e32",i,!0,{sourceMap:!1,shadowMode:!1})},feb3:function(e,t,n){n("6a88"),n("bf0f"),n("7996");var i=n("14bd"),a=n("cdb7"),r=n("a362");e.exports=function(e){var t=a();return function(){var n,a=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return r(this,n)}},e.exports.__esModule=!0,e.exports["default"]=e.exports},fec0:function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 内边距 */\n/* 外边距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.chart-wrap[data-v-9777d4ce]{position:relative;width:100%}.chart-wrap .chart-block[data-v-9777d4ce]{padding-bottom:109.1787439614%}.chart-wrap .chart[data-v-9777d4ce]{position:absolute;top:0;width:100%;height:300px}.chart-wrap .chart .chart-tag[data-v-9777d4ce]{position:absolute;bottom:0}.chart-wrap .chart .chart-tag > uni-view[data-v-9777d4ce]{margin-left:.5em}.chart-wrap .chart .chart-tag .dea[data-v-9777d4ce]{color:red}.chart-wrap .chart .chart-tag .macd[data-v-9777d4ce]{color:#00f}',""]),e.exports=t}}]);